<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    
    <meta name="author" content="Global Mission Church of Greater Seattle">
    <meta name="copyright" content="Copyright Â© 2026 GMC Seattle. All rights reserved.">
    
    <meta property="og:title" content="G-ALTAR 1314">
    <meta property="og:description" content="The Ear that Hears God's Voice | GMC Seattle">
    <meta property="og:image" content="poster.png">
    
    <title>G-ALTAR 1314</title>
    
    <!-- Firebase SDK (ì˜µì…˜) -->
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-database-compat.js"></script>
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&family=Cinzel:wght@700;900&family=Noto+Serif+KR:wght@600;700&display=swap');

        :root {
            --navy: #1F4788; --navy-dark: #152E5A;
            --gold: #C9A227; --green: #27AE60;
            --bg: #F0F2F5; --text: #333333;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        body { font-family: 'Noto Sans KR', sans-serif; background: var(--bg); color: var(--text); padding-bottom: 90px; }

        header {
            background: linear-gradient(135deg, var(--navy-dark), var(--navy));
            color: white; padding: 15px 20px 25px;
            border-bottom-left-radius: 25px; border-bottom-right-radius: 25px;
            box-shadow: 0 4px 15px rgba(31, 71, 136, 0.3);
        }
        .header-top { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; }
        
        .church-link { 
            text-decoration: none; color: white; display: flex; align-items: center; gap: 10px;
            opacity: 1; transition: opacity 0.2s; max-width: 80%;
        }
        .church-link:active { opacity: 0.7; }
        
        .church-logo {
            width: 45px; height: 45px; object-fit: cover;
            background: white; border-radius: 50%; padding: 0;
            border: 2px solid rgba(255,255,255,0.3);
            box-shadow: 0 2px 8px rgba(0,0,0,0.25);
        }

        .church-name { font-size: 0.75rem; font-weight: 500; letter-spacing: 0.5px; line-height: 1.2; text-shadow: 0 1px 2px rgba(0,0,0,0.3); }
        
        .lang-toggle {
            background: rgba(255,255,255,0.2); border: 1px solid rgba(255,255,255,0.3);
            border-radius: 12px; padding: 5px 12px; font-size: 0.75rem; font-weight: 700; color: white; cursor: pointer; flex-shrink: 0;
        }
        .app-title-box { text-align: center; }
        .main-title { font-family: 'Cinzel', serif; font-size: 1.6rem; font-weight: 900; letter-spacing: 1px; }
        .sub-title { font-size: 0.8rem; opacity: 0.85; }

        .id-card {
            background: rgba(255,255,255,0.15); backdrop-filter: blur(5px);
            border-left: 3px solid var(--gold); margin-top: 15px; padding: 10px 15px;
            border-radius: 0 10px 10px 0; cursor: pointer; position: relative;
        }
        .id-card::after { content: 'âš™ï¸'; position: absolute; right: 10px; top: 50%; transform: translateY(-50%); opacity: 0.7; }
        .role-badge { font-size: 0.65rem; color: var(--gold); font-weight: 800; display: block; text-transform: uppercase; }
        .mokjang-text { font-family: 'Noto Serif KR', serif; font-size: 1.1rem; font-weight: 700; }

        .routine-banner {
            background: white; margin: -15px 15px 15px; border-radius: 15px;
            padding: 15px; box-shadow: 0 4px 10px rgba(0,0,0,0.05); text-align: center; position: relative; z-index: 10;
        }
        .routine-grid { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 5px; }
        .r-item span { display: block; }
        .r-title { font-size: 0.7rem; color: #666; font-weight: 600; }
        .r-time { font-size: 0.9rem; font-weight: 800; color: var(--navy); }
        .key-verse { margin-top: 10px; padding-top: 8px; border-top: 1px solid #eee; color: var(--navy); font-weight: 700; font-size: 0.85rem; font-style: italic; }

        .container { padding: 0 15px; max-width: 600px; margin: 0 auto; }
        
        /* íƒ­ ì½˜í…ì¸  */
        .tab-content {
            display: none;
            animation: fadeIn 0.3s ease;
        }
        .tab-content.active {
            display: block;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .card {
            background: white; border-radius: 16px; padding: 18px; margin-bottom: 15px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.03);
        }
        .card-header { display: flex; align-items: center; margin-bottom: 12px; padding-bottom: 8px; border-bottom: 1px solid #f5f5f5; }
        .icon-box {
            width: 36px; height: 36px; border-radius: 10px; display: flex; align-items: center; justify-content: center;
            font-size: 1.2rem; margin-right: 10px; flex-shrink: 0;
        }
        .c-navy .icon-box { background: #EBF1FF; color: var(--navy); }
        .c-gold .icon-box { background: #FFF9E6; color: var(--gold); }
        .c-green .icon-box { background: #E8F5E9; color: var(--green); }
        .card-title { font-weight: 700; font-size: 0.95rem; color: #333; flex-grow: 1; }
        .btn-reset { background:none; border:none; font-size:1.1rem; color:#ccc; cursor:pointer; padding:5px; }

        input, textarea, select {
            width: 100%; border: 1px solid #e0e0e0; background: #fafafa;
            border-radius: 10px; padding: 12px; font-size: 1rem; font-family: 'Noto Sans KR';
            outline: none; transition: 0.2s; -webkit-appearance: none;
        }
        input:focus, textarea:focus, select:focus { background: white; border-color: var(--navy); }
        .input-ref { border: none; border-bottom: 2px solid #eee; border-radius: 0; background: transparent; color: var(--navy); font-weight: 700; text-align: center; margin-bottom: 10px; }
        textarea { min-height: 100px; resize: vertical; line-height: 1.5; }

        /* íƒ€ì´ë¨¸ */
        .timer-display {
            font-family: 'Cinzel', monospace; font-size: 3.5rem; font-weight: 900;
            text-align: center; color: var(--gold); margin: 20px 0;
        }
        .timer-btn {
            width: 100%; padding: 15px; border: none; background: var(--navy);
            color: white; border-radius: 12px; font-size: 1rem; font-weight: 700;
            cursor: pointer; transition: 0.2s; font-family: 'Noto Sans KR';
        }
        .timer-btn.running { background: var(--gold); }
        .timer-btn.paused { background: #666; }

        /* 21ì¼ ì±Œë¦°ì§€ */
        .challenge-status {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 20px;
            text-align: center;
        }
        .challenge-status.completed {
            background: linear-gradient(135deg, var(--green) 0%, #229954 100%);
        }
        .status-number {
            font-size: 3.5rem;
            font-weight: 900;
            line-height: 1;
        }
        .status-label {
            font-size: 0.9rem;
            opacity: 0.9;
            margin-top: 8px;
        }
        .progress-bar-container {
            background: rgba(255,255,255,0.2);
            height: 10px;
            border-radius: 5px;
            overflow: hidden;
            margin-top: 15px;
        }
        .progress-bar {
            background: var(--gold);
            height: 100%;
            border-radius: 5px;
            transition: width 0.5s;
        }

        .btn-start-challenge {
            background: linear-gradient(135deg, var(--gold), #d4af37);
            color: white;
            padding: 18px;
            border-radius: 15px;
            text-align: center;
            font-weight: 700;
            font-size: 1.1rem;
            cursor: pointer;
            border: none;
            width: 100%;
            box-shadow: 0 4px 15px rgba(201, 162, 39, 0.3);
        }

        .week-section {
            margin-bottom: 20px;
        }
        .week-header {
            background: linear-gradient(to right, var(--navy), var(--navy-dark));
            color: white;
            padding: 12px 15px;
            border-radius: 10px;
            margin-bottom: 10px;
            font-weight: 700;
            font-size: 0.9rem;
        }
        .day-item {
            background: #f8f9fa;
            padding: 12px 15px;
            margin-bottom: 8px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            cursor: pointer;
            transition: all 0.2s;
        }
        .day-item:hover {
            background: #e9ecef;
        }
        .day-item.completed {
            background: linear-gradient(to right, rgba(39, 174, 96, 0.1), rgba(39, 174, 96, 0.05));
            border-left: 4px solid var(--green);
        }
        .day-info {
            flex-grow: 1;
        }
        .day-number {
            font-weight: 700;
            color: var(--navy);
            margin-bottom: 3px;
            font-size: 0.85rem;
        }
        .day-title {
            font-size: 0.85rem;
            color: #666;
            line-height: 1.4;
        }
        .day-check {
            width: 35px;
            height: 35px;
            border: 2px solid #ddd;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            flex-shrink: 0;
            transition: all 0.2s;
        }
        .day-item.completed .day-check {
            background: var(--green);
            border-color: var(--green);
            color: white;
        }

        /* ê°€ì´ë“œ */
        .guide-box {
            background: linear-gradient(to right, #f8f9fa, #eef2f3);
            border-left: 5px solid var(--navy);
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
        }
        .guide-title {
            color: var(--navy);
            font-weight: 800;
            margin-bottom: 10px;
            font-size: 1.05rem;
        }
        .guide-text {
            font-size: 0.9rem;
            line-height: 1.6;
            color: #444;
        }
        .guide-step {
            display: flex;
            gap: 12px;
            margin-bottom: 15px;
            align-items: flex-start;
        }
        .step-num {
            background: var(--gold);
            color: white;
            width: 28px;
            height: 28px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 0.85rem;
            flex-shrink: 0;
        }
        .step-content h4 {
            font-size: 0.95rem;
            margin-bottom: 5px;
            color: var(--navy);
        }
        .step-content p {
            font-size: 0.85rem;
            color: #666;
            line-height: 1.5;
        }

        /* ëª©ì¥ */
        .mokjang-setup {
            background: linear-gradient(135deg, #ffeaa7, #fdcb6e);
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            margin-bottom: 20px;
        }
        .mokjang-setup h3 {
            font-size: 1.2rem;
            margin-bottom: 10px;
            color: #333;
        }
        .mokjang-setup p {
            font-size: 0.9rem;
            color: #666;
            margin-bottom: 15px;
        }
        .member-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
        }
        .member-item {
            background: #f8f9fa;
            padding: 10px;
            border-radius: 8px;
            text-align: center;
            font-size: 0.85rem;
        }
        .member-item.completed {
            background: linear-gradient(135deg, rgba(39, 174, 96, 0.1), rgba(39, 174, 96, 0.05));
            border: 2px solid var(--green);
        }
        .member-name {
            font-weight: 600;
            margin-bottom: 5px;
        }
        .member-status {
            font-size: 1.3rem;
        }

        /* í•˜ë‹¨ ë„¤ë¹„ê²Œì´ì…˜ */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            background: white;
            display: flex;
            justify-content: space-around;
            padding: 8px 0;
            border-top: 1px solid #eee;
            box-shadow: 0 -5px 20px rgba(0,0,0,0.05);
            z-index: 1000;
            padding-bottom: max(8px, env(safe-area-inset-bottom));
        }
        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-decoration: none;
            color: #999;
            font-size: 0.7rem;
            gap: 3px;
            padding: 5px 15px;
            transition: all 0.2s;
            flex: 1;
            cursor: pointer;
        }
        .nav-item.active {
            color: var(--navy);
            font-weight: 700;
        }
        .nav-icon {
            font-size: 1.3rem;
        }

        /* ëª¨ë‹¬ */
        .modal-wrap {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 2000;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }
        .modal-wrap.active {
            display: flex;
        }
        .modal-box {
            background: white;
            border-radius: 20px;
            padding: 25px;
            max-width: 400px;
            width: 100%;
            max-height: 80vh;
            overflow-y: auto;
            position: relative;
        }
        .close-btn {
            position: absolute;
            top: 15px;
            right: 15px;
            font-size: 1.5rem;
            cursor: pointer;
            color: #999;
        }

        .btn {
            display: block;
            width: 100%;
            padding: 14px;
            background: var(--navy);
            color: white;
            text-align: center;
            border-radius: 12px;
            text-decoration: none;
            font-weight: 700;
            border: none;
            cursor: pointer;
            font-size: 1rem;
            transition: all 0.2s;
            margin-top: 10px;
        }
        .btn:active {
            transform: scale(0.98);
        }
        .btn-gold {
            background: var(--gold);
        }
        .btn-green {
            background: var(--green);
        }
        .btn-secondary {
            background: #6c757d;
        }

        /* í† ìŠ¤íŠ¸ */
        #toast {
            position: fixed;
            bottom: 100px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0,0,0,0.8);
            color: white;
            padding: 12px 20px;
            border-radius: 25px;
            font-size: 0.9rem;
            z-index: 3000;
            opacity: 0;
            transition: opacity 0.3s;
        }
        #toast.show {
            opacity: 1;
        }

        /* íˆìŠ¤í† ë¦¬ */
        .log-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 15px;
            background: #f8f9fa;
            border-radius: 10px;
            margin-bottom: 8px;
            cursor: pointer;
            transition: 0.2s;
        }
        .log-item:hover {
            background: #e9ecef;
        }
        .log-date {
            font-size: 0.75rem;
            color: #999;
            margin-bottom: 3px;
        }
        .log-ref {
            font-weight: 700;
            color: var(--navy);
        }

        .view-label {
            display: block;
            font-weight: 700;
            color: var(--navy);
            margin-top: 15px;
            margin-bottom: 5px;
            font-size: 0.9rem;
        }
        .view-content {
            background: #f8f9fa;
            padding: 12px;
            border-radius: 8px;
            line-height: 1.6;
            color: #555;
        }
        .view-actions {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }
        .btn-action {
            flex: 1;
            padding: 12px;
            border: none;
            border-radius: 10px;
            font-weight: 700;
            cursor: pointer;
            font-family: 'Noto Sans KR';
        }

        .app-footer {
            text-align: center;
            font-size: 0.75rem;
            color: #999;
            padding: 20px 0;
            line-height: 1.5;
        }

        /* 4ë‹¨ê³„ ì˜ì  ì—¬ì • */
        .journey-model {
            margin: 20px 0;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 12px;
        }
        .journey-title {
            text-align: center;
            font-weight: 700;
            color: var(--navy);
            margin-bottom: 15px;
            font-size: 0.9rem;
        }
        .journey-stages {
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 5px;
        }
        .stage-item {
            flex: 1;
            text-align: center;
            padding: 8px 5px;
            border-radius: 8px;
            background: white;
            border: 2px solid #e0e0e0;
            transition: all 0.3s;
            cursor: pointer;
        }
        .stage-item.active {
            border-color: var(--gold);
            background: linear-gradient(to bottom, #FFF9E6, white);
        }
        .stage-num {
            font-size: 1.2rem;
            font-weight: 700;
            color: #999;
            margin-bottom: 3px;
        }
        .stage-item.active .stage-num {
            color: var(--gold);
        }
        .stage-label {
            font-size: 0.65rem;
            color: #666;
            text-align: center;
        }
        .stage-item.active .stage-label {
            color: var(--navy);
            font-weight: 700;
        }
        
        .shepherd-detail {
            display: none;
            margin-top: 10px;
        }
        .shepherd-detail.show {
            display: block;
        }
    </style>
</head>
<body>

    <header>
        <div class="header-top">
            <a href="http://www.ijiguchon.org" target="_blank" class="church-link">
                <img src="poster.png" onerror="this.src='https://via.placeholder.com/45/ffffff/1F4788?text=GMC'" class="church-logo" alt="GMC Logo">
                <span class="church-name" id="t-church">ì‹œì• í‹€ì§€êµ¬ì´ŒêµíšŒ</span>
            </a>
            <button class="lang-toggle" onclick="toggleLang()" id="langBtn">ENG</button>
        </div>
        <div class="app-title-box">
            <div class="main-title">G-ALTAR 1314</div>
            <div class="sub-title" id="t-subtitle">í•˜ë‚˜ë‹˜ì˜ ìŒì„±ì´ ë“¤ë¦¬ëŠ” ê·€</div>
        </div>
        <div class="id-card" onclick="openSettings()">
            <span class="role-badge" id="t-role">ìˆœë¡€ì</span>
            <div class="mokjang-text">
                <span id="displayName">í”„ë¡œí•„ ì„¤ì •</span>
                <span id="displayJourney" style="font-size:0.8rem; font-weight:400; opacity:0.8;"></span>
            </div>
        </div>
    </header>

    <div class="routine-banner">
        <div class="routine-grid">
            <div class="r-item">
                <span class="r-title" id="t-r1">ë§ì”€ ë¬µìƒ</span>
                <span class="r-time" id="t-time1">10ë¶„</span>
            </div>
            <div class="r-item">
                <span class="r-title" id="t-r2">ì¹¨ë¬µ ê¸°ë„</span>
                <span class="r-time" id="t-time2">15ë¶„</span>
            </div>
            <div class="r-item">
                <span class="r-title" id="t-r3">ê²½ì²­ ë…¸íŠ¸</span>
                <span class="r-time" id="t-time3">5ë¶„</span>
            </div>
        </div>
        <div class="key-verse" id="t-verse">"ë“¤ì„ ê·€ ìˆëŠ” ìëŠ” ë“¤ìœ¼ë¼!" (ë§‰ 4:9)</div>
    </div>

    <div class="container">
        
        <!-- íƒ­ 1: ì¼ì§€ (ê¸°ì¡´ ê¸°ëŠ¥) -->
        <div id="tab-journal" class="tab-content active">
            <div class="card c-navy">
                <div class="card-header">
                    <div class="icon-box">ğŸ“–</div>
                    <span class="card-title" id="t-card1">ë§ì”€ ë¬µìƒ (10ë¶„)</span>
                    <button class="btn-reset" onclick="resetInput('inRef','inText')">â†»</button>
                </div>
                <input type="text" id="inRef" class="input-ref" placeholder="ì˜¤ëŠ˜ì˜ ë³¸ë¬¸">
                <textarea id="inText" placeholder="ë¬µìƒí•œ ë§ì”€ì„ ê¸°ë¡í•˜ì„¸ìš”"></textarea>
            </div>
            <div class="card c-gold">
                <div class="card-header">
                    <div class="icon-box">ğŸ‘‚</div>
                    <span class="card-title" id="t-card2">ì¹¨ë¬µ ê¸°ë„ (15ë¶„)</span>
                </div>
                <div class="timer-display" id="timer">15:00</div>
                <button class="timer-btn" onclick="toggleTimer()" id="t-timer-btn">íƒ€ì´ë¨¸ ì‹œì‘</button>
                <div style="text-align:center; margin-top:10px; font-size:0.8rem; color:#888;" id="t-timer-msg">
                    ë‚´ ìƒê°ì˜ ì†Œë¦¬ë¥¼ ë„˜ê³  í•˜ë‚˜ë‹˜ì˜ ìŒì„±ì„ ë“£ìŠµë‹ˆë‹¤
                </div>
            </div>
            <div class="card c-green">
                <div class="card-header">
                    <div class="icon-box">âœï¸</div>
                    <span class="card-title" id="t-card3">ê²½ì²­ ë…¸íŠ¸ (5ë¶„)</span>
                    <button class="btn-reset" onclick="resetInput('inRhema','inAction','inThanks')">â†»</button>
                </div>
                <div id="t-lbl1" style="font-size:0.8rem; font-weight:700; color:#666; margin-bottom:5px;">1. í•˜ë‚˜ë‹˜ì´ ì£¼ì‹  ë§ˆìŒ</div>
                <textarea id="inRhema" style="margin-bottom:15px;" placeholder="ì£¼ë‹˜ì´ ë‚´ê²Œ ì£¼ì‹  ê¹¨ë‹¬ìŒ"></textarea>
                <div id="t-lbl2" style="font-size:0.8rem; font-weight:700; color:#666; margin-bottom:5px;">2. ìˆœì¢…í•  í–‰ë™</div>
                <textarea id="inAction" style="margin-bottom:15px;" placeholder="ì´ë²ˆ ì£¼ ì‹¤ì²œí•  êµ¬ì²´ì  í–‰ë™"></textarea>
                <div id="t-lbl3" style="font-size:0.8rem; font-weight:700; color:#666; margin-bottom:5px;">3. ê°ì‚¬ ê¸°ë„</div>
                <textarea id="inThanks" style="min-height:60px;" placeholder="ì£¼ë‹˜ê»˜ ë“œë¦¬ëŠ” ê°ì‚¬"></textarea>
            </div>
            
            <button class="btn btn-green" onclick="saveData()">
                <span id="t-btn-save">ì™„ë£Œ</span>
            </button>
            
            <button class="btn btn-secondary" onclick="viewHistory()">
                <span id="t-btn-hist">ê¸°ë¡ ë³´ê¸°</span>
            </button>

            <div class="app-footer">
                Created by Pastor Kim & GMC Seattle<br>
                Genesis 1314 - Expanding the Kingdom, One Home at a Time
            </div>
        </div>

        <!-- íƒ­ 2: 21ì¼ ì±Œë¦°ì§€ -->
        <div id="tab-challenge" class="tab-content">
            <!-- ì‹œì‘ ì „ ìƒíƒœ -->
            <div id="challenge-not-started" style="display:none;">
                <div class="card">
                    <div style="text-align:center; padding:20px 0;">
                        <div style="font-size:3rem; margin-bottom:15px;">ğŸ‘‚</div>
                        <h2 style="color:var(--navy); margin-bottom:10px;">21ì¼ ê²½ì²­ í›ˆë ¨</h2>
                        <p style="color:#666; line-height:1.6; margin-bottom:20px;">
                            í•˜ë‚˜ë‹˜ì˜ ìŒì„±ì´ ë“¤ë¦¬ëŠ” ê·€ë¥¼ íšŒë³µí•˜ëŠ”<br>
                            ì˜ì  í›ˆë ¨ì— ì°¸ì—¬í•˜ì‹œê² ìŠµë‹ˆê¹Œ?
                        </p>
                        <button class="btn-start-challenge" onclick="startChallenge()">
                            ğŸ¯ 21ì¼ ì±Œë¦°ì§€ ì‹œì‘í•˜ê¸°
                        </button>
                    </div>
                </div>
                
                <div class="card">
                    <h3 style="color:var(--navy); margin-bottom:15px;">ğŸ“š 21ì¼ êµ¬ì„±</h3>
                    <div style="padding:12px; background:#f8f9fa; border-radius:8px; margin-bottom:10px;">
                        <strong>1ì£¼ì°¨:</strong> ê·€ì˜ í• ë¡€ (ì„¸ìƒ ì†ŒìŒ ì¤„ì´ê¸°)
                    </div>
                    <div style="padding:12px; background:#f8f9fa; border-radius:8px; margin-bottom:10px;">
                        <strong>2ì£¼ì°¨:</strong> ê±°ë£©í•œ ê³µëª… (ë§ì”€ê³¼ ìƒí˜¸ì‘ìš©)
                    </div>
                    <div style="padding:12px; background:#f8f9fa; border-radius:8px;">
                        <strong>3ì£¼ì°¨:</strong> ë§ì”€ì˜ ì„±ìœ¡ì‹  (ì‚¶ìœ¼ë¡œ ì‹¤ì²œ)
                    </div>
                </div>
            </div>

            <!-- ì§„í–‰ ì¤‘/ì™„ë£Œ ìƒíƒœ -->
            <div id="challenge-in-progress" style="display:none;">
                <div class="challenge-status" id="challengeStatus">
                    <div class="status-number" id="progressDays">0</div>
                    <div class="status-label">ì¼ ì™„ë£Œ / 21ì¼</div>
                    <div class="progress-bar-container">
                        <div class="progress-bar" id="progressBar" style="width: 0%"></div>
                    </div>
                </div>

                <div class="card">
                    <!-- 1ì£¼ì°¨ -->
                    <div class="week-section">
                        <div class="week-header">1ì£¼ì°¨: ê·€ì˜ í• ë¡€ (ì„¸ìƒì˜ ì†ŒìŒ ì¤„ì´ê¸°)</div>
                        <div class="day-item" data-day="1" onclick="toggleDay(1)">
                            <div class="day-info">
                                <div class="day-number">Day 1</div>
                                <div class="day-title">[ì‹œê°„ ì •ë³µ] í† ìš”ì¼ ë°¤ 10ì‹œ ì´í›„ ë¯¸ë””ì–´ ë„ê¸°</div>
                            </div>
                            <div class="day-check">â—‹</div>
                        </div>
                        <div class="day-item" data-day="2" onclick="toggleDay(2)">
                            <div class="day-info">
                                <div class="day-number">Day 2</div>
                                <div class="day-title">[ê³µê°„ ì •ë³µ] ì§‘ì¤‘ ì˜ ë˜ëŠ” ìë¦¬ ì„ íƒí•˜ê¸°</div>
                            </div>
                            <div class="day-check">â—‹</div>
                        </div>
                        <div class="day-item" data-day="3" onclick="toggleDay(3)">
                            <div class="day-info">
                                <div class="day-number">Day 3</div>
                                <div class="day-title">[ë§ˆìŒ ì •ë³µ] ì˜ˆë°° ì „ 5ë¶„ ê¸°ë„ 10ë²ˆ ê³ ë°±</div>
                            </div>
                            <div class="day-check">â—‹</div>
                        </div>
                        <div class="day-item" data-day="4" onclick="toggleDay(4)">
                            <div class="day-info">
                                <div class="day-number">Day 4</div>
                                <div class="day-title">[ë¹„íŒ ê¸ˆì‹] ì„¤êµì í‰ê°€í•˜ì§€ ì•Šê¸°</div>
                            </div>
                            <div class="day-check">â—‹</div>
                        </div>
                        <div class="day-item" data-day="5" onclick="toggleDay(5)">
                            <div class="day-info">
                                <div class="day-number">Day 5</div>
                                <div class="day-title">[ë¯¸ë””ì–´ ê¸ˆì‹] ì˜ˆë°° ê°€ëŠ” ê¸¸ ì°¬ì–‘ ë“£ê¸°</div>
                            </div>
                            <div class="day-check">â—‹</div>
                        </div>
                        <div class="day-item" data-day="6" onclick="toggleDay(6)">
                            <div class="day-info">
                                <div class="day-number">Day 6</div>
                                <div class="day-title">[ê¸°ë„ ì‹¬ê¸°] ëª©ì‚¬ë‹˜ ì¤‘ë³´ê¸°ë„ 3ë¶„</div>
                            </div>
                            <div class="day-check">â—‹</div>
                        </div>
                        <div class="day-item" data-day="7" onclick="toggleDay(7)">
                            <div class="day-info">
                                <div class="day-number">Day 7</div>
                                <div class="day-title">[ì°¸íšŒí•˜ê¸°] ì§€ë‚œì£¼ ë¶ˆìˆœì¢… íšŒê°œí•˜ê¸°</div>
                            </div>
                            <div class="day-check">â—‹</div>
                        </div>
                    </div>

                    <!-- 2ì£¼ì°¨ -->
                    <div class="week-section">
                        <div class="week-header">2ì£¼ì°¨: ê±°ë£©í•œ ê³µëª… (ë§ì”€ê³¼ ìƒí˜¸ì‘ìš©)</div>
                        <div class="day-item" data-day="8" onclick="toggleDay(8)">
                            <div class="day-info">
                                <div class="day-number">Day 8</div>
                                <div class="day-title">[ì•„ì´ì»¨íƒ] ì„¤êµìì™€ ëˆˆ ë§ì¶”ë©° ê³ ê°œ ë„ë•ì´ê¸°</div>
                            </div>
                            <div class="day-check">â—‹</div>
                        </div>
                        <div class="day-item" data-day="9" onclick="toggleDay(9)">
                            <div class="day-info">
                                <div class="day-number">Day 9</div>
                                <div class="day-title">[ë ˆë§ˆ ê¸°ë¡] í•µì‹¬ ë¬¸ì¥ í•˜ë‚˜ë§Œ êµµê²Œ ì ê¸°</div>
                            </div>
                            <div class="day-check">â—‹</div>
                        </div>
                        <div class="day-item" data-day="10" onclick="toggleDay(10)">
                            <div class="day-info">
                                <div class="day-number">Day 10</div>
                                <div class="day-title">[ì•„ë©˜ í›ˆë ¨] ì‘ì€ ì†Œë¦¬ë¡œë¼ë„ "ì•„ë©˜" í™”ë‹µí•˜ê¸°</div>
                            </div>
                            <div class="day-check">â—‹</div>
                        </div>
                        <div class="day-item" data-day="11" onclick="toggleDay(11)">
                            <div class="day-info">
                                <div class="day-number">Day 11</div>
                                <div class="day-title">[ì˜ì  ì¤‘ë³´] ì„¤êµì ìœ„í•´ ì¤‘ë³´ê¸°ë„í•˜ê¸°</div>
                            </div>
                            <div class="day-check">â—‹</div>
                        </div>
                        <div class="day-item" data-day="12" onclick="toggleDay(12)">
                            <div class="day-info">
                                <div class="day-number">Day 12</div>
                                <div class="day-title">[ì¹¨ë¬µ ë¬µìƒ] ì¶•ë„ í›„ 3ë¶„ê°„ ë§ì”€ ë˜ìƒˆê¸°ê¸°</div>
                            </div>
                            <div class="day-check">â—‹</div>
                        </div>
                        <div class="day-item" data-day="13" onclick="toggleDay(13)">
                            <div class="day-info">
                                <div class="day-number">Day 13</div>
                                <div class="day-title">[ì„±ê²½ í™•ì¸] ì£¼ì¼ ë³¸ë¬¸ ì§‘ì—ì„œ ì†Œë¦¬ë‚´ì–´ ì½ê¸°</div>
                            </div>
                            <div class="day-check">â—‹</div>
                        </div>
                        <div class="day-item" data-day="14" onclick="toggleDay(14)">
                            <div class="day-info">
                                <div class="day-number">Day 14</div>
                                <div class="day-title">[ê°ì‚¬ í‘œí˜„] ë§ì”€ì— ëŒ€í•´ ê°ì‚¬ê¸°ë„ ë“œë¦¬ê¸°</div>
                            </div>
                            <div class="day-check">â—‹</div>
                        </div>
                    </div>

                    <!-- 3ì£¼ì°¨ -->
                    <div class="week-section">
                        <div class="week-header">3ì£¼ì°¨: ë§ì”€ì˜ ì„±ìœ¡ì‹  (ì‚¶ìœ¼ë¡œ ì‹¤ì²œí•˜ê¸°)</div>
                        <div class="day-item" data-day="15" onclick="toggleDay(15)">
                            <div class="day-info">
                                <div class="day-number">Day 15</div>
                                <div class="day-title">[í•œ ì¤„ ìš”ì•½] ë§ì”€ì„ í•œ ë¬¸ì¥ìœ¼ë¡œ ìš”ì•½í•˜ê¸°</div>
                            </div>
                            <div class="day-check">â—‹</div>
                        </div>
                        <div class="day-item" data-day="16" onclick="toggleDay(16)">
                            <div class="day-info">
                                <div class="day-number">Day 16</div>
                                <div class="day-title">[ì…ìˆ  ì „íŒŒ] ê°€ì¡±/ëª©ì¥ì— ì€í˜œ ë‚˜ëˆ„ê¸°</div>
                            </div>
                            <div class="day-check">â—‹</div>
                        </div>
                        <div class="day-item" data-day="17" onclick="toggleDay(17)">
                            <div class="day-info">
                                <div class="day-number">Day 17</div>
                                <div class="day-title">[ì†í•´ ê°ìˆ˜] ìˆœì¢… ìœ„í•´ êµ¬ì²´ì  ì†í•´ ê°ìˆ˜í•˜ê¸°</div>
                            </div>
                            <div class="day-check">â—‹</div>
                        </div>
                        <div class="day-item" data-day="18" onclick="toggleDay(18)">
                            <div class="day-info">
                                <div class="day-number">Day 18</div>
                                <div class="day-title">[ìˆœì¢… ì ê²€] ê²°ë‹¨ ë‚´ìš© ì§€ì¼°ëŠ”ì§€ ì²´í¬í•˜ê¸°</div>
                            </div>
                            <div class="day-check">â—‹</div>
                        </div>
                        <div class="day-item" data-day="19" onclick="toggleDay(19)">
                            <div class="day-info">
                                <div class="day-number">Day 19</div>
                                <div class="day-title">[ê²©ë ¤í•˜ê¸°] ëª©ì‚¬ë‹˜ê»˜ ìˆœì¢… ê°„ì¦ í¸ì§€ ë³´ë‚´ê¸°</div>
                            </div>
                            <div class="day-check">â—‹</div>
                        </div>
                        <div class="day-item" data-day="20" onclick="toggleDay(20)">
                            <div class="day-info">
                                <div class="day-number">Day 20</div>
                                <div class="day-title">[ë‚˜ëˆ”ì˜ ë°¤] í›ˆë ¨ ì¤‘ ëŠë‚€ ë³€í™” ë‚˜ëˆ„ê¸°</div>
                            </div>
                            <div class="day-check">â—‹</div>
                        </div>
                        <div class="day-item" data-day="21" onclick="toggleDay(21)">
                            <div class="day-info">
                                <div class="day-number">Day 21</div>
                                <div class="day-title">[ì„œì•½ì‹] í‰ìƒ ê²½ì²­í•˜ëŠ” ì˜ˆë°°ì ë˜ê¸° ì„œì•½</div>
                            </div>
                            <div class="day-check">â—‹</div>
                        </div>
                    </div>
                </div>

                <button class="btn btn-gold" onclick="shareProgress()">ğŸ“¢ ì¹´ì¹´ì˜¤í†¡ìœ¼ë¡œ ì§„í–‰ ìƒí™© ê³µìœ í•˜ê¸°</button>
                <button class="btn btn-secondary" onclick="resetChallenge()">ğŸ”„ ì±Œë¦°ì§€ ë‹¤ì‹œ ì‹œì‘í•˜ê¸°</button>
            </div>
        </div>

        <!-- íƒ­ 3: ëª©ì¥ -->
        <div id="tab-mokjang" class="tab-content">
            <div id="mokjang-not-setup" style="display:none;">
                <div class="mokjang-setup">
                    <h3>ğŸ‘¥ ëª©ì¥ ì„¤ì •ì´ í•„ìš”í•©ë‹ˆë‹¤</h3>
                    <p>ëª©ì¥ ì‹êµ¬ë“¤ê³¼ í•¨ê»˜ 21ì¼ì„ ì™„ì£¼í•˜ì„¸ìš”!</p>
                    <button class="btn" onclick="openMokjangSetup()">ëª©ì¥ ì„¤ì •í•˜ê¸°</button>
                </div>
                
                <div class="card">
                    <h3 style="color:var(--navy); margin-bottom:10px;">ğŸ’¡ ëª©ì¥ ê¸°ëŠ¥ì´ë€?</h3>
                    <p style="line-height:1.6; color:#666; font-size:0.9rem;">
                        ëª©ì¥ ì½”ë“œë¥¼ ì…ë ¥í•˜ë©´ ëª©ì¥ ì‹êµ¬ë“¤ì˜ 21ì¼ ì±Œë¦°ì§€ ì§„í–‰ ìƒí™©(ì™„ë£Œ ì—¬ë¶€)ì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. 
                        ê°œì¸ ì¼ì§€ ë‚´ìš©ì€ ì™„ì „íˆ ë¹„ê³µê°œì´ë©°, ì˜¤ì§ ì™„ë£Œ ì—¬ë¶€(O/X)ë§Œ ê³µìœ ë©ë‹ˆë‹¤.
                    </p>
                </div>
            </div>

            <div id="mokjang-content" style="display:none;">
                <div class="card">
                    <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:15px; padding-bottom:10px; border-bottom:2px solid #f0f0f0;">
                        <div>
                            <div style="font-weight:700; color:var(--navy); font-size:1.1rem;" id="mokjangName">ëª©ì¥ëª…</div>
                            <div style="font-size:0.85rem; color:#666; margin-top:3px;">
                                <span id="mokjangCompleted">0</span> / <span id="mokjangTotal">0</span> ëª… ì˜¤ëŠ˜ ì™„ë£Œ
                            </div>
                        </div>
                    </div>

                    <div class="member-grid" id="memberGrid">
                        <!-- ë™ì  ìƒì„± -->
                    </div>
                </div>

                <div class="card">
                    <h3 style="color:var(--navy); margin-bottom:10px;">ğŸ’¬ ê²©ë ¤ ë©”ì‹œì§€</h3>
                    <p style="text-align:center; color:#666; font-size:0.9rem; padding:20px;">
                        í•¨ê»˜ ë‹¬ë ¤ê°€ëŠ” ìš°ë¦¬ ëª©ì¥ ì‹êµ¬ë“¤ì„ ìœ„í•´ ê¸°ë„í•©ë‹ˆë‹¤ ğŸ™
                    </p>
                </div>

                <button class="btn btn-secondary" onclick="leaveMokjang()">ëª©ì¥ ë‚˜ê°€ê¸°</button>
            </div>
        </div>

        <!-- íƒ­ 4: ê°€ì´ë“œ -->
        <div id="tab-guide" class="tab-content">
            <div class="card">
                <h2 style="color:var(--navy); margin-bottom:15px; text-align:center;">ğŸ“š ê²½ì²­ ê°€ì´ë“œ</h2>

                <div class="guide-box">
                    <div class="guide-title">ğŸ’¡ ì™œ 'ë“£ëŠ” ê¸°ë„'ì¸ê°€ìš”?</div>
                    <div class="guide-text">
                        ê²½ì²­ê¸°ë„ëŠ” ì‹ ë¹„ì£¼ì˜ê°€ ì•„ë‹™ë‹ˆë‹¤.<br>
                        <strong>"ë‚´ ì–‘ì€ ë‚´ ìŒì„±ì„ ë“¤ìœ¼ë©°"</strong> (ìš” 10:27) í•˜ì‹  ì˜ˆìˆ˜ë‹˜ì˜ ë§ì”€ì²˜ëŸ¼, 
                        ëª©ìì´ì‹  ì£¼ë‹˜ì˜ ëœ»ì„ ë“£ê³  <strong>ìˆœì¢…í•˜ê¸° ìœ„í•œ í›ˆë ¨</strong>ì…ë‹ˆë‹¤.
                    </div>
                </div>

                <h3 style="color:var(--navy); margin:20px 0 15px 0;">ì£¼ê¸°ë„ë¬¸ìœ¼ë¡œ í•˜ëŠ” ê²½ì²­ë²• (5 Step)</h3>

                <div class="guide-step">
                    <div class="step-num">1</div>
                    <div class="step-content">
                        <h4>í•˜ëŠ˜ì— ê³„ì‹  ìš°ë¦¬ ì•„ë²„ì§€</h4>
                        <p>ë©ˆì¶”ì„¸ìš”(Stop). ê·¸ë¦¬ê³  ë‚˜ë¥¼ ë¶€ë¥´ì‹œëŠ” ì•„ë²„ì§€ì˜ ì‚¬ë‘ ì•ˆì—ì„œ í‰ì•ˆì„ ëˆ„ë¦¬ì„¸ìš”.</p>
                    </div>
                </div>

                <div class="guide-step">
                    <div class="step-num">2</div>
                    <div class="step-content">
                        <h4>ë‚˜ë¼ê°€ ì„í•˜ì‹œì˜¤ë©°</h4>
                        <p>ë‚´ ê³„íšì„ ë‚´ë ¤ë†“ê³ , ì˜¤ëŠ˜ ë‚´ ê°€ì •ê³¼ ì¼í„°ì— ì„í•˜ì‹¤ í•˜ë‚˜ë‹˜ì˜ ëœ»ì„ ë¬¼ìœ¼ì„¸ìš”.</p>
                    </div>
                </div>

                <div class="guide-step">
                    <div class="step-num">3</div>
                    <div class="step-content">
                        <h4>ì¼ìš©í•  ì–‘ì‹ì„ ì£¼ì˜µì‹œê³ </h4>
                        <p>ì˜¤ëŠ˜ ì£¼ì‹  ë§ì”€(QT)ì„ í´ì„¸ìš”. ë§ì”€ ë°–ì˜ ìŒì„±ì€ ìœ„í—˜í•©ë‹ˆë‹¤. ì„±ê²½ì„ í†µí•´ ë“¤ìœ¼ì„¸ìš”.</p>
                    </div>
                </div>
                
                <div class="guide-step">
                    <div class="step-num">4</div>
                    <div class="step-content">
                        <h4>ìš°ë¦¬ê°€ ìš°ë¦¬ì—ê²Œ ì£„ ì§€ì€ ìë¥¼...</h4>
                        <p>ë§ˆìŒì— ê±¸ë¦¬ëŠ” ê´€ê³„ë‚˜ ì£„ê°€ ìˆë‚˜ìš”? ì„±ë ¹ë‹˜ê»˜ ë¬»ê³  íšŒê°œí•˜ë©° ë§ˆìŒì„ ì •ê²°ì¼€ í•˜ì„¸ìš”.</p>
                    </div>
                </div>

                <div class="guide-step">
                    <div class="step-num">5</div>
                    <div class="step-content">
                        <h4>ë‚˜ë¼ì™€ ê¶Œì„¸ì™€ ì˜ê´‘ì´...</h4>
                        <p>ë“¤ì€ ë§ì”€ì— ìˆœì¢…í•˜ê¸°ë¡œ ê²°ë‹¨í•˜ë©°, ì°¬ì–‘ìœ¼ë¡œ ê¸°ë„ë¥¼ ë§ˆì¹˜ì„¸ìš”.</p>
                    </div>
                </div>

                <div style="background: #f0f0f0; padding: 15px; border-radius: 8px; text-align: center; margin-top: 20px;">
                    <p style="font-size: 0.9rem; font-weight: bold; color: var(--navy); line-height: 1.6;">
                        "ë§ì”€(Logos)ìœ¼ë¡œ ê²€ì¦í•˜ê³ ,<br>
                        ì„±ë ¹(Pneuma)ìœ¼ë¡œ ê°ë™ë°›ì•„,<br>
                        ì‚¶ìœ¼ë¡œ ìˆœì¢…(Obey)í•©ë‹ˆë‹¤."
                    </p>
                </div>
            </div>

            <div class="card">
                <h3 style="color:var(--navy); margin-bottom:15px;" id="guide-selfcheck-title">ğŸ“– ìê°€ ì§„ë‹¨ (8ë¬¸í•­)</h3>
                <p style="line-height:1.6; color:#666; margin-bottom:15px;" id="guide-selfcheck-desc">
                    ì§€ë‚œ ì£¼ì¼ ì˜ˆë°°ë¥¼ ë– ì˜¬ë¦¬ë©° ì†”ì§í•˜ê²Œ ì²´í¬í•´ë³´ì„¸ìš”.
                </p>
                <div style="background:#f8f9fa; padding:15px; border-radius:8px;">
                    <p style="font-size:0.85rem; color:#555; line-height:1.8;" id="guide-selfcheck-questions">
                        1. ì˜ˆë°° 10ë¶„ ì „ì— ë„ì°©í•˜ì—¬ ê¸°ë„ë¡œ ë§ˆìŒ ë°­ì„ ê¸°ê²½í–ˆëŠ”ê°€?<br>
                        2. ì„¸ìƒì˜ ì—¼ë ¤ë¥¼ ëŠì–´ë‚´ê³  ë§ì”€ì„ ì‚¬ëª¨í•¨ìœ¼ë¡œ ì¤€ë¹„í–ˆëŠ”ê°€?<br>
                        3. ì„¤êµ ì¤‘ ì§‘ì¤‘í–ˆëŠ”ê°€?<br>
                        4. ë”´ìƒê°ì„ ì˜ì§€ì ìœ¼ë¡œ ëŠì–´ëƒˆëŠ”ê°€?<br>
                        5. ì±…ë§ì˜ ë§ì”€ë„ "ì•„ë©˜"ìœ¼ë¡œ ë°›ì•˜ëŠ”ê°€?<br>
                        6. ë©”ì‹œì§€ì˜ ë³¸ì§ˆì— ê·€ ê¸°ìš¸ì˜€ëŠ”ê°€?<br>
                        7. ì‹¤ì²œí•  í•œ ê°€ì§€ë¥¼ ì •í–ˆëŠ”ê°€?<br>
                        8. ì£¼ì¤‘ì— ì‹¤ì œ ì‚¶ì—ì„œ ì ìš©í–ˆëŠ”ê°€?
                    </p>
                </div>
                <div style="margin-top:15px; padding:12px; background:linear-gradient(to right, #667eea, #764ba2); color:white; border-radius:8px; text-align:center;" id="guide-selfcheck-scoring">
                    <strong>35-40ì :</strong> ì˜¥í†  | <strong>25-34ì :</strong> ì„±ì¥ ì¤‘ | <strong>24ì  ì´í•˜:</strong> í›ˆë ¨ í•„ìš”
                </div>
            </div>

            <div class="app-footer">
                Created by Pastor Kim & GMC Seattle<br>
                Genesis 1314 - Expanding the Kingdom, One Home at a Time
            </div>
        </div>

    </div>

    <!-- í•˜ë‹¨ ë„¤ë¹„ê²Œì´ì…˜ -->
    <nav class="bottom-nav">
        <div class="nav-item active" onclick="switchTab('journal', this)">
            <div class="nav-icon">ğŸ“–</div>
            <span>ì¼ì§€</span>
        </div>
        <div class="nav-item" onclick="switchTab('challenge', this)">
            <div class="nav-icon">ğŸ¯</div>
            <span>21ì¼</span>
        </div>
        <div class="nav-item" onclick="switchTab('mokjang', this)">
            <div class="nav-icon">ğŸ‘¥</div>
            <span>ëª©ì¥</span>
        </div>
        <div class="nav-item" onclick="switchTab('guide', this)">
            <div class="nav-icon">ğŸ“š</div>
            <span>ê°€ì´ë“œ</span>
        </div>
    </nav>

    <!-- íˆìŠ¤í† ë¦¬ ëª¨ë‹¬ -->
    <div id="historyModal" class="modal-wrap">
        <div class="modal-box">
            <div class="close-btn" onclick="closeHistory()">&times;</div>
            <h3 style="color:var(--navy); margin-bottom:15px;" id="modal-history-title">ì§€ë‚œ ê¸°ë¡ ë³´ê´€ì†Œ</h3>
            <div id="historyList"></div>
        </div>
    </div>

    <!-- ì¼ì§€ ìƒì„¸ë³´ê¸° ëª¨ë‹¬ -->
    <div id="viewModal" class="modal-wrap">
        <div class="modal-box">
            <div class="close-btn" onclick="closeViewModal()">&times;</div>
            <h3 style="color:var(--navy); margin-bottom:5px;" id="v-date">Date</h3>
            <h2 style="font-family:'Noto Serif KR'; margin-bottom:20px;" id="v-ref">Ref</h2>
            <span class="view-label" id="v-lbl1">ğŸ“– ë§ì”€ ë¬µìƒ</span>
            <div class="view-content" id="v-text"></div>
            <span class="view-label" id="v-lbl2">ğŸ‘‚ í•˜ë‚˜ë‹˜ì´ ì£¼ì‹  ë§ˆìŒ</span>
            <div class="view-content" id="v-rhema"></div>
            <span class="view-label" id="v-lbl3">ğŸ‘£ ìˆœì¢…í•  í–‰ë™</span>
            <div class="view-content" id="v-action"></div>
            <span class="view-label" id="v-lbl4">ğŸ™ ê°ì‚¬ ê¸°ë„</span>
            <div class="view-content" id="v-thanks"></div>
            <div class="view-actions">
                <button class="btn-action" style="background:#f1f3f5; color:#ff6b6b;" onclick="deleteCurrentLog()" id="v-btn-del">ì‚­ì œ</button>
                <button class="btn-action" style="background:var(--navy); color:white;" onclick="editCurrentLog()" id="v-btn-edit">ìˆ˜ì •í•˜ê¸°</button>
            </div>
        </div>
    </div>

    <!-- í”„ë¡œí•„ ì„¤ì • ëª¨ë‹¬ -->
    <div id="settingModal" class="modal-wrap">
        <div class="modal-box" style="text-align:center;">
            <div class="close-btn" onclick="closeSettings()">&times;</div>
            <h3 style="margin-bottom:10px; color:var(--navy);">í”„ë¡œí•„ ì„¤ì •</h3>
            
            <p style="font-size:0.9rem; color:var(--gold); font-weight:700; margin-bottom:15px; line-height:1.5;">
                "ëª¨ë“  ê·¸ë¦¬ìŠ¤ë„ì¸ì€ ì‚¬ì—­ììš”, ì„ êµì‚¬ì…ë‹ˆë‹¤."
            </p>
            
            <input type="text" id="setName" placeholder="ì´ë¦„ (ì˜ˆ: ê¹€ì°¬ì–‘)" style="margin-bottom:15px; text-align:center;">
            
            <div class="journey-model">
                <div class="journey-title">ê°€ì •êµíšŒ 4ë‹¨ê³„ ì˜ì  ì—¬ì •</div>
                <div class="journey-stages" id="journeyStages">
                    <div class="stage-item" data-stage="seeker">
                        <div class="stage-num">â‘ </div>
                        <div class="stage-label">ìˆœë¡€ì<br>(VIP)</div>
                    </div>
                    <div class="stage-item" data-stage="believer">
                        <div class="stage-num">â‘¡</div>
                        <div class="stage-label">ì‹ ì</div>
                    </div>
                    <div class="stage-item" data-stage="disciple">
                        <div class="stage-num">â‘¢</div>
                        <div class="stage-label">ì œì</div>
                    </div>
                    <div class="stage-item" data-stage="shepherd">
                        <div class="stage-num">â‘£</div>
                        <div class="stage-label">ëª©ì</div>
                    </div>
                </div>
            </div>
            
            <select id="setJourney" style="width:100%; margin-bottom:10px; text-align:center; padding:12px; border-radius:10px; border:1px solid #e0e0e0; background:#fafafa; font-size:1rem; outline:none;" onchange="onJourneyChange()">
                <option value="seeker">â‘  ìˆœë¡€ì (VIP) - í•˜ë‚˜ë‹˜ì„ ì°¾ê³  ìˆëŠ” ì‚¬ëŒ</option>
                <option value="believer">â‘¡ ì‹ ì - ë³µìŒì„ ë°›ì•„ë“¤ì¸ ì‚¬ëŒ</option>
                <option value="disciple">â‘¢ ì œì - ì˜ˆìˆ˜ë‹˜ì˜ ê°€ë¥´ì¹¨ì„ ë°°ìš°ê³  ë”°ë¥´ëŠ” ì‚¬ëŒ</option>
                <option value="shepherd">â‘£ ëª©ì - ë‹¤ë¥¸ ì‚¬ëŒì„ ëŒë³´ê³  ì œìë¥¼ ì„¸ìš°ëŠ” ì‚¬ëŒ</option>
            </select>
            
            <div id="shepherdDetail" class="shepherd-detail">
                <select id="setShepherdType" style="width:100%; margin-bottom:10px; text-align:center; padding:12px; border-radius:10px; border:1px solid var(--gold); background:#FFF9E6; font-size:1rem; outline:none;">
                    <option value="shepherd">ëª©ì (Shepherd)</option>
                    <option value="moknye">ëª©ë…€ (ëª©ìì˜ ì•„ë‚´)</option>
                    <option value="mokbu">ëª©ë¶€ (ëª©ìì˜ ë‚¨í¸)</option>
                </select>
            </div>
            
            <input type="text" id="setMokjang" placeholder="ëª©ì¥ ì´ë¦„ (ì˜ˆ: íŒŒë¦¬ ëª©ì¥)" style="margin-bottom:15px; text-align:center;">
            
            <button class="btn" onclick="saveSettings()">ì €ì¥í•˜ê¸°</button>
        </div>
    </div>

    <!-- ëª©ì¥ ì„¤ì • ëª¨ë‹¬ -->
    <div id="mokjangSetupModal" class="modal-wrap">
        <div class="modal-box">
            <div class="close-btn" onclick="closeMokjangSetup()">&times;</div>
            <h3 style="color:var(--navy); margin-bottom:10px;" id="mokjang-setup-title">ëª©ì¥ ì„¤ì •</h3>
            <p style="font-size:0.9rem; color:#666; margin-bottom:15px; line-height:1.5;" id="mokjang-setup-desc">
                ëª©ì¥ ì½”ë“œë¥¼ ì…ë ¥í•˜ë©´ ëª©ì¥ ì‹êµ¬ë“¤ê³¼ í•¨ê»˜ ì§„í–‰ ìƒí™©ì„ ê³µìœ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
            </p>
            <input type="text" id="inputMokjangCode" placeholder="ì˜ˆ: 1MOKJANG" style="text-transform:uppercase; margin-bottom:10px;">
            <p style="font-size:0.75rem; color:#999; margin-bottom:15px;" id="mokjang-setup-help">
                * ëª©ìë‹˜ê»˜ ëª©ì¥ ì½”ë“œë¥¼ ë¬¸ì˜í•˜ì„¸ìš”
            </p>
            <button class="btn" onclick="joinMokjang()" id="mokjang-join-btn">ì°¸ì—¬í•˜ê¸°</button>
        </div>
    </div>

    <!-- í† ìŠ¤íŠ¸ -->
    <div id="toast"></div>

    <script>
        // Firebase ì„¤ì • (ì‹¤ì œ ì‚¬ìš©ì‹œ ì •ë³´ ì…ë ¥)
        // const firebaseConfig = { ... };
        // firebase.initializeApp(firebaseConfig);
        // const database = firebase.database();

        // ë¡œì»¬ìŠ¤í† ë¦¬ì§€ í‚¤
        const DB_KEY = 'galtar_1314_v14_journal';
        const CHALLENGE_KEY = 'galtar_1314_challenge_v1';
        const CHALLENGE_STARTED_KEY = 'galtar_1314_challenge_started';
        
        let curLang = 'ko';
        let editId = null, viewId = null;
        let timerInterval, timeLeft = 15 * 60, isTimerRunning = false;

        // ë‹¤êµ­ì–´
        const lang = {
            ko: {
                church: "ì‹œì• í‹€ì§€êµ¬ì´ŒêµíšŒ", 
                subtitle: "í•˜ë‚˜ë‹˜ì˜ ìŒì„±ì´ ë“¤ë¦¬ëŠ” ê·€",
                
                // ì˜ì  ì—¬ì •
                journey_seeker: "ìˆœë¡€ì (VIP)", 
                journey_believer: "ì‹ ì", 
                journey_disciple: "ì œì", 
                journey_shepherd: "ëª©ì",
                journey_moknye: "ëª©ë…€",
                journey_mokbu: "ëª©ë¶€",
                
                desc_seeker: "í•˜ë‚˜ë‹˜ì„ ì°¾ê³  ìˆëŠ” ì‚¬ëŒ",
                desc_believer: "ë³µìŒì„ ë°›ì•„ë“¤ì¸ ì‚¬ëŒ",
                desc_disciple: "ì˜ˆìˆ˜ë‹˜ì˜ ê°€ë¥´ì¹¨ì„ ë°°ìš°ê³  ë”°ë¥´ëŠ” ì‚¬ëŒ",
                desc_shepherd: "ë‹¤ë¥¸ ì‚¬ëŒì„ ëŒë³´ê³  ì œìë¥¼ ì„¸ìš°ëŠ” ì‚¬ëŒ",
                
                stage1: "ìˆœë¡€ì<br>(VIP)", stage2: "ì‹ ì", stage3: "ì œì", stage4: "ëª©ì",
                
                // ë£¨í‹´ ë°°ë„ˆ
                r1: "ë§ì”€ ë¬µìƒ", time1: "10ë¶„", 
                r2: "ì¹¨ë¬µ ê¸°ë„", time2: "15ë¶„", 
                r3: "ê²½ì²­ ë…¸íŠ¸", time3: "5ë¶„",
                verse: "\"ë“¤ì„ ê·€ ìˆëŠ” ìëŠ” ë“¤ìœ¼ë¼!\" (ë§‰ 4:9)",
                
                // íƒ­ ë„¤ë¹„ê²Œì´ì…˜
                tab_journal: "ì¼ì§€",
                tab_challenge: "21ì¼",
                tab_mokjang: "ëª©ì¥",
                tab_guide: "ê°€ì´ë“œ",
                
                // ì¼ì§€ íƒ­
                card1: "ë§ì”€ ë¬µìƒ (10ë¶„)",
                ph_ref: "ì˜¤ëŠ˜ì˜ ë³¸ë¬¸",
                ph_text: "ë¬µìƒí•œ ë§ì”€ì„ ê¸°ë¡í•˜ì„¸ìš”",
                card2: "ì¹¨ë¬µ ê¸°ë„ (15ë¶„)",
                btn_start: "íƒ€ì´ë¨¸ ì‹œì‘",
                btn_pause: "ì¼ì‹œì •ì§€",
                btn_resume: "ê³„ì†í•˜ê¸°",
                msg_timer: "ë‚´ ìƒê°ì˜ ì†Œë¦¬ë¥¼ ë„˜ê³  í•˜ë‚˜ë‹˜ì˜ ìŒì„±ì„ ë“£ìŠµë‹ˆë‹¤",
                card3: "ê²½ì²­ ë…¸íŠ¸ (5ë¶„)",
                l1: "1. í•˜ë‚˜ë‹˜ì´ ì£¼ì‹  ë§ˆìŒ",
                ph_rhema: "ì£¼ë‹˜ì´ ë‚´ê²Œ ì£¼ì‹  ê¹¨ë‹¬ìŒ",
                l2: "2. ìˆœì¢…í•  í–‰ë™",
                ph_action: "ì´ë²ˆ ì£¼ ì‹¤ì²œí•  êµ¬ì²´ì  í–‰ë™",
                l3: "3. ê°ì‚¬ ê¸°ë„",
                ph_thanks: "ì£¼ë‹˜ê»˜ ë“œë¦¬ëŠ” ê°ì‚¬",
                btn_save: "ì™„ë£Œ",
                btn_update: "ìˆ˜ì • ì™„ë£Œ",
                btn_hist: "ê¸°ë¡ ë³´ê¸°",
                
                // 21ì¼ ì±Œë¦°ì§€
                challenge_title: "21ì¼ ê²½ì²­ í›ˆë ¨",
                challenge_start_title: "21ì¼ ê²½ì²­ í›ˆë ¨",
                challenge_start_desc: "í•˜ë‚˜ë‹˜ì˜ ìŒì„±ì´ ë“¤ë¦¬ëŠ” ê·€ë¥¼ íšŒë³µí•˜ëŠ”<br>ì˜ì  í›ˆë ¨ì— ì°¸ì—¬í•˜ì‹œê² ìŠµë‹ˆê¹Œ?",
                challenge_start_btn: "ğŸ¯ 21ì¼ ì±Œë¦°ì§€ ì‹œì‘í•˜ê¸°",
                challenge_progress: "ì¼ ì™„ë£Œ / 21ì¼",
                challenge_share: "ğŸ“¢ ì¹´ì¹´ì˜¤í†¡ìœ¼ë¡œ ì§„í–‰ ìƒí™© ê³µìœ í•˜ê¸°",
                challenge_reset: "ğŸ”„ ì±Œë¦°ì§€ ë‹¤ì‹œ ì‹œì‘í•˜ê¸°",
                
                // 21ì¼ êµ¬ì„±
                week1_title: "1ì£¼ì°¨: ê·€ì˜ í• ë¡€ (ì„¸ìƒì˜ ì†ŒìŒ ì¤„ì´ê¸°)",
                week2_title: "2ì£¼ì°¨: ê±°ë£©í•œ ê³µëª… (ë§ì”€ê³¼ ìƒí˜¸ì‘ìš©)",
                week3_title: "3ì£¼ì°¨: ë§ì”€ì˜ ì„±ìœ¡ì‹  (ì‚¶ìœ¼ë¡œ ì‹¤ì²œí•˜ê¸°)",
                
                challenge_structure: "ğŸ“š 21ì¼ êµ¬ì„±",
                week1_desc: "ê·€ì˜ í• ë¡€ (ì„¸ìƒ ì†ŒìŒ ì¤„ì´ê¸°)",
                week2_desc: "ê±°ë£©í•œ ê³µëª… (ë§ì”€ê³¼ ìƒí˜¸ì‘ìš©)",
                week3_desc: "ë§ì”€ì˜ ì„±ìœ¡ì‹  (ì‚¶ìœ¼ë¡œ ì‹¤ì²œ)",
                
                // Day ì œëª© (1-7)
                day1: "[ì‹œê°„ ì •ë³µ] í† ìš”ì¼ ë°¤ 10ì‹œ ì´í›„ ë¯¸ë””ì–´ ë„ê¸°",
                day2: "[ê³µê°„ ì •ë³µ] ì§‘ì¤‘ ì˜ ë˜ëŠ” ìë¦¬ ì„ íƒí•˜ê¸°",
                day3: "[ë§ˆìŒ ì •ë³µ] ì˜ˆë°° ì „ 5ë¶„ ê¸°ë„ 10ë²ˆ ê³ ë°±",
                day4: "[ë¹„íŒ ê¸ˆì‹] ì„¤êµì í‰ê°€í•˜ì§€ ì•Šê¸°",
                day5: "[ë¯¸ë””ì–´ ê¸ˆì‹] ì˜ˆë°° ê°€ëŠ” ê¸¸ ì°¬ì–‘ ë“£ê¸°",
                day6: "[ê¸°ë„ ì‹¬ê¸°] ëª©ì‚¬ë‹˜ ì¤‘ë³´ê¸°ë„ 3ë¶„",
                day7: "[ì°¸íšŒí•˜ê¸°] ì§€ë‚œì£¼ ë¶ˆìˆœì¢… íšŒê°œí•˜ê¸°",
                
                // Day ì œëª© (8-14)
                day8: "[ì•„ì´ì»¨íƒ] ì„¤êµìì™€ ëˆˆ ë§ì¶”ë©° ê³ ê°œ ë„ë•ì´ê¸°",
                day9: "[ë ˆë§ˆ ê¸°ë¡] í•µì‹¬ ë¬¸ì¥ í•˜ë‚˜ë§Œ êµµê²Œ ì ê¸°",
                day10: "[ì•„ë©˜ í›ˆë ¨] ì‘ì€ ì†Œë¦¬ë¡œë¼ë„ \"ì•„ë©˜\" í™”ë‹µí•˜ê¸°",
                day11: "[ì˜ì  ì¤‘ë³´] ì„¤êµì ìœ„í•´ ì¤‘ë³´ê¸°ë„í•˜ê¸°",
                day12: "[ì¹¨ë¬µ ë¬µìƒ] ì¶•ë„ í›„ 3ë¶„ê°„ ë§ì”€ ë˜ìƒˆê¸°ê¸°",
                day13: "[ì„±ê²½ í™•ì¸] ì£¼ì¼ ë³¸ë¬¸ ì§‘ì—ì„œ ì†Œë¦¬ë‚´ì–´ ì½ê¸°",
                day14: "[ê°ì‚¬ í‘œí˜„] ë§ì”€ì— ëŒ€í•´ ê°ì‚¬ê¸°ë„ ë“œë¦¬ê¸°",
                
                // Day ì œëª© (15-21)
                day15: "[í•œ ì¤„ ìš”ì•½] ë§ì”€ì„ í•œ ë¬¸ì¥ìœ¼ë¡œ ìš”ì•½í•˜ê¸°",
                day16: "[ì…ìˆ  ì „íŒŒ] ê°€ì¡±/ëª©ì¥ì— ì€í˜œ ë‚˜ëˆ„ê¸°",
                day17: "[ì†í•´ ê°ìˆ˜] ìˆœì¢… ìœ„í•´ êµ¬ì²´ì  ì†í•´ ê°ìˆ˜í•˜ê¸°",
                day18: "[ìˆœì¢… ì ê²€] ê²°ë‹¨ ë‚´ìš© ì§€ì¼°ëŠ”ì§€ ì²´í¬í•˜ê¸°",
                day19: "[ê²©ë ¤í•˜ê¸°] ëª©ì‚¬ë‹˜ê»˜ ìˆœì¢… ê°„ì¦ í¸ì§€ ë³´ë‚´ê¸°",
                day20: "[ë‚˜ëˆ”ì˜ ë°¤] í›ˆë ¨ ì¤‘ ëŠë‚€ ë³€í™” ë‚˜ëˆ„ê¸°",
                day21: "[ì„œì•½ì‹] í‰ìƒ ê²½ì²­í•˜ëŠ” ì˜ˆë°°ì ë˜ê¸° ì„œì•½",
                
                // ëª©ì¥
                mokjang_setup_title: "ğŸ‘¥ ëª©ì¥ ì„¤ì •ì´ í•„ìš”í•©ë‹ˆë‹¤",
                mokjang_setup_desc: "ëª©ì¥ ì‹êµ¬ë“¤ê³¼ í•¨ê»˜ 21ì¼ì„ ì™„ì£¼í•˜ì„¸ìš”!",
                mokjang_setup_btn: "ëª©ì¥ ì„¤ì •í•˜ê¸°",
                mokjang_what_title: "ğŸ’¡ ëª©ì¥ ê¸°ëŠ¥ì´ë€?",
                mokjang_what_desc: "ëª©ì¥ ì½”ë“œë¥¼ ì…ë ¥í•˜ë©´ ëª©ì¥ ì‹êµ¬ë“¤ì˜ 21ì¼ ì±Œë¦°ì§€ ì§„í–‰ ìƒí™©(ì™„ë£Œ ì—¬ë¶€)ì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê°œì¸ ì¼ì§€ ë‚´ìš©ì€ ì™„ì „íˆ ë¹„ê³µê°œì´ë©°, ì˜¤ì§ ì™„ë£Œ ì—¬ë¶€(O/X)ë§Œ ê³µìœ ë©ë‹ˆë‹¤.",
                mokjang_completed: "ëª… ì˜¤ëŠ˜ ì™„ë£Œ",
                mokjang_encourage_title: "ğŸ’¬ ê²©ë ¤ ë©”ì‹œì§€",
                mokjang_encourage_msg: "í•¨ê»˜ ë‹¬ë ¤ê°€ëŠ” ìš°ë¦¬ ëª©ì¥ ì‹êµ¬ë“¤ì„ ìœ„í•´ ê¸°ë„í•©ë‹ˆë‹¤ ğŸ™",
                mokjang_leave: "ëª©ì¥ ë‚˜ê°€ê¸°",
                mokjang_modal_title: "ëª©ì¥ ì„¤ì •",
                mokjang_modal_desc: "ëª©ì¥ ì½”ë“œë¥¼ ì…ë ¥í•˜ë©´ ëª©ì¥ ì‹êµ¬ë“¤ê³¼ í•¨ê»˜ ì§„í–‰ ìƒí™©ì„ ê³µìœ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.",
                mokjang_code_ph: "ì˜ˆ: 1MOKJANG",
                mokjang_code_help: "* ëª©ìë‹˜ê»˜ ëª©ì¥ ì½”ë“œë¥¼ ë¬¸ì˜í•˜ì„¸ìš”",
                mokjang_join: "ì°¸ì—¬í•˜ê¸°",
                
                // ê°€ì´ë“œ
                guide_title: "ğŸ“š ê²½ì²­ ê°€ì´ë“œ",
                guide_why_title: "ğŸ’¡ ì™œ 'ë“£ëŠ” ê¸°ë„'ì¸ê°€ìš”?",
                guide_why_desc: "ê²½ì²­ê¸°ë„ëŠ” ì‹ ë¹„ì£¼ì˜ê°€ ì•„ë‹™ë‹ˆë‹¤.<br><strong>\"ë‚´ ì–‘ì€ ë‚´ ìŒì„±ì„ ë“¤ìœ¼ë©°\"</strong> (ìš” 10:27) í•˜ì‹  ì˜ˆìˆ˜ë‹˜ì˜ ë§ì”€ì²˜ëŸ¼, ëª©ìì´ì‹  ì£¼ë‹˜ì˜ ëœ»ì„ ë“£ê³  <strong>ìˆœì¢…í•˜ê¸° ìœ„í•œ í›ˆë ¨</strong>ì…ë‹ˆë‹¤.",
                guide_lordsprayer: "ì£¼ê¸°ë„ë¬¸ìœ¼ë¡œ í•˜ëŠ” ê²½ì²­ë²• (5 Step)",
                guide_step1_title: "í•˜ëŠ˜ì— ê³„ì‹  ìš°ë¦¬ ì•„ë²„ì§€",
                guide_step1_desc: "ë©ˆì¶”ì„¸ìš”(Stop). ê·¸ë¦¬ê³  ë‚˜ë¥¼ ë¶€ë¥´ì‹œëŠ” ì•„ë²„ì§€ì˜ ì‚¬ë‘ ì•ˆì—ì„œ í‰ì•ˆì„ ëˆ„ë¦¬ì„¸ìš”.",
                guide_step2_title: "ë‚˜ë¼ê°€ ì„í•˜ì‹œì˜¤ë©°",
                guide_step2_desc: "ë‚´ ê³„íšì„ ë‚´ë ¤ë†“ê³ , ì˜¤ëŠ˜ ë‚´ ê°€ì •ê³¼ ì¼í„°ì— ì„í•˜ì‹¤ í•˜ë‚˜ë‹˜ì˜ ëœ»ì„ ë¬¼ìœ¼ì„¸ìš”.",
                guide_step3_title: "ì¼ìš©í•  ì–‘ì‹ì„ ì£¼ì˜µì‹œê³ ",
                guide_step3_desc: "ì˜¤ëŠ˜ ì£¼ì‹  ë§ì”€(QT)ì„ í´ì„¸ìš”. ë§ì”€ ë°–ì˜ ìŒì„±ì€ ìœ„í—˜í•©ë‹ˆë‹¤. ì„±ê²½ì„ í†µí•´ ë“¤ìœ¼ì„¸ìš”.",
                guide_step4_title: "ìš°ë¦¬ê°€ ìš°ë¦¬ì—ê²Œ ì£„ ì§€ì€ ìë¥¼...",
                guide_step4_desc: "ë§ˆìŒì— ê±¸ë¦¬ëŠ” ê´€ê³„ë‚˜ ì£„ê°€ ìˆë‚˜ìš”? ì„±ë ¹ë‹˜ê»˜ ë¬»ê³  íšŒê°œí•˜ë©° ë§ˆìŒì„ ì •ê²°ì¼€ í•˜ì„¸ìš”.",
                guide_step5_title: "ë‚˜ë¼ì™€ ê¶Œì„¸ì™€ ì˜ê´‘ì´...",
                guide_step5_desc: "ë“¤ì€ ë§ì”€ì— ìˆœì¢…í•˜ê¸°ë¡œ ê²°ë‹¨í•˜ë©°, ì°¬ì–‘ìœ¼ë¡œ ê¸°ë„ë¥¼ ë§ˆì¹˜ì„¸ìš”.",
                guide_principle: "\"ë§ì”€(Logos)ìœ¼ë¡œ ê²€ì¦í•˜ê³ ,<br>ì„±ë ¹(Pneuma)ìœ¼ë¡œ ê°ë™ë°›ì•„,<br>ì‚¶ìœ¼ë¡œ ìˆœì¢…(Obey)í•©ë‹ˆë‹¤.\"",
                guide_selfcheck_title: "ğŸ“– ìê°€ ì§„ë‹¨ (8ë¬¸í•­)",
                guide_selfcheck_desc: "ì§€ë‚œ ì£¼ì¼ ì˜ˆë°°ë¥¼ ë– ì˜¬ë¦¬ë©° ì†”ì§í•˜ê²Œ ì²´í¬í•´ë³´ì„¸ìš”.",
                guide_selfcheck_q1: "1. ì˜ˆë°° 10ë¶„ ì „ì— ë„ì°©í•˜ì—¬ ê¸°ë„ë¡œ ë§ˆìŒ ë°­ì„ ê¸°ê²½í–ˆëŠ”ê°€?",
                guide_selfcheck_q2: "2. ì„¸ìƒì˜ ì—¼ë ¤ë¥¼ ëŠì–´ë‚´ê³  ë§ì”€ì„ ì‚¬ëª¨í•¨ìœ¼ë¡œ ì¤€ë¹„í–ˆëŠ”ê°€?",
                guide_selfcheck_q3: "3. ì„¤êµ ì¤‘ ì§‘ì¤‘í–ˆëŠ”ê°€?",
                guide_selfcheck_q4: "4. ë”´ìƒê°ì„ ì˜ì§€ì ìœ¼ë¡œ ëŠì–´ëƒˆëŠ”ê°€?",
                guide_selfcheck_q5: "5. ì±…ë§ì˜ ë§ì”€ë„ \"ì•„ë©˜\"ìœ¼ë¡œ ë°›ì•˜ëŠ”ê°€?",
                guide_selfcheck_q6: "6. ë©”ì‹œì§€ì˜ ë³¸ì§ˆì— ê·€ ê¸°ìš¸ì˜€ëŠ”ê°€?",
                guide_selfcheck_q7: "7. ì‹¤ì²œí•  í•œ ê°€ì§€ë¥¼ ì •í–ˆëŠ”ê°€?",
                guide_selfcheck_q8: "8. ì£¼ì¤‘ì— ì‹¤ì œ ì‚¶ì—ì„œ ì ìš©í–ˆëŠ”ê°€?",
                guide_scoring: "<strong>35-40ì :</strong> ì˜¥í†  | <strong>25-34ì :</strong> ì„±ì¥ ì¤‘ | <strong>24ì  ì´í•˜:</strong> í›ˆë ¨ í•„ìš”",
                
                // ì„¤ì •
                modal_title: "í”„ë¡œí•„ ì„¤ì •",
                modal_msg: "\"ëª¨ë“  ê·¸ë¦¬ìŠ¤ë„ì¸ì€ ì‚¬ì—­ììš”, ì„ êµì‚¬ì…ë‹ˆë‹¤.\"",
                modal_btn: "ì €ì¥í•˜ê¸°",
                ph_name: "ì´ë¦„ (ì˜ˆ: ê¹€ì°¬ì–‘)",
                ph_mokjang: "ëª©ì¥ ì´ë¦„ (ì˜ˆ: íŒŒë¦¬ ëª©ì¥)",
                journey_title: "ê°€ì •êµíšŒ 4ë‹¨ê³„ ì˜ì  ì—¬ì •",
                opt_shepherd: "ëª©ì (Shepherd)",
                opt_moknye: "ëª©ë…€ (ëª©ìì˜ ì•„ë‚´)",
                opt_mokbu: "ëª©ë¶€ (ëª©ìì˜ ë‚¨í¸)",
                
                // ê¸°ë³¸ í”„ë¡œí•„ í…ìŠ¤íŠ¸
                default_profile: "í”„ë¡œí•„ ì„¤ì •",
                default_role: "ìˆœë¡€ì",
                
                // íˆìŠ¤í† ë¦¬
                list_title: "ì§€ë‚œ ê¸°ë¡ ë³´ê´€ì†Œ",
                empty_list: "ê¸°ë¡ì´ ì—†ìŠµë‹ˆë‹¤",
                
                // View ëª¨ë‹¬ ë¼ë²¨
                v_lbl1: "ğŸ“– ë§ì”€ ë¬µìƒ",
                v_lbl2: "ğŸ‘‚ í•˜ë‚˜ë‹˜ì´ ì£¼ì‹  ë§ˆìŒ",
                v_lbl3: "ğŸ‘£ ìˆœì¢…í•  í–‰ë™",
                v_lbl4: "ğŸ™ ê°ì‚¬ ê¸°ë„",
                btn_del: "ì‚­ì œ",
                btn_edit: "ìˆ˜ì •í•˜ê¸°",
                
                // ë©”ì‹œì§€
                msg_save: "ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤",
                msg_update: "ìˆ˜ì •ë˜ì—ˆìŠµë‹ˆë‹¤",
                msg_del: "ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤",
                msg_empty: "ë‚´ìš©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”",
                msg_confirm_del: "ì´ ê¸°ë¡ì„ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?",
                msg_timer_end: "ê¸°ë„ ì‹œê°„ì´ ëë‚¬ìŠµë‹ˆë‹¤",
                msg_challenge_start: "ì±Œë¦°ì§€ ì‹œì‘! í•¨ê»˜ ì™„ì£¼í•´ë´ìš” ğŸ’ª",
                msg_challenge_complete: "ì™„ë£Œ",
                msg_challenge_cancel: "ì™„ë£Œ ì·¨ì†Œë¨",
                msg_challenge_reset: "ì±Œë¦°ì§€ê°€ ì´ˆê¸°í™”ë˜ì—ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œì‘í•´ë³´ì„¸ìš”!",
                msg_mokjang_joined: "ëª©ì¥ì— ì°¸ì—¬í–ˆìŠµë‹ˆë‹¤!",
                msg_mokjang_left: "ëª©ì¥ì—ì„œ ë‚˜ì™”ìŠµë‹ˆë‹¤",
                msg_mokjang_code_required: "ëª©ì¥ ì½”ë“œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”",
                msg_name_required: "ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”",
                msg_clipboard: "ë©”ì‹œì§€ê°€ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤"
            },
            en: {
                church: "Global Mission Church of Greater Seattle", 
                subtitle: "The Ear that Hears God's Voice",
                
                // Spiritual Journey
                journey_seeker: "Seeker (VIP)", 
                journey_believer: "Believer", 
                journey_disciple: "Disciple", 
                journey_shepherd: "Shepherd",
                journey_moknye: "Moknyeo (Wife)",
                journey_mokbu: "Mokbu (Husband)",
                
                desc_seeker: "Seeking God",
                desc_believer: "Accepted the Gospel",
                desc_disciple: "Learning and following Jesus",
                desc_shepherd: "Caring for others and making disciples",
                
                stage1: "Seeker<br>(VIP)", stage2: "Believer", stage3: "Disciple", stage4: "Shepherd",
                
                // Routine Banner
                r1: "Scripture", time1: "10min", 
                r2: "Silence", time2: "15min", 
                r3: "Journal", time3: "5min",
                verse: "\"Whoever has ears, let them hear!\" (Mark 4:9)",
                
                // Tab Navigation
                tab_journal: "Journal",
                tab_challenge: "21 Days",
                tab_mokjang: "Mokjang",
                tab_guide: "Guide",
                
                // Journal Tab
                card1: "Scripture (10min)",
                ph_ref: "Scripture Reference",
                ph_text: "Write your meditation...",
                card2: "Silence (15min)",
                btn_start: "Start Timer",
                btn_pause: "Pause",
                btn_resume: "Resume",
                msg_timer: "Turning off the noise to hear God's voice",
                card3: "Journal (5min)",
                l1: "1. God's Voice (Rhema)",
                ph_rhema: "Insights received from the Lord",
                l2: "2. Action to Obey",
                ph_action: "Specific action this week",
                l3: "3. Thanksgiving",
                ph_thanks: "Prayer of thanksgiving",
                btn_save: "Complete",
                btn_update: "Update",
                btn_hist: "View History",
                
                // 21-Day Challenge
                challenge_title: "21-Day Listening Training",
                challenge_start_title: "21-Day Listening Training",
                challenge_start_desc: "Will you join this spiritual training<br>to restore ears that hear God's voice?",
                challenge_start_btn: "ğŸ¯ Start 21-Day Challenge",
                challenge_progress: "days completed / 21 days",
                challenge_share: "ğŸ“¢ Share progress on KakaoTalk",
                challenge_reset: "ğŸ”„ Restart Challenge",
                
                // 21-Day Structure
                week1_title: "Week 1: Circumcision of the Ear (Reducing Noise)",
                week2_title: "Week 2: Holy Resonance (Interacting with the Word)",
                week3_title: "Week 3: Incarnation of the Word (Living it Out)",
                
                challenge_structure: "ğŸ“š 21-Day Structure",
                week1_desc: "Circumcision of the Ear (Reduce noise)",
                week2_desc: "Holy Resonance (Interact with Word)",
                week3_desc: "Incarnation of Word (Live it out)",
                
                // Day Titles (1-7)
                day1: "[Time] Turn off media after 10pm Saturday",
                day2: "[Space] Choose a seat for better focus",
                day3: "[Heart] Pray 10 times before worship",
                day4: "[Fast] Don't judge the preacher",
                day5: "[Media] Listen to worship on the way",
                day6: "[Prayer] Pray 3 min for pastor",
                day7: "[Repent] Confess last week's disobedience",
                
                // Day Titles (8-14)
                day8: "[Eye Contact] Look at preacher, nod in agreement",
                day9: "[Rhema] Write one key sentence boldly",
                day10: "[Amen] Say 'Amen' out loud",
                day11: "[Intercession] Pray for the preacher",
                day12: "[Silence] Meditate 3 min after benediction",
                day13: "[Scripture] Read Sunday's text aloud at home",
                day14: "[Thanks] Give thanks for the Word",
                
                // Day Titles (15-21)
                day15: "[Summary] Summarize in one sentence",
                day16: "[Share] Share grace with family/mokjang",
                day17: "[Cost] Bear specific cost for obedience",
                day18: "[Check] Check if you kept your decision",
                day19: "[Encourage] Write testimony to pastor",
                day20: "[Fellowship] Share changes during training",
                day21: "[Vow] Vow to be lifelong listener",
                
                // Mokjang
                mokjang_setup_title: "ğŸ‘¥ Mokjang Setup Required",
                mokjang_setup_desc: "Complete 21 days with your mokjang members!",
                mokjang_setup_btn: "Set Up Mokjang",
                mokjang_what_title: "ğŸ’¡ What is Mokjang Feature?",
                mokjang_what_desc: "Enter mokjang code to see members' 21-day progress (completion only). Journal content is completely private. Only completion status (O/X) is shared.",
                mokjang_completed: "completed today",
                mokjang_encourage_title: "ğŸ’¬ Encouragement",
                mokjang_encourage_msg: "Praying for our mokjang members running together ğŸ™",
                mokjang_leave: "Leave Mokjang",
                mokjang_modal_title: "Mokjang Setup",
                mokjang_modal_desc: "Enter mokjang code to share progress with members.",
                mokjang_code_ph: "e.g., 1MOKJANG",
                mokjang_code_help: "* Ask your shepherd for mokjang code",
                mokjang_join: "Join",
                
                // Guide
                guide_title: "ğŸ“š Listening Guide",
                guide_why_title: "ğŸ’¡ Why 'Listening Prayer'?",
                guide_why_desc: "Listening prayer is not mysticism.<br><strong>\"My sheep listen to my voice\"</strong> (John 10:27). It's training to hear and <strong>obey</strong> the Shepherd's will.",
                guide_lordsprayer: "Listening with Lord's Prayer (5 Steps)",
                guide_step1_title: "Our Father in heaven",
                guide_step1_desc: "Stop. Rest in the Father's love who calls you.",
                guide_step2_title: "Your kingdom come",
                guide_step2_desc: "Lay down your plans. Ask God's will for your home and workplace today.",
                guide_step3_title: "Give us today our daily bread",
                guide_step3_desc: "Open today's Scripture (QT). Voices outside Scripture are dangerous. Hear through the Bible.",
                guide_step4_title: "Forgive us our debts...",
                guide_step4_desc: "Any relationship or sin troubling you? Ask the Spirit, repent, and purify your heart.",
                guide_step5_title: "For yours is the kingdom...",
                guide_step5_desc: "Decide to obey the Word you heard. End prayer with praise.",
                guide_principle: "\"Verify with Word (Logos),<br>Be moved by Spirit (Pneuma),<br>Obey in life.\"",
                guide_selfcheck_title: "ğŸ“– Self-Check (8 Questions)",
                guide_selfcheck_desc: "Think about last Sunday's worship honestly.",
                guide_selfcheck_q1: "1. Arrived 10 min early and prepared heart with prayer?",
                guide_selfcheck_q2: "2. Cut off worldly worries and longed for the Word?",
                guide_selfcheck_q3: "3. Stayed focused during sermon?",
                guide_selfcheck_q4: "4. Deliberately cut off wandering thoughts?",
                guide_selfcheck_q5: "5. Accepted even rebuking words with 'Amen'?",
                guide_selfcheck_q6: "6. Listened to essence of message?",
                guide_selfcheck_q7: "7. Decided one thing to practice?",
                guide_selfcheck_q8: "8. Applied it in actual life during the week?",
                guide_scoring: "<strong>35-40:</strong> Good Soil | <strong>25-34:</strong> Growing | <strong>24-:</strong> Training Needed",
                
                // Settings
                modal_title: "Profile Settings",
                modal_msg: "\"Every Christian is a minister and missionary.\"",
                modal_btn: "Save",
                ph_name: "Name (e.g., John Kim)",
                ph_mokjang: "Mokjang Name (e.g., Paris Mokjang)",
                journey_title: "House Church 4-Stage Spiritual Journey",
                opt_shepherd: "Shepherd",
                opt_moknye: "Moknyeo (Shepherd's Wife)",
                opt_mokbu: "Mokbu (Shepherd's Husband)",
                
                // Default Profile Text
                default_profile: "Profile Settings",
                default_role: "Seeker",
                
                // History
                list_title: "Journal History",
                empty_list: "No records found",
                
                // View Modal Labels
                v_lbl1: "ğŸ“– Scripture",
                v_lbl2: "ğŸ‘‚ God's Voice",
                v_lbl3: "ğŸ‘£ Action",
                v_lbl4: "ğŸ™ Thanksgiving",
                btn_del: "Delete",
                btn_edit: "Edit",
                
                // Messages
                msg_save: "Saved successfully",
                msg_update: "Updated successfully",
                msg_del: "Deleted",
                msg_empty: "Please enter content",
                msg_confirm_del: "Delete this record?",
                msg_timer_end: "Prayer time is over",
                msg_challenge_start: "Challenge started! Let's finish together ğŸ’ª",
                msg_challenge_complete: "Completed",
                msg_challenge_cancel: "Completion cancelled",
                msg_challenge_reset: "Challenge reset. Start again!",
                msg_mokjang_joined: "Joined mokjang!",
                msg_mokjang_left: "Left mokjang",
                msg_mokjang_code_required: "Please enter mokjang code",
                msg_name_required: "Please enter name",
                msg_clipboard: "Message copied"
            }
        };

        // ì•± ì´ˆê¸°í™”
        window.onload = function() {
            loadSettings();
            renderHistory();
            checkChallengeStatus();
            checkMokjangStatus();
            updateText();
        };

        // ì–¸ì–´ ì „í™˜
        function toggleLang() {
            console.log('toggleLang called, current:', curLang);
            curLang = curLang === 'ko' ? 'en' : 'ko';
            console.log('toggleLang changed to:', curLang);
            document.getElementById('langBtn').innerText = curLang === 'ko' ? 'ENG' : 'í•œê¸€';
            try {
                updateText();
                console.log('updateText completed successfully');
            } catch(error) {
                console.error('updateText error:', error);
                alert('Language change error: ' + error.message);
            }
        }

        // ëª¨ë“  í…ìŠ¤íŠ¸ ì—…ë°ì´íŠ¸
        function updateText() {
            const t = lang[curLang];
            console.log('updateText called, lang:', curLang);
            
            // ì•ˆì „í•œ ì—…ë°ì´íŠ¸ í•¨ìˆ˜
            function safeUpdate(id, value, isPlaceholder = false) {
                const el = document.getElementById(id);
                if(el) {
                    if(isPlaceholder) el.placeholder = value;
                    else el.innerText = value;
                } else {
                    console.warn('Element not found:', id);
                }
            }
            
            // í—¤ë”
            safeUpdate('t-church', t.church);
            safeUpdate('t-subtitle', t.subtitle);
            
            // ë£¨í‹´ ë°°ë„ˆ
            safeUpdate('t-r1', t.r1);
            safeUpdate('t-time1', t.time1);
            safeUpdate('t-r2', t.r2);
            safeUpdate('t-time2', t.time2);
            safeUpdate('t-r3', t.r3);
            safeUpdate('t-time3', t.time3);
            safeUpdate('t-verse', t.verse);
            
            // íƒ­ ë„¤ë¹„ê²Œì´ì…˜
            const navItems = document.querySelectorAll('.nav-item span');
            if(navItems[0]) navItems[0].innerText = t.tab_journal;
            if(navItems[1]) navItems[1].innerText = t.tab_challenge;
            if(navItems[2]) navItems[2].innerText = t.tab_mokjang;
            if(navItems[3]) navItems[3].innerText = t.tab_guide;
            
            // ì¼ì§€ íƒ­
            safeUpdate('t-card1', t.card1);
            safeUpdate('inRef', t.ph_ref, true);
            safeUpdate('inText', t.ph_text, true);
            safeUpdate('t-card2', t.card2);
            
            const timerBtn = document.getElementById('t-timer-btn');
            if(timerBtn) {
                if (!isTimerRunning && timeLeft === 15 * 60) timerBtn.innerText = t.btn_start;
                else if (isTimerRunning) timerBtn.innerText = t.btn_pause;
                else timerBtn.innerText = t.btn_resume;
            }
            
            safeUpdate('t-timer-msg', t.msg_timer);
            safeUpdate('t-card3', t.card3);
            safeUpdate('t-lbl1', t.l1);
            safeUpdate('inRhema', t.ph_rhema, true);
            safeUpdate('t-lbl2', t.l2);
            safeUpdate('inAction', t.ph_action, true);
            safeUpdate('t-lbl3', t.l3);
            safeUpdate('inThanks', t.ph_thanks, true);
            
            const saveBtn = document.getElementById('t-btn-save');
            if(saveBtn) saveBtn.innerText = editId ? t.btn_update : t.btn_save;
            
            const histBtn = document.getElementById('t-btn-hist');
            if(histBtn) histBtn.innerText = t.btn_hist;
            
            // 21ì¼ ì±Œë¦°ì§€
            updateChallengeText();
            
            // ëª©ì¥
            updateMokjangText();
            
            // ê°€ì´ë“œ
            updateGuideText();
            
            // ì„¤ì • ëª¨ë‹¬
            updateSettingsText();
            
            // View ëª¨ë‹¬ ë¼ë²¨
            safeUpdate('v-lbl1', t.v_lbl1);
            safeUpdate('v-lbl2', t.v_lbl2);
            safeUpdate('v-lbl3', t.v_lbl3);
            safeUpdate('v-lbl4', t.v_lbl4);
            safeUpdate('v-btn-del', t.btn_del);
            safeUpdate('v-btn-edit', t.btn_edit);
            
            // ì‚¬ìš©ì ì •ë³´ ë‹¤ì‹œ ë¡œë“œ
            loadSettings();
            
            console.log('updateText completed');
        }

        function updateChallengeText() {
            const t = lang[curLang];
            
            // ì±Œë¦°ì§€ ì‹œì‘ ì „ í™”ë©´
            const startTitle = document.querySelector('#challenge-not-started h2');
            if(startTitle) startTitle.innerText = t.challenge_start_title;
            
            const startDesc = document.querySelector('#challenge-not-started p');
            if(startDesc) startDesc.innerHTML = t.challenge_start_desc;
            
            const startBtn = document.querySelector('.btn-start-challenge');
            if(startBtn) startBtn.innerHTML = t.challenge_start_btn;
            
            // êµ¬ì¡° ì„¤ëª…
            const structureTitle = document.querySelector('#challenge-not-started h3');
            if(structureTitle) structureTitle.innerText = t.challenge_structure;
            
            const weekDescs = document.querySelectorAll('#challenge-not-started .card > div[style*="padding"]');
            if(weekDescs[0]) weekDescs[0].innerHTML = `<strong>${t.week1_title.split(':')[0]}:</strong> ${t.week1_desc}`;
            if(weekDescs[1]) weekDescs[1].innerHTML = `<strong>${t.week2_title.split(':')[0]}:</strong> ${t.week2_desc}`;
            if(weekDescs[2]) weekDescs[2].innerHTML = `<strong>${t.week3_title.split(':')[0]}:</strong> ${t.week3_desc}`;
            
            // ì§„í–‰ ì¤‘ í™”ë©´
            const progressLabel = document.querySelector('.status-label');
            if(progressLabel) progressLabel.innerText = t.challenge_progress;
            
            // ì£¼ì°¨ í—¤ë”
            const weekHeaders = document.querySelectorAll('.week-header');
            if(weekHeaders[0]) weekHeaders[0].innerText = t.week1_title;
            if(weekHeaders[1]) weekHeaders[1].innerText = t.week2_title;
            if(weekHeaders[2]) weekHeaders[2].innerText = t.week3_title;
            
            // Day ì œëª©ë“¤
            for(let i = 1; i <= 21; i++) {
                const dayTitle = document.querySelector(`[data-day="${i}"] .day-title`);
                if(dayTitle) dayTitle.innerText = t[`day${i}`];
            }
            
            // ë²„íŠ¼ë“¤
            const shareBtn = document.querySelector('[onclick="shareProgress()"]');
            if(shareBtn) shareBtn.innerHTML = t.challenge_share;
            
            const resetBtn = document.querySelector('[onclick="resetChallenge()"]');
            if(resetBtn) resetBtn.innerHTML = t.challenge_reset;
        }

        function updateMokjangText() {
            const t = lang[curLang];
            
            // ë¯¸ì„¤ì • í™”ë©´
            const setupTitle = document.querySelector('#mokjang-not-setup h3');
            if(setupTitle) setupTitle.innerHTML = t.mokjang_setup_title;
            
            const setupDesc = document.querySelector('#mokjang-not-setup .mokjang-setup p');
            if(setupDesc) setupDesc.innerText = t.mokjang_setup_desc;
            
            const setupBtn = document.querySelector('#mokjang-not-setup .btn');
            if(setupBtn) setupBtn.innerText = t.mokjang_setup_btn;
            
            const whatTitle = document.querySelector('#mokjang-not-setup .card h3');
            if(whatTitle) whatTitle.innerHTML = t.mokjang_what_title;
            
            const whatDesc = document.querySelector('#mokjang-not-setup .card p');
            if(whatDesc) whatDesc.innerText = t.mokjang_what_desc;
            
            // ì„¤ì • ì™„ë£Œ í™”ë©´
            const encourageTitle = document.querySelector('#mokjang-content .card:last-of-type h3');
            if(encourageTitle) encourageTitle.innerHTML = t.mokjang_encourage_title;
            
            const encourageMsg = document.querySelector('#mokjang-content .card:last-of-type p');
            if(encourageMsg) encourageMsg.innerText = t.mokjang_encourage_msg;
            
            const leaveBtn = document.querySelector('[onclick="leaveMokjang()"]');
            if(leaveBtn) leaveBtn.innerText = t.mokjang_leave;
        }

        function updateGuideText() {
            const t = lang[curLang];
            
            const guideTitle = document.querySelector('#tab-guide h2');
            if(guideTitle) guideTitle.innerHTML = t.guide_title;
            
            const whyTitle = document.querySelector('.guide-box .guide-title');
            if(whyTitle) whyTitle.innerHTML = t.guide_why_title;
            
            const whyDesc = document.querySelector('.guide-box .guide-text');
            if(whyDesc) whyDesc.innerHTML = t.guide_why_desc;
            
            const lordsPrayerTitle = document.querySelector('#tab-guide h3');
            if(lordsPrayerTitle) lordsPrayerTitle.innerText = t.guide_lordsprayer;
            
            // 5ë‹¨ê³„
            const steps = document.querySelectorAll('.step-content');
            if(steps[0]) {
                steps[0].querySelector('h4').innerText = t.guide_step1_title;
                steps[0].querySelector('p').innerText = t.guide_step1_desc;
            }
            if(steps[1]) {
                steps[1].querySelector('h4').innerText = t.guide_step2_title;
                steps[1].querySelector('p').innerText = t.guide_step2_desc;
            }
            if(steps[2]) {
                steps[2].querySelector('h4').innerText = t.guide_step3_title;
                steps[2].querySelector('p').innerText = t.guide_step3_desc;
            }
            if(steps[3]) {
                steps[3].querySelector('h4').innerText = t.guide_step4_title;
                steps[3].querySelector('p').innerText = t.guide_step4_desc;
            }
            if(steps[4]) {
                steps[4].querySelector('h4').innerText = t.guide_step5_title;
                steps[4].querySelector('p').innerText = t.guide_step5_desc;
            }
            
            const principle = document.querySelector('#tab-guide .card:first-of-type > div[style*="background: #f0f0f0"] p');
            if(principle) principle.innerHTML = t.guide_principle;
            
            // ìê°€ ì§„ë‹¨
            const selfcheckTitle = document.getElementById('guide-selfcheck-title');
            if(selfcheckTitle) selfcheckTitle.innerHTML = t.guide_selfcheck_title;
            
            const selfcheckDesc = document.getElementById('guide-selfcheck-desc');
            if(selfcheckDesc) selfcheckDesc.innerText = t.guide_selfcheck_desc;
            
            const selfcheckContent = document.getElementById('guide-selfcheck-questions');
            if(selfcheckContent) {
                selfcheckContent.innerHTML = `
                    ${t.guide_selfcheck_q1}<br>
                    ${t.guide_selfcheck_q2}<br>
                    ${t.guide_selfcheck_q3}<br>
                    ${t.guide_selfcheck_q4}<br>
                    ${t.guide_selfcheck_q5}<br>
                    ${t.guide_selfcheck_q6}<br>
                    ${t.guide_selfcheck_q7}<br>
                    ${t.guide_selfcheck_q8}
                `;
            }
            
            const scoring = document.getElementById('guide-selfcheck-scoring');
            if(scoring) scoring.innerHTML = t.guide_scoring;
        }

        function updateSettingsText() {
            const t = lang[curLang];
            
            const modalTitle = document.querySelector('#settingModal h3');
            if(modalTitle) modalTitle.innerText = t.modal_title;
            
            const modalMsg = document.querySelector('#settingModal p[style*="color:var(--gold)"]');
            if(modalMsg) modalMsg.innerText = t.modal_msg;
            
            document.getElementById('setName').placeholder = t.ph_name;
            document.getElementById('setMokjang').placeholder = t.ph_mokjang;
            
            const journeyTitle = document.querySelector('.journey-title');
            if(journeyTitle) journeyTitle.innerText = t.journey_title;
            
            // ì‹œê°ì  stage labels ì—…ë°ì´íŠ¸
            const stageItems = document.querySelectorAll('.stage-item');
            if(stageItems[0]) stageItems[0].querySelector('.stage-label').innerHTML = t.stage1;
            if(stageItems[1]) stageItems[1].querySelector('.stage-label').innerHTML = t.stage2;
            if(stageItems[2]) stageItems[2].querySelector('.stage-label').innerHTML = t.stage3;
            if(stageItems[3]) stageItems[3].querySelector('.stage-label').innerHTML = t.stage4;
            
            // ë“œë¡­ë‹¤ìš´ ì˜µì…˜
            const journeySelect = document.getElementById('setJourney');
            journeySelect.options[0].text = `â‘  ${t.journey_seeker} - ${t.desc_seeker}`;
            journeySelect.options[1].text = `â‘¡ ${t.journey_believer} - ${t.desc_believer}`;
            journeySelect.options[2].text = `â‘¢ ${t.journey_disciple} - ${t.desc_disciple}`;
            journeySelect.options[3].text = `â‘£ ${t.journey_shepherd} - ${t.desc_shepherd}`;
            
            const shepherdSelect = document.getElementById('setShepherdType');
            shepherdSelect.options[0].text = t.opt_shepherd;
            shepherdSelect.options[1].text = t.opt_moknye;
            shepherdSelect.options[2].text = t.opt_mokbu;
            
            const saveBtn = document.querySelector('#settingModal .btn');
            if(saveBtn) saveBtn.innerText = t.modal_btn;
        }

        // íƒ­ ì „í™˜
        function switchTab(tabName, element) {
            document.querySelectorAll('.tab-content').forEach(content => {
                content.classList.remove('active');
            });
            document.getElementById('tab-' + tabName).classList.add('active');
            
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
            });
            element.classList.add('active');

            if(tabName === 'challenge') {
                checkChallengeStatus();
            }
            if(tabName === 'mokjang') {
                checkMokjangStatus();
            }
        }

        // ========== ì¼ì§€ ê¸°ëŠ¥ (ê¸°ì¡´ ìœ ì§€) ==========
        function toggleTimer() {
            const t = lang[curLang];
            const btn = document.getElementById('t-timer-btn');
            if(!isTimerRunning) {
                isTimerRunning = true; 
                btn.innerText = t.btn_pause; 
                btn.classList.add('running');
                timerInterval = setInterval(() => {
                    if(timeLeft > 0) {
                        timeLeft--;
                        const m = Math.floor(timeLeft/60).toString().padStart(2,'0');
                        const s = (timeLeft%60).toString().padStart(2,'0');
                        document.getElementById('timer').innerText = `${m}:${s}`;
                    } else endTimer();
                }, 1000);
            } else {
                clearInterval(timerInterval); 
                isTimerRunning = false; 
                btn.innerText = t.btn_resume; 
                btn.classList.remove('running');
                btn.classList.add('paused');
            }
        }
        
        function endTimer() {
            clearInterval(timerInterval); 
            isTimerRunning = false;
            document.getElementById('timer').innerText = "00:00";
            document.getElementById('t-timer-btn').innerText = 'íƒ€ì´ë¨¸ ì‹œì‘';
            document.getElementById('t-timer-btn').classList.remove('running', 'paused');
            playChime();
            setTimeout(() => { 
                alert('ê¸°ë„ ì‹œê°„ì´ ëë‚¬ìŠµë‹ˆë‹¤.'); 
                resetTimer(); 
            }, 500);
        }
        
        function resetTimer() { 
            timeLeft = 15 * 60; 
            document.getElementById('timer').innerText = "15:00"; 
        }
        
        function playChime() {
            const ctx = new (window.AudioContext || window.webkitAudioContext)();
            const osc = ctx.createOscillator(); 
            const gain = ctx.createGain();
            osc.type = 'sine'; 
            osc.frequency.setValueAtTime(880, ctx.currentTime); 
            osc.frequency.exponentialRampToValueAtTime(0.001, ctx.currentTime + 1.5);
            gain.gain.setValueAtTime(0.5, ctx.currentTime); 
            gain.gain.exponentialRampToValueAtTime(0.001, ctx.currentTime + 1.5);
            osc.connect(gain); 
            gain.connect(ctx.destination);
            osc.start(); 
            osc.stop(ctx.currentTime + 1.5);
        }

        function saveData() {
            const data = {
                id: editId ? editId : Date.now(),
                date: new Date().toLocaleDateString(),
                ref: document.getElementById('inRef').value,
                text: document.getElementById('inText').value,
                rhema: document.getElementById('inRhema').value,
                action: document.getElementById('inAction').value,
                thanks: document.getElementById('inThanks').value
            };
            
            if(!data.text && !data.rhema) {
                showToast('ë‚´ìš©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”');
                return;
            }
            
            let logs = JSON.parse(localStorage.getItem(DB_KEY) || '[]');
            if(editId) {
                const index = logs.findIndex(l => l.id === editId);
                if(index !== -1) logs[index] = data;
                showToast('ìˆ˜ì •ë˜ì—ˆìŠµë‹ˆë‹¤');
                exitEditMode();
            } else {
                logs.unshift(data);
                showToast('ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤');
            }
            
            localStorage.setItem(DB_KEY, JSON.stringify(logs));
            clearInputs();
            renderHistory();
        }

        function resetInput(...ids) { 
            ids.forEach(id => document.getElementById(id).value = ''); 
        }
        
        function clearInputs() { 
            resetInput('inRef','inText','inRhema','inAction','inThanks'); 
        }
        
        function viewHistory() {
            const t = lang[curLang];
            renderHistory();
            document.getElementById('historyModal').classList.add('active');
            // ëª¨ë‹¬ ì œëª© ì—…ë°ì´íŠ¸
            const modalTitle = document.getElementById('modal-history-title');
            if(modalTitle) modalTitle.innerText = t.list_title;
        }

        function closeHistory() {
            document.getElementById('historyModal').classList.remove('active');
        }

        function renderHistory() {
            const t = lang[curLang];
            const list = document.getElementById('historyList'); 
            const logs = JSON.parse(localStorage.getItem(DB_KEY) || '[]'); 
            list.innerHTML = '';
            if(logs.length === 0) { 
                list.innerHTML = `<div style="padding:30px; text-align:center; color:#999;">${t.empty_list}</div>`; 
                return; 
            }
            logs.forEach(log => {
                const el = document.createElement('div'); 
                el.className = 'log-item';
                el.innerHTML = `
                    <div>
                        <div class="log-date">${log.date}</div>
                        <div class="log-ref">${log.ref||'-'}</div>
                    </div>
                    <div style="font-size:1.2rem; color:#ccc;">â€º</div>
                `;
                el.onclick = () => openViewModal(log.id); 
                list.appendChild(el);
            });
        }
        
        function openViewModal(id) {
            viewId = id; 
            const logs = JSON.parse(localStorage.getItem(DB_KEY) || '[]'); 
            const log = logs.find(l => l.id === id); 
            if(!log) return;
            
            document.getElementById('v-date').innerText = log.date; 
            document.getElementById('v-ref').innerText = log.ref || '-';
            document.getElementById('v-text').innerText = log.text; 
            document.getElementById('v-rhema').innerText = log.rhema;
            document.getElementById('v-action').innerText = log.action; 
            document.getElementById('v-thanks').innerText = log.thanks;
            document.getElementById('viewModal').classList.add('active');
        }
        
        function closeViewModal() { 
            document.getElementById('viewModal').classList.remove('active'); 
            viewId = null; 
        }
        
        function editCurrentLog() {
            if(!viewId) return; 
            const logs = JSON.parse(localStorage.getItem(DB_KEY) || '[]'); 
            const log = logs.find(l => l.id === viewId);
            closeViewModal(); 
            
            // ì¼ì§€ íƒ­ìœ¼ë¡œ ì „í™˜
            document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
            document.getElementById('tab-journal').classList.add('active');
            document.querySelectorAll('.nav-item').forEach(i => i.classList.remove('active'));
            document.querySelectorAll('.nav-item')[0].classList.add('active');
            
            document.getElementById('inRef').value = log.ref; 
            document.getElementById('inText').value = log.text;
            document.getElementById('inRhema').value = log.rhema; 
            document.getElementById('inAction').value = log.action; 
            document.getElementById('inThanks').value = log.thanks;
            editId = log.id;
            document.getElementById('t-btn-save').innerText = 'ìˆ˜ì • ì™„ë£Œ';
        }

        function deleteCurrentLog() {
            if(!viewId) return; 
            if(confirm('ì´ ê¸°ë¡ì„ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
                let logs = JSON.parse(localStorage.getItem(DB_KEY) || '[]'); 
                logs = logs.filter(l => l.id !== viewId);
                localStorage.setItem(DB_KEY, JSON.stringify(logs)); 
                showToast('ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤'); 
                closeViewModal(); 
                renderHistory();
            }
        }
        
        function exitEditMode() { 
            editId = null; 
            clearInputs(); 
            document.getElementById('t-btn-save').innerText = 'ì™„ë£Œ';
        }

        // ========== 21ì¼ ì±Œë¦°ì§€ ê¸°ëŠ¥ ==========
        function checkChallengeStatus() {
            const started = localStorage.getItem(CHALLENGE_STARTED_KEY);
            
            if(started === 'true') {
                document.getElementById('challenge-not-started').style.display = 'none';
                document.getElementById('challenge-in-progress').style.display = 'block';
                loadChallengeProgress();
                updateChallengeProgress();
            } else {
                document.getElementById('challenge-not-started').style.display = 'block';
                document.getElementById('challenge-in-progress').style.display = 'none';
            }
        }

        function startChallenge() {
            const t = lang[curLang];
            if(confirm(curLang === 'ko' ? '21ì¼ ê²½ì²­ ì±Œë¦°ì§€ë¥¼ ì‹œì‘í•˜ì‹œê² ìŠµë‹ˆê¹Œ?' : 'Start 21-day listening challenge?')) {
                localStorage.setItem(CHALLENGE_STARTED_KEY, 'true');
                localStorage.setItem(CHALLENGE_KEY, JSON.stringify([]));
                checkChallengeStatus();
                showToast(t.msg_challenge_start);
            }
        }

        function toggleDay(day) {
            const t = lang[curLang];
            const dayItem = document.querySelector(`[data-day="${day}"]`);
            const isCompleted = dayItem.classList.contains('completed');

            if(!isCompleted) {
                if(confirm(`Day ${day} ${t.msg_challenge_complete}?`)) {
                    dayItem.classList.add('completed');
                    dayItem.querySelector('.day-check').innerHTML = 'âœ“';
                    saveChallengeProgress();
                    updateChallengeProgress();
                    showToast(`Day ${day} ${t.msg_challenge_complete}! ğŸ‰`);
                }
            } else {
                if(confirm(`Day ${day} ${curLang === 'ko' ? 'ì™„ë£Œë¥¼ ì·¨ì†Œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?' : 'Cancel completion?'}`)) {
                    dayItem.classList.remove('completed');
                    dayItem.querySelector('.day-check').innerHTML = 'â—‹';
                    saveChallengeProgress();
                    updateChallengeProgress();
                    showToast(t.msg_challenge_cancel);
                }
            }
        }

        function saveChallengeProgress() {
            const completed = [];
            for(let i = 1; i <= 21; i++) {
                const item = document.querySelector(`[data-day="${i}"]`);
                if(item && item.classList.contains('completed')) {
                    completed.push(i);
                }
            }
            localStorage.setItem(CHALLENGE_KEY, JSON.stringify(completed));
        }

        function loadChallengeProgress() {
            const completed = JSON.parse(localStorage.getItem(CHALLENGE_KEY) || '[]');
            completed.forEach(day => {
                const item = document.querySelector(`[data-day="${day}"]`);
                if(item) {
                    item.classList.add('completed');
                    item.querySelector('.day-check').innerHTML = 'âœ“';
                }
            });
        }

        function updateChallengeProgress() {
            const completed = JSON.parse(localStorage.getItem(CHALLENGE_KEY) || '[]');
            const count = completed.length;
            const percent = Math.round((count / 21) * 100);
            
            document.getElementById('progressDays').innerText = count;
            document.getElementById('progressBar').style.width = percent + '%';

            const statusDiv = document.getElementById('challengeStatus');
            if(count === 21) {
                statusDiv.classList.add('completed');
                showConfetti();
            } else {
                statusDiv.classList.remove('completed');
            }
        }

        function resetChallenge() {
            const t = lang[curLang];
            const confirmMsg = curLang === 'ko' ? 
                'ì±Œë¦°ì§€ë¥¼ ì²˜ìŒë¶€í„° ë‹¤ì‹œ ì‹œì‘í•˜ì‹œê² ìŠµë‹ˆê¹Œ?\n\ní˜„ì¬ ì§„í–‰ ìƒí™©ì´ ì´ˆê¸°í™”ë©ë‹ˆë‹¤.' :
                'Restart challenge from the beginning?\n\nCurrent progress will be reset.';
            
            if(confirm(confirmMsg)) {
                localStorage.setItem(CHALLENGE_KEY, JSON.stringify([]));
                
                // ëª¨ë“  day ì´ˆê¸°í™”
                for(let i = 1; i <= 21; i++) {
                    const item = document.querySelector(`[data-day="${i}"]`);
                    if(item) {
                        item.classList.remove('completed');
                        item.querySelector('.day-check').innerHTML = 'â—‹';
                    }
                }
                
                updateChallengeProgress();
                showToast(t.msg_challenge_reset);
            }
        }

        function shareProgress() {
            const completed = JSON.parse(localStorage.getItem(CHALLENGE_KEY) || '[]');
            const count = completed.length;
            const name = localStorage.getItem('galtar_name') || 'ì €';
            
            const message = `ğŸ¯ 21ì¼ ê²½ì²­ í”„ë¡œì íŠ¸

${name}ë‹˜ì´ ${count}/21ì¼ì„ ì™„ë£Œí–ˆìŠµë‹ˆë‹¤! ğŸ‰

í•¨ê»˜ í•˜ë‚˜ë‹˜ì˜ ìŒì„±ì„ ë“£ëŠ” ê·€ë¥¼ íšŒë³µí•´ìš”!

#ì‹œì• í‹€ì§€êµ¬ì´ŒêµíšŒ #ê²½ì²­í›ˆë ¨ #Genesis1314`;

            if (navigator.share) {
                navigator.share({
                    title: 'G-ALTAR 1314 ê²½ì²­',
                    text: message
                });
            } else {
                navigator.clipboard.writeText(message);
                showToast('ë©”ì‹œì§€ê°€ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤');
            }
        }

        function showConfetti() {
            // ê°„ë‹¨í•œ ì™„ì£¼ ì¶•í•˜ íš¨ê³¼ (ì˜µì…˜)
            console.log('ğŸ‰ 21ì¼ ì™„ì£¼ë¥¼ ì¶•í•˜í•©ë‹ˆë‹¤!');
        }

        // ========== ëª©ì¥ ê¸°ëŠ¥ ==========
        function checkMokjangStatus() {
            const code = localStorage.getItem('galtar_mokjang_code');
            
            if(code) {
                document.getElementById('mokjang-not-setup').style.display = 'none';
                document.getElementById('mokjang-content').style.display = 'block';
                loadMokjangData(code);
            } else {
                document.getElementById('mokjang-not-setup').style.display = 'block';
                document.getElementById('mokjang-content').style.display = 'none';
            }
        }

        function openMokjangSetup() {
            const t = lang[curLang];
            document.getElementById('mokjangSetupModal').classList.add('active');
            
            // ëª¨ë‹¬ í…ìŠ¤íŠ¸ ì—…ë°ì´íŠ¸
            const modalTitle = document.getElementById('mokjang-setup-title');
            if(modalTitle) modalTitle.innerText = t.mokjang_modal_title;
            
            const modalDesc = document.getElementById('mokjang-setup-desc');
            if(modalDesc) modalDesc.innerText = t.mokjang_modal_desc;
            
            const codeInput = document.getElementById('inputMokjangCode');
            if(codeInput) codeInput.placeholder = t.mokjang_code_ph;
            
            const helpText = document.getElementById('mokjang-setup-help');
            if(helpText) helpText.innerText = t.mokjang_code_help;
            
            const joinBtn = document.getElementById('mokjang-join-btn');
            if(joinBtn) joinBtn.innerText = t.mokjang_join;
        }

        function closeMokjangSetup() {
            document.getElementById('mokjangSetupModal').classList.remove('active');
        }

        function joinMokjang() {
            const code = document.getElementById('inputMokjangCode').value.trim().toUpperCase();
            
            if(!code) {
                showToast('ëª©ì¥ ì½”ë“œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”');
                return;
            }
            
            localStorage.setItem('galtar_mokjang_code', code);
            closeMokjangSetup();
            checkMokjangStatus();
            showToast('ëª©ì¥ì— ì°¸ì—¬í–ˆìŠµë‹ˆë‹¤!');
        }

        function leaveMokjang() {
            if(confirm('ëª©ì¥ì—ì„œ ë‚˜ê°€ì‹œê² ìŠµë‹ˆê¹Œ?')) {
                localStorage.removeItem('galtar_mokjang_code');
                checkMokjangStatus();
                showToast('ëª©ì¥ì—ì„œ ë‚˜ì™”ìŠµë‹ˆë‹¤');
            }
        }

        function loadMokjangData(code) {
            document.getElementById('mokjangName').innerText = code.replace('MOKJANG', 'ëª©ì¥');
            
            // ì˜ˆì‹œ ë°ì´í„° (ì‹¤ì œë¡œëŠ” Firebaseì—ì„œ ë¡œë“œ)
            const members = [
                { name: 'í™ê¸¸ë™', completed: true },
                { name: 'ê¹€ì² ìˆ˜', completed: true },
                { name: 'ì´ì˜í¬', completed: false },
                { name: 'ë°•ë¯¼ìˆ˜', completed: true },
                { name: 'ìµœë‹¤ìœ—', completed: false },
                { name: 'ì •ì€í˜œ', completed: true }
            ];
            
            const grid = document.getElementById('memberGrid');
            grid.innerHTML = '';
            
            let completedCount = 0;
            members.forEach(member => {
                if(member.completed) completedCount++;
                
                const div = document.createElement('div');
                div.className = 'member-item' + (member.completed ? ' completed' : '');
                div.innerHTML = `
                    <div class="member-name">${member.name}</div>
                    <div class="member-status">${member.completed ? 'âœ“' : 'â—‹'}</div>
                `;
                grid.appendChild(div);
            });
            
            document.getElementById('mokjangCompleted').innerText = completedCount;
            document.getElementById('mokjangTotal').innerText = members.length;
        }

        // ========== ì„¤ì • ê¸°ëŠ¥ ==========
        function openSettings() {
            document.getElementById('settingModal').classList.add('active');
            const name = localStorage.getItem('galtar_name');
            const mokjang = localStorage.getItem('galtar_mokjang');
            const journey = localStorage.getItem('galtar_journey') || 'seeker';
            const shepherdType = localStorage.getItem('galtar_shepherd_type') || 'shepherd';
            
            if(name) document.getElementById('setName').value = name;
            if(mokjang) document.getElementById('setMokjang').value = mokjang;
            document.getElementById('setJourney').value = journey;
            document.getElementById('setShepherdType').value = shepherdType;
            onJourneyChange();
        }

        function closeSettings() {
            document.getElementById('settingModal').classList.remove('active');
        }

        function saveSettings() {
            const n = document.getElementById('setName').value;
            const m = document.getElementById('setMokjang').value;
            const j = document.getElementById('setJourney').value;
            const st = document.getElementById('setShepherdType').value;
            
            if(n){ 
                localStorage.setItem('galtar_name', n); 
                localStorage.setItem('galtar_mokjang', m);
                localStorage.setItem('galtar_journey', j); 
                localStorage.setItem('galtar_shepherd_type', st);
                closeSettings();
                loadSettings(); 
                showToast('ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤');
            } else {
                showToast('ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”');
            }
        }
        
        function onJourneyChange() {
            const journey = document.getElementById('setJourney').value;
            const shepherdDetail = document.getElementById('shepherdDetail');
            
            if (journey === 'shepherd') {
                shepherdDetail.classList.add('show');
            } else {
                shepherdDetail.classList.remove('show');
            }
            
            updateJourneyVisual(journey);
        }
        
        function updateJourneyVisual(journey) {
            const stages = document.querySelectorAll('.stage-item');
            const stageMap = { seeker: 0, believer: 1, disciple: 2, shepherd: 3 };
            const activeIndex = stageMap[journey];
            
            stages.forEach((stage, index) => {
                if (index <= activeIndex) {
                    stage.classList.add('active');
                } else {
                    stage.classList.remove('active');
                }
            });
        }
        
        function loadSettings() {
            const t = lang[curLang];
            const name = localStorage.getItem('galtar_name');
            const mokjang = localStorage.getItem('galtar_mokjang');
            const journey = localStorage.getItem('galtar_journey') || 'seeker';
            const shepherdType = localStorage.getItem('galtar_shepherd_type') || 'shepherd';
            
            if(name) { 
                let roleText;
                const roleMap = {
                    seeker: t.journey_seeker,
                    believer: t.journey_believer,
                    disciple: t.journey_disciple,
                    shepherd: shepherdType === 'moknye' ? t.journey_moknye : shepherdType === 'mokbu' ? t.journey_mokbu : t.journey_shepherd
                };
                
                roleText = roleMap[journey];
                
                document.getElementById('displayName').innerText = mokjang ? mokjang : name; 
                document.getElementById('displayJourney').innerText = mokjang ? `${name} (${roleText})` : `(${roleText})`; 
                document.getElementById('t-role').innerText = roleText;
            } else {
                // í”„ë¡œí•„ì´ ì—†ì„ ë•Œ ê¸°ë³¸ í…ìŠ¤íŠ¸ (í˜„ì¬ ì–¸ì–´ì— ë§ê²Œ)
                document.getElementById('displayName').innerText = t.default_profile;
                document.getElementById('displayJourney').innerText = '';
                document.getElementById('t-role').innerText = t.default_role;
            }
        }

        // ========== ìœ í‹¸ë¦¬í‹° ==========
        function showToast(msg) {
            const toast = document.getElementById('toast');
            toast.innerText = msg;
            toast.className = 'show';
            setTimeout(() => {
                toast.className = '';
            }, 3000);
        }
    </script>
</body>
</html>