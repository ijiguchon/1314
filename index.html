<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    
    <!-- ì•± ì•„ì´ì½˜ ì„¤ì • -->
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg%20xmlns%3D%27http%3A//www.w3.org/2000/svg%27%20viewBox%3D%270%200%20512%20512%27%3E%20%3Cdefs%3E%20%3C%21--%20Background%20gradient%20--%3E%20%3ClinearGradient%20id%3D%27bgGrad%27%20x1%3D%270%25%27%20y1%3D%270%25%27%20x2%3D%27100%25%27%20y2%3D%27100%25%27%3E%20%3Cstop%20offset%3D%270%25%27%20style%3D%27stop-color%3A%231F4788%3Bstop-opacity%3A1%27%20/%3E%20%3Cstop%20offset%3D%27100%25%27%20style%3D%27stop-color%3A%230d2347%3Bstop-opacity%3A1%27%20/%3E%20%3C/linearGradient%3E%20%3C%21--%20Altar%20gradient%20--%3E%20%3ClinearGradient%20id%3D%27altarGrad%27%20x1%3D%270%25%27%20y1%3D%2750%25%27%20x2%3D%27100%25%27%20y2%3D%2750%25%27%3E%20%3Cstop%20offset%3D%270%25%27%20style%3D%27stop-color%3A%23C9A227%3Bstop-opacity%3A1%27%20/%3E%20%3Cstop%20offset%3D%27100%25%27%20style%3D%27stop-color%3A%23b08d1e%3Bstop-opacity%3A1%27%20/%3E%20%3C/linearGradient%3E%20%3C%21--%20Top%20shine%20--%3E%20%3ClinearGradient%20id%3D%27topShine%27%20x1%3D%270%25%27%20y1%3D%270%25%27%20x2%3D%270%25%27%20y2%3D%27100%25%27%3E%20%3Cstop%20offset%3D%270%25%27%20style%3D%27stop-color%3A%23ffffff%3Bstop-opacity%3A0.1%27%20/%3E%20%3Cstop%20offset%3D%2740%25%27%20style%3D%27stop-color%3A%23ffffff%3Bstop-opacity%3A0%27%20/%3E%20%3C/linearGradient%3E%20%3C%21--%20North%20ray%20gradient%20--%3E%20%3ClinearGradient%20id%3D%27rayNorth%27%20x1%3D%270%25%27%20y1%3D%27100%25%27%20x2%3D%270%25%27%20y2%3D%270%25%27%3E%20%3Cstop%20offset%3D%270%25%27%20style%3D%27stop-color%3A%23FFE5A0%3Bstop-opacity%3A1%27%20/%3E%20%3Cstop%20offset%3D%27100%25%27%20style%3D%27stop-color%3A%23FFE5A0%3Bstop-opacity%3A0%27%20/%3E%20%3C/linearGradient%3E%20%3C%21--%20South%20ray%20gradient%20--%3E%20%3ClinearGradient%20id%3D%27raySouth%27%20x1%3D%270%25%27%20y1%3D%270%25%27%20x2%3D%270%25%27%20y2%3D%27100%25%27%3E%20%3Cstop%20offset%3D%270%25%27%20style%3D%27stop-color%3A%23FFE5A0%3Bstop-opacity%3A1%27%20/%3E%20%3Cstop%20offset%3D%27100%25%27%20style%3D%27stop-color%3A%23FFE5A0%3Bstop-opacity%3A0%27%20/%3E%20%3C/linearGradient%3E%20%3C%21--%20West%20ray%20gradient%20--%3E%20%3ClinearGradient%20id%3D%27rayWest%27%20x1%3D%27100%25%27%20y1%3D%270%25%27%20x2%3D%270%25%27%20y2%3D%270%25%27%3E%20%3Cstop%20offset%3D%270%25%27%20style%3D%27stop-color%3A%23FFE5A0%3Bstop-opacity%3A1%27%20/%3E%20%3Cstop%20offset%3D%27100%25%27%20style%3D%27stop-color%3A%23FFE5A0%3Bstop-opacity%3A0%27%20/%3E%20%3C/linearGradient%3E%20%3C%21--%20East%20ray%20gradient%20--%3E%20%3ClinearGradient%20id%3D%27rayEast%27%20x1%3D%270%25%27%20y1%3D%270%25%27%20x2%3D%27100%25%27%20y2%3D%270%25%27%3E%20%3Cstop%20offset%3D%270%25%27%20style%3D%27stop-color%3A%23FFE5A0%3Bstop-opacity%3A1%27%20/%3E%20%3Cstop%20offset%3D%27100%25%27%20style%3D%27stop-color%3A%23FFE5A0%3Bstop-opacity%3A0%27%20/%3E%20%3C/linearGradient%3E%20%3C%21--%20Shadow%20filter%20--%3E%20%3Cfilter%20id%3D%27shadow%27%3E%20%3CfeDropShadow%20dx%3D%270%27%20dy%3D%2710%27%20stdDeviation%3D%278%27%20flood-opacity%3D%270.3%27/%3E%20%3C/filter%3E%20%3C%21--%20Glow%20filter%20--%3E%20%3Cfilter%20id%3D%27glow%27%3E%20%3CfeGaussianBlur%20stdDeviation%3D%2712%27%20result%3D%27coloredBlur%27/%3E%20%3CfeMerge%3E%20%3CfeMergeNode%20in%3D%27coloredBlur%27/%3E%20%3CfeMergeNode%20in%3D%27SourceGraphic%27/%3E%20%3C/feMerge%3E%20%3C/filter%3E%20%3C/defs%3E%20%3C%21--%20Background%20with%20rounded%20corners%20--%3E%20%3Crect%20width%3D%27512%27%20height%3D%27512%27%20rx%3D%27110%27%20fill%3D%27url%28%23bgGrad%29%27/%3E%20%3C%21--%20Subtle%20top%20shine%20--%3E%20%3Crect%20width%3D%27512%27%20height%3D%27205%27%20rx%3D%27110%27%20fill%3D%27url%28%23topShine%29%27/%3E%20%3C%21--%20Mission%20Light%20Container%20positioned%20higher%20--%3E%20%3C%21--%20North%20Ray%20--%3E%20%3Crect%20x%3D%27250%27%20y%3D%2780%27%20width%3D%2712%27%20height%3D%27100%27%20rx%3D%276%27%20fill%3D%27url%28%23rayNorth%29%27/%3E%20%3C%21--%20South%20Ray%20--%3E%20%3Crect%20x%3D%27250%27%20y%3D%27180%27%20width%3D%2712%27%20height%3D%2780%27%20rx%3D%276%27%20fill%3D%27url%28%23raySouth%29%27/%3E%20%3C%21--%20West%20Ray%20--%3E%20%3Crect%20x%3D%27156%27%20y%3D%27174%27%20width%3D%27100%27%20height%3D%2712%27%20rx%3D%276%27%20fill%3D%27url%28%23rayWest%29%27/%3E%20%3C%21--%20East%20Ray%20--%3E%20%3Crect%20x%3D%27256%27%20y%3D%27174%27%20width%3D%27100%27%20height%3D%2712%27%20rx%3D%276%27%20fill%3D%27url%28%23rayEast%29%27/%3E%20%3C%21--%20Light%20Core%20with%20glow%20--%3E%20%3Ccircle%20cx%3D%27256%27%20cy%3D%27180%27%20r%3D%2720%27%20fill%3D%27%23FFE5A0%27%20opacity%3D%270.6%27%20filter%3D%27url%28%23glow%29%27/%3E%20%3Ccircle%20cx%3D%27256%27%20cy%3D%27180%27%20r%3D%2715%27%20fill%3D%27%23FFF%27/%3E%20%3C%21--%20Altar%20%28trapezoid%20shape%29%20--%3E%20%3Cpath%20d%3D%27M%20189%20290%20L%20323%20290%20L%20346%20340%20L%20166%20340%20Z%27%20fill%3D%27url%28%23altarGrad%29%27%20filter%3D%27url%28%23shadow%29%27/%3E%20%3C%21--%20Text%3A%20Hebron%20--%3E%20%3Ctext%20x%3D%27256%27%20y%3D%27405%27%20font-family%3D%27system-ui%2C%20-apple-system%2C%20BlinkMacSystemFont%2C%20sans-serif%27%20font-size%3D%2775%27%20font-weight%3D%27800%27%20fill%3D%27white%27%20text-anchor%3D%27middle%27%20letter-spacing%3D%27-1%27%20style%3D%27text-shadow%3A%200%202px%2010px%20rgba%280%2C0%2C0%2C0.3%29%27%3EHebron%3C/text%3E%20%3C%21--%20Text%3A%20GEN%2013%3A14%20--%3E%20%3Ctext%20x%3D%27256%27%20y%3D%27440%27%20font-family%3D%27system-ui%2C%20-apple-system%2C%20BlinkMacSystemFont%2C%20sans-serif%27%20font-size%3D%2722%27%20font-weight%3D%27600%27%20fill%3D%27%23C9A227%27%20text-anchor%3D%27middle%27%20letter-spacing%3D%274%27%20opacity%3D%270.9%27%3EGEN%2013%3A14%3C/text%3E%20%3C/svg%3E">
    <link rel="apple-touch-icon" href="data:image/svg+xml,%3Csvg%20xmlns%3D%27http%3A//www.w3.org/2000/svg%27%20viewBox%3D%270%200%20512%20512%27%3E%20%3Cdefs%3E%20%3C%21--%20Background%20gradient%20--%3E%20%3ClinearGradient%20id%3D%27bgGrad%27%20x1%3D%270%25%27%20y1%3D%270%25%27%20x2%3D%27100%25%27%20y2%3D%27100%25%27%3E%20%3Cstop%20offset%3D%270%25%27%20style%3D%27stop-color%3A%231F4788%3Bstop-opacity%3A1%27%20/%3E%20%3Cstop%20offset%3D%27100%25%27%20style%3D%27stop-color%3A%230d2347%3Bstop-opacity%3A1%27%20/%3E%20%3C/linearGradient%3E%20%3C%21--%20Altar%20gradient%20--%3E%20%3ClinearGradient%20id%3D%27altarGrad%27%20x1%3D%270%25%27%20y1%3D%2750%25%27%20x2%3D%27100%25%27%20y2%3D%2750%25%27%3E%20%3Cstop%20offset%3D%270%25%27%20style%3D%27stop-color%3A%23C9A227%3Bstop-opacity%3A1%27%20/%3E%20%3Cstop%20offset%3D%27100%25%27%20style%3D%27stop-color%3A%23b08d1e%3Bstop-opacity%3A1%27%20/%3E%20%3C/linearGradient%3E%20%3C%21--%20Top%20shine%20--%3E%20%3ClinearGradient%20id%3D%27topShine%27%20x1%3D%270%25%27%20y1%3D%270%25%27%20x2%3D%270%25%27%20y2%3D%27100%25%27%3E%20%3Cstop%20offset%3D%270%25%27%20style%3D%27stop-color%3A%23ffffff%3Bstop-opacity%3A0.1%27%20/%3E%20%3Cstop%20offset%3D%2740%25%27%20style%3D%27stop-color%3A%23ffffff%3Bstop-opacity%3A0%27%20/%3E%20%3C/linearGradient%3E%20%3C%21--%20North%20ray%20gradient%20--%3E%20%3ClinearGradient%20id%3D%27rayNorth%27%20x1%3D%270%25%27%20y1%3D%27100%25%27%20x2%3D%270%25%27%20y2%3D%270%25%27%3E%20%3Cstop%20offset%3D%270%25%27%20style%3D%27stop-color%3A%23FFE5A0%3Bstop-opacity%3A1%27%20/%3E%20%3Cstop%20offset%3D%27100%25%27%20style%3D%27stop-color%3A%23FFE5A0%3Bstop-opacity%3A0%27%20/%3E%20%3C/linearGradient%3E%20%3C%21--%20South%20ray%20gradient%20--%3E%20%3ClinearGradient%20id%3D%27raySouth%27%20x1%3D%270%25%27%20y1%3D%270%25%27%20x2%3D%270%25%27%20y2%3D%27100%25%27%3E%20%3Cstop%20offset%3D%270%25%27%20style%3D%27stop-color%3A%23FFE5A0%3Bstop-opacity%3A1%27%20/%3E%20%3Cstop%20offset%3D%27100%25%27%20style%3D%27stop-color%3A%23FFE5A0%3Bstop-opacity%3A0%27%20/%3E%20%3C/linearGradient%3E%20%3C%21--%20West%20ray%20gradient%20--%3E%20%3ClinearGradient%20id%3D%27rayWest%27%20x1%3D%27100%25%27%20y1%3D%270%25%27%20x2%3D%270%25%27%20y2%3D%270%25%27%3E%20%3Cstop%20offset%3D%270%25%27%20style%3D%27stop-color%3A%23FFE5A0%3Bstop-opacity%3A1%27%20/%3E%20%3Cstop%20offset%3D%27100%25%27%20style%3D%27stop-color%3A%23FFE5A0%3Bstop-opacity%3A0%27%20/%3E%20%3C/linearGradient%3E%20%3C%21--%20East%20ray%20gradient%20--%3E%20%3ClinearGradient%20id%3D%27rayEast%27%20x1%3D%270%25%27%20y1%3D%270%25%27%20x2%3D%27100%25%27%20y2%3D%270%25%27%3E%20%3Cstop%20offset%3D%270%25%27%20style%3D%27stop-color%3A%23FFE5A0%3Bstop-opacity%3A1%27%20/%3E%20%3Cstop%20offset%3D%27100%25%27%20style%3D%27stop-color%3A%23FFE5A0%3Bstop-opacity%3A0%27%20/%3E%20%3C/linearGradient%3E%20%3C%21--%20Shadow%20filter%20--%3E%20%3Cfilter%20id%3D%27shadow%27%3E%20%3CfeDropShadow%20dx%3D%270%27%20dy%3D%2710%27%20stdDeviation%3D%278%27%20flood-opacity%3D%270.3%27/%3E%20%3C/filter%3E%20%3C%21--%20Glow%20filter%20--%3E%20%3Cfilter%20id%3D%27glow%27%3E%20%3CfeGaussianBlur%20stdDeviation%3D%2712%27%20result%3D%27coloredBlur%27/%3E%20%3CfeMerge%3E%20%3CfeMergeNode%20in%3D%27coloredBlur%27/%3E%20%3CfeMergeNode%20in%3D%27SourceGraphic%27/%3E%20%3C/feMerge%3E%20%3C/filter%3E%20%3C/defs%3E%20%3C%21--%20Background%20with%20rounded%20corners%20--%3E%20%3Crect%20width%3D%27512%27%20height%3D%27512%27%20rx%3D%27110%27%20fill%3D%27url%28%23bgGrad%29%27/%3E%20%3C%21--%20Subtle%20top%20shine%20--%3E%20%3Crect%20width%3D%27512%27%20height%3D%27205%27%20rx%3D%27110%27%20fill%3D%27url%28%23topShine%29%27/%3E%20%3C%21--%20Mission%20Light%20Container%20positioned%20higher%20--%3E%20%3C%21--%20North%20Ray%20--%3E%20%3Crect%20x%3D%27250%27%20y%3D%2780%27%20width%3D%2712%27%20height%3D%27100%27%20rx%3D%276%27%20fill%3D%27url%28%23rayNorth%29%27/%3E%20%3C%21--%20South%20Ray%20--%3E%20%3Crect%20x%3D%27250%27%20y%3D%27180%27%20width%3D%2712%27%20height%3D%2780%27%20rx%3D%276%27%20fill%3D%27url%28%23raySouth%29%27/%3E%20%3C%21--%20West%20Ray%20--%3E%20%3Crect%20x%3D%27156%27%20y%3D%27174%27%20width%3D%27100%27%20height%3D%2712%27%20rx%3D%276%27%20fill%3D%27url%28%23rayWest%29%27/%3E%20%3C%21--%20East%20Ray%20--%3E%20%3Crect%20x%3D%27256%27%20y%3D%27174%27%20width%3D%27100%27%20height%3D%2712%27%20rx%3D%276%27%20fill%3D%27url%28%23rayEast%29%27/%3E%20%3C%21--%20Light%20Core%20with%20glow%20--%3E%20%3Ccircle%20cx%3D%27256%27%20cy%3D%27180%27%20r%3D%2720%27%20fill%3D%27%23FFE5A0%27%20opacity%3D%270.6%27%20filter%3D%27url%28%23glow%29%27/%3E%20%3Ccircle%20cx%3D%27256%27%20cy%3D%27180%27%20r%3D%2715%27%20fill%3D%27%23FFF%27/%3E%20%3C%21--%20Altar%20%28trapezoid%20shape%29%20--%3E%20%3Cpath%20d%3D%27M%20189%20290%20L%20323%20290%20L%20346%20340%20L%20166%20340%20Z%27%20fill%3D%27url%28%23altarGrad%29%27%20filter%3D%27url%28%23shadow%29%27/%3E%20%3C%21--%20Text%3A%20Hebron%20--%3E%20%3Ctext%20x%3D%27256%27%20y%3D%27405%27%20font-family%3D%27system-ui%2C%20-apple-system%2C%20BlinkMacSystemFont%2C%20sans-serif%27%20font-size%3D%2775%27%20font-weight%3D%27800%27%20fill%3D%27white%27%20text-anchor%3D%27middle%27%20letter-spacing%3D%27-1%27%20style%3D%27text-shadow%3A%200%202px%2010px%20rgba%280%2C0%2C0%2C0.3%29%27%3EHebron%3C/text%3E%20%3C%21--%20Text%3A%20GEN%2013%3A14%20--%3E%20%3Ctext%20x%3D%27256%27%20y%3D%27440%27%20font-family%3D%27system-ui%2C%20-apple-system%2C%20BlinkMacSystemFont%2C%20sans-serif%27%20font-size%3D%2722%27%20font-weight%3D%27600%27%20fill%3D%27%23C9A227%27%20text-anchor%3D%27middle%27%20letter-spacing%3D%274%27%20opacity%3D%270.9%27%3EGEN%2013%3A14%3C/text%3E%20%3C/svg%3E">
    
    <!-- PWA ì„¤ì • -->
    <meta name="theme-color" content="#1F4788">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Hebron">
    <link rel="manifest" href="manifest.json">
    
    <meta name="author" content="Global Mission Church of Greater Seattle">
    <meta name="copyright" content="Copyright Â© 2026 GMC Seattle. All rights reserved.">
    
    <meta property="og:title" content="Hebron - GENESIS 13:14">
    <meta property="og:description" content="My Altar of Union with God | GMC Seattle">
    <meta property="og:image" content="poster.png">
    
    <title>Hebron - My Altar of Union with God</title>
    
    <!-- Firebase SDK v10 -->
    <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore-compat.js"></script>
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&family=Cinzel:wght@700;900&family=Noto+Serif+KR:wght@600;700&display=swap');

        :root {
            --navy: #1F4788; --navy-dark: #152E5A;
            --gold: #C9A227; --green: #27AE60;
            --bg: #F0F2F5; --text: #333333;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        body { font-family: 'Noto Sans KR', sans-serif; background: var(--bg); color: var(--text); padding-bottom: 90px; }

        header {
            background: linear-gradient(135deg, var(--navy-dark), var(--navy));
            color: white; padding: 15px 20px 25px;
            border-bottom-left-radius: 25px; border-bottom-right-radius: 25px;
            box-shadow: 0 4px 15px rgba(31, 71, 136, 0.3);
        }
        .header-top { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; }
        
        .church-link { 
            text-decoration: none; color: white; display: flex; align-items: center; gap: 10px;
            opacity: 1; transition: opacity 0.2s; max-width: 80%;
        }
        .church-link:active { opacity: 0.7; }
        
        .church-logo {
            width: 45px; height: 45px; object-fit: cover;
            background: white; border-radius: 50%; padding: 0;
            border: 2px solid rgba(255,255,255,0.3);
            box-shadow: 0 2px 8px rgba(0,0,0,0.25);
        }

        .church-name { font-size: 0.75rem; font-weight: 500; letter-spacing: 0.5px; line-height: 1.2; text-shadow: 0 1px 2px rgba(0,0,0,0.3); }
        
        .lang-toggle {
            background: rgba(255,255,255,0.2); border: 1px solid rgba(255,255,255,0.3);
            border-radius: 12px; padding: 5px 12px; font-size: 0.75rem; font-weight: 700; color: white; cursor: pointer; flex-shrink: 0;
        }
        .app-title-box { text-align: center; }
        .main-title { font-family: 'Cinzel', serif; font-size: 1.6rem; font-weight: 900; letter-spacing: 1px; }
        .sub-title { font-size: 0.8rem; opacity: 0.85; }

        .id-card {
            background: rgba(255,255,255,0.15); backdrop-filter: blur(5px);
            border-left: 3px solid var(--gold); margin-top: 15px; padding: 10px 15px;
            border-radius: 0 10px 10px 0; cursor: pointer; position: relative;
        }
        .id-card::after { content: 'âš™ï¸'; position: absolute; right: 10px; top: 50%; transform: translateY(-50%); opacity: 0.7; }
        .role-badge { font-size: 0.65rem; color: var(--gold); font-weight: 800; display: block; text-transform: uppercase; }
        .mokjang-text { font-family: 'Noto Serif KR', serif; font-size: 1.1rem; font-weight: 700; }

        .routine-banner {
            background: white; margin: -15px 15px 15px; border-radius: 15px;
            padding: 15px; box-shadow: 0 4px 10px rgba(0,0,0,0.05); text-align: center; position: relative; z-index: 10;
        }
        .routine-grid { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 5px; }
        .r-item span { display: block; }
        .r-title { font-size: 0.7rem; color: #666; font-weight: 600; }
        .r-time { font-size: 0.9rem; font-weight: 800; color: var(--navy); }
        .key-verse { margin-top: 10px; padding-top: 8px; border-top: 1px solid #eee; color: var(--navy); font-weight: 700; font-size: 0.85rem; font-style: italic; }

        .container { padding: 0 15px; max-width: 600px; margin: 0 auto; }
        
        /* íƒ­ ì½˜í…ì¸  */
        .tab-content {
            display: none;
            animation: fadeIn 0.3s ease;
        }
        .tab-content.active {
            display: block;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .card {
            background: white; border-radius: 16px; padding: 18px; margin-bottom: 15px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.03);
        }
        .card-header { display: flex; align-items: center; margin-bottom: 12px; padding-bottom: 8px; border-bottom: 1px solid #f5f5f5; }
        .icon-box {
            width: 36px; height: 36px; border-radius: 10px; display: flex; align-items: center; justify-content: center;
            font-size: 1.2rem; margin-right: 10px; flex-shrink: 0;
        }
        .c-navy .icon-box { background: #EBF1FF; color: var(--navy); }
        .c-gold .icon-box { background: #FFF9E6; color: var(--gold); }
        .c-green .icon-box { background: #E8F5E9; color: var(--green); }
        .card-title { font-weight: 700; font-size: 0.95rem; color: #333; flex-grow: 1; }
        .btn-reset { background:none; border:none; font-size:1.1rem; color:#ccc; cursor:pointer; padding:5px; }

        input, textarea, select {
            width: 100%; border: 1px solid #e0e0e0; background: #fafafa;
            border-radius: 10px; padding: 12px; font-size: 1rem; font-family: 'Noto Sans KR';
            outline: none; transition: 0.2s; -webkit-appearance: none;
        }
        input:focus, textarea:focus, select:focus { background: white; border-color: var(--navy); }
        .input-ref { border: none; border-bottom: 2px solid #eee; border-radius: 0; background: transparent; color: var(--navy); font-weight: 700; text-align: center; margin-bottom: 10px; }
        textarea { min-height: 100px; resize: vertical; line-height: 1.5; }

        /* íƒ€ì´ë¨¸ */
        .timer-display {
            font-family: 'Cinzel', monospace; font-size: 3.5rem; font-weight: 900;
            text-align: center; color: var(--gold); margin: 20px 0;
        }
        .timer-btn {
            width: 100%; padding: 15px; border: none; background: var(--navy);
            color: white; border-radius: 12px; font-size: 1rem; font-weight: 700;
            cursor: pointer; transition: 0.2s; font-family: 'Noto Sans KR';
        }
        .timer-btn.running { background: var(--gold); }
        .timer-btn.paused { background: #666; }

        /* ìê°€ì§„ë‹¨ ì ìˆ˜ ë²„íŠ¼ */
        .score-btn {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            border: 2px solid #ddd;
            background: white;
            cursor: pointer;
            font-size: 0.9rem;
            font-weight: 600;
            color: #666;
            transition: all 0.2s ease;
        }
        .score-btn:hover {
            border-color: var(--navy);
        }

        /* 21ì¼ ì±Œë¦°ì§€ */
        .challenge-status {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 20px;
            text-align: center;
        }
        .challenge-status.completed {
            background: linear-gradient(135deg, var(--green) 0%, #229954 100%);
        }
        .status-number {
            font-size: 3.5rem;
            font-weight: 900;
            line-height: 1;
        }
        .status-label {
            font-size: 0.9rem;
            opacity: 0.9;
            margin-top: 8px;
        }
        .progress-bar-container {
            background: rgba(255,255,255,0.2);
            height: 10px;
            border-radius: 5px;
            overflow: hidden;
            margin-top: 15px;
        }
        .progress-bar {
            background: var(--gold);
            height: 100%;
            border-radius: 5px;
            transition: width 0.5s;
        }

        .btn-start-challenge {
            background: linear-gradient(135deg, var(--gold), #d4af37);
            color: white;
            padding: 18px;
            border-radius: 15px;
            text-align: center;
            font-weight: 700;
            font-size: 1.1rem;
            cursor: pointer;
            border: none;
            width: 100%;
            box-shadow: 0 4px 15px rgba(201, 162, 39, 0.3);
        }

        .week-section {
            margin-bottom: 20px;
        }
        .week-header {
            background: linear-gradient(to right, var(--navy), var(--navy-dark));
            color: white;
            padding: 12px 15px;
            border-radius: 10px;
            margin-bottom: 10px;
            font-weight: 700;
            font-size: 0.9rem;
        }
        .day-item {
            background: #f8f9fa;
            padding: 12px 15px;
            margin-bottom: 8px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            cursor: pointer;
            transition: all 0.2s;
        }
        .day-item:hover {
            background: #e9ecef;
        }
        .day-item.completed {
            background: linear-gradient(to right, rgba(39, 174, 96, 0.1), rgba(39, 174, 96, 0.05));
            border-left: 4px solid var(--green);
        }
        .day-info {
            flex-grow: 1;
        }
        .day-number {
            font-weight: 700;
            color: var(--navy);
            margin-bottom: 3px;
            font-size: 0.85rem;
        }
        .day-title {
            font-size: 0.85rem;
            color: #666;
            line-height: 1.4;
        }
        .day-check {
            width: 35px;
            height: 35px;
            border: 2px solid #ddd;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            flex-shrink: 0;
            transition: all 0.2s;
        }
        .day-item.completed .day-check {
            background: var(--green);
            border-color: var(--green);
            color: white;
        }

        /* ê°€ì´ë“œ */
        .guide-box {
            background: linear-gradient(to right, #f8f9fa, #eef2f3);
            border-left: 5px solid var(--navy);
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
        }
        .guide-title {
            color: var(--navy);
            font-weight: 800;
            margin-bottom: 10px;
            font-size: 1.05rem;
        }
        .guide-text {
            font-size: 0.9rem;
            line-height: 1.6;
            color: #444;
        }
        .guide-step {
            display: flex;
            gap: 12px;
            margin-bottom: 15px;
            align-items: flex-start;
        }
        .step-num {
            background: var(--gold);
            color: white;
            width: 28px;
            height: 28px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 0.85rem;
            flex-shrink: 0;
        }
        .step-content h4 {
            font-size: 0.95rem;
            margin-bottom: 5px;
            color: var(--navy);
        }
        .step-content p {
            font-size: 0.85rem;
            color: #666;
            line-height: 1.5;
        }

        /* ëª©ì¥ */
        .mokjang-setup {
            background: linear-gradient(135deg, #ffeaa7, #fdcb6e);
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            margin-bottom: 20px;
        }
        .mokjang-setup h3 {
            font-size: 1.2rem;
            margin-bottom: 10px;
            color: #333;
        }
        .mokjang-setup p {
            font-size: 0.9rem;
            color: #666;
            margin-bottom: 15px;
        }
        .member-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
        }
        .member-item {
            background: #f8f9fa;
            padding: 10px;
            border-radius: 8px;
            text-align: center;
            font-size: 0.85rem;
        }
        .member-item.completed {
            background: linear-gradient(135deg, rgba(39, 174, 96, 0.1), rgba(39, 174, 96, 0.05));
            border: 2px solid var(--green);
        }
        .member-name {
            font-weight: 600;
            margin-bottom: 5px;
        }
        .member-status {
            font-size: 1.3rem;
        }

        /* í•˜ë‹¨ ë„¤ë¹„ê²Œì´ì…˜ */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            background: white;
            display: flex;
            justify-content: space-around;
            padding: 8px 0;
            border-top: 1px solid #eee;
            box-shadow: 0 -5px 20px rgba(0,0,0,0.05);
            z-index: 1000;
            padding-bottom: max(8px, env(safe-area-inset-bottom));
        }
        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-decoration: none;
            color: #999;
            font-size: 0.7rem;
            gap: 3px;
            padding: 5px 15px;
            transition: all 0.2s;
            flex: 1;
            cursor: pointer;
        }
        .nav-item.active {
            color: var(--navy);
            font-weight: 700;
        }
        .nav-icon {
            font-size: 1.3rem;
        }

        /* ëª¨ë‹¬ */
        .modal-wrap {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 2000;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }
        .modal-wrap.active {
            display: flex;
        }
        .modal-box {
            background: white;
            border-radius: 20px;
            padding: 25px;
            max-width: 400px;
            width: 100%;
            max-height: 80vh;
            overflow-y: auto;
            position: relative;
        }
        .close-btn {
            position: absolute;
            top: 15px;
            right: 15px;
            font-size: 1.5rem;
            cursor: pointer;
            color: #999;
        }

        .btn {
            display: block;
            width: 100%;
            padding: 14px;
            background: var(--navy);
            color: white;
            text-align: center;
            border-radius: 12px;
            text-decoration: none;
            font-weight: 700;
            border: none;
            cursor: pointer;
            font-size: 1rem;
            transition: all 0.2s;
            margin-top: 10px;
        }
        .btn:active {
            transform: scale(0.98);
        }
        .btn-gold {
            background: var(--gold);
        }
        .btn-green {
            background: var(--green);
        }
        .btn-secondary {
            background: #6c757d;
        }

        /* í† ìŠ¤íŠ¸ */
        #toast {
            position: fixed;
            bottom: 100px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0,0,0,0.8);
            color: white;
            padding: 12px 20px;
            border-radius: 25px;
            font-size: 0.9rem;
            z-index: 3000;
            opacity: 0;
            transition: opacity 0.3s;
        }
        #toast.show {
            opacity: 1;
        }

        /* íˆìŠ¤í† ë¦¬ */
        .log-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 15px;
            background: #f8f9fa;
            border-radius: 10px;
            margin-bottom: 8px;
            cursor: pointer;
            transition: 0.2s;
        }
        .log-item:hover {
            background: #e9ecef;
        }
        .log-date {
            font-size: 0.75rem;
            color: #999;
            margin-bottom: 3px;
        }
        .log-ref {
            font-weight: 700;
            color: var(--navy);
        }

        .view-label {
            display: block;
            font-weight: 700;
            color: var(--navy);
            margin-top: 15px;
            margin-bottom: 5px;
            font-size: 0.9rem;
        }
        .view-content {
            background: #f8f9fa;
            padding: 12px;
            border-radius: 8px;
            line-height: 1.6;
            color: #555;
        }
        .view-actions {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }
        .btn-action {
            flex: 1;
            padding: 12px;
            border: none;
            border-radius: 10px;
            font-weight: 700;
            cursor: pointer;
            font-family: 'Noto Sans KR';
        }

        .app-footer {
            text-align: center;
            font-size: 0.75rem;
            color: #999;
            padding: 20px 0;
            line-height: 1.5;
        }

        /* 4ë‹¨ê³„ ì˜ì  ì—¬ì • */
        .journey-model {
            margin: 20px 0;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 12px;
        }
        .journey-title {
            text-align: center;
            font-weight: 700;
            color: var(--navy);
            margin-bottom: 15px;
            font-size: 0.9rem;
        }
        .journey-stages {
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 5px;
        }
        .stage-item {
            flex: 1;
            text-align: center;
            padding: 8px 5px;
            border-radius: 8px;
            background: white;
            border: 2px solid #e0e0e0;
            transition: all 0.3s;
            cursor: pointer;
        }
        .stage-item.active {
            border-color: var(--gold);
            background: linear-gradient(to bottom, #FFF9E6, white);
        }
        .stage-num {
            font-size: 1.2rem;
            font-weight: 700;
            color: #999;
            margin-bottom: 3px;
        }
        .stage-item.active .stage-num {
            color: var(--gold);
        }
        .stage-label {
            font-size: 0.65rem;
            color: #666;
            text-align: center;
        }
        .stage-item.active .stage-label {
            color: var(--navy);
            font-weight: 700;
        }
        
        .shepherd-detail {
            display: none;
            margin-top: 10px;
        }
        .shepherd-detail.show {
            display: block;
        }
    </style>
</head>
<body>

    <header>
        <div class="header-top">
            <a href="http://www.ijiguchon.org" target="_blank" class="church-link">
                <img src="poster.png" onerror="this.src='https://via.placeholder.com/45/ffffff/1F4788?text=GMC'" class="church-logo" alt="GMC Logo">
                <span class="church-name" id="t-church">ì‹œì• í‹€ì§€êµ¬ì´ŒêµíšŒ</span>
            </a>
            <button class="lang-toggle" onclick="toggleLang()" id="langBtn">ENG</button>
        </div>
        <div class="app-title-box">
            <div class="main-title" style="font-size:3.2rem; margin-bottom:2px;">Hebron</div>
            <div class="bible-ref" id="t-bible-ref" style="font-size:0.9rem; color:#C9A227; font-weight:600; margin-bottom:5px;">ì°½ì„¸ê¸° 13:14</div>
            <div class="sub-title" id="t-subtitle" style="font-size:0.95rem; line-height:1.4;">í•˜ë‚˜ë‹˜ê³¼ ì—°í•©í•˜ëŠ” ë‚˜ì˜ ì œë‹¨</div>
        </div>
        <div class="id-card" onclick="openSettings()">
            <span class="role-badge" id="t-role">ìˆœë¡€ì</span>
            <div class="mokjang-text">
                <span id="displayName">í”„ë¡œí•„ ì„¤ì •</span>
                <span id="displayJourney" style="font-size:0.8rem; font-weight:400; opacity:0.8;"></span>
            </div>
        </div>
    </header>

    <div class="routine-banner">
        <div class="routine-grid">
            <div class="r-item">
                <span class="r-title" id="t-r1">ë§ì”€ ë¬µìƒ</span>
                <span class="r-time" id="t-time1">10ë¶„</span>
            </div>
            <div class="r-item">
                <span class="r-title" id="t-r2">ì¹¨ë¬µ ê¸°ë„</span>
                <span class="r-time" id="t-time2">15ë¶„</span>
            </div>
            <div class="r-item">
                <span class="r-title" id="t-r3">ê²½ì²­ ë…¸íŠ¸</span>
                <span class="r-time" id="t-time3">5ë¶„</span>
            </div>
        </div>
        <div class="key-verse" id="t-verse">"ë“¤ì„ ê·€ ìˆëŠ” ìëŠ” ë“¤ìœ¼ë¼!" (ë§‰ 4:9)</div>
    </div>

    <div class="container">
        
        <!-- íƒ­ 1: ì¼ì§€ (ê¸°ì¡´ ê¸°ëŠ¥) -->
        <div id="tab-journal" class="tab-content active">
            <div class="card c-navy">
                <div class="card-header">
                    <div class="icon-box">ğŸ“–</div>
                    <span class="card-title" id="t-card1">ë§ì”€ ë¬µìƒ (10ë¶„)</span>
                    <button class="btn-reset" onclick="resetInput('inSermonTitle','inRef','inText')">â†»</button>
                </div>
                <input type="text" id="inSermonTitle" class="input-ref" placeholder="ì„¤êµ ì œëª©" style="margin-bottom:8px;">
                <input type="text" id="inRef" class="input-ref" placeholder="ì˜¤ëŠ˜ì˜ ë³¸ë¬¸">
                <textarea id="inText" placeholder="ë¬µìƒí•œ ë§ì”€ì„ ê¸°ë¡í•˜ì„¸ìš”"></textarea>
            </div>
            <div class="card c-gold">
                <div class="card-header">
                    <div class="icon-box">ğŸ‘‚</div>
                    <span class="card-title" id="t-card2">ì¹¨ë¬µ ê¸°ë„ (15ë¶„)</span>
                </div>
                <div class="timer-display" id="timer">15:00</div>
                <button class="timer-btn" onclick="toggleTimer()" id="t-timer-btn">íƒ€ì´ë¨¸ ì‹œì‘</button>
                <div style="text-align:center; margin-top:10px; font-size:0.8rem; color:#888;" id="t-timer-msg">
                    ë‚´ ìƒê°ì˜ ì†Œë¦¬ë¥¼ ë„˜ê³  í•˜ë‚˜ë‹˜ì˜ ìŒì„±ì„ ë“£ìŠµë‹ˆë‹¤
                </div>
                <div style="text-align:center; margin-top:8px; font-size:0.75rem; color:#999; line-height:1.4;" id="t-timer-chime">
                    ğŸ”” ì°¨ì„ë²¨: 5ë¶„(ë‚®ì€ ìŒ), 10ë¶„(ì¤‘ê°„ ìŒ 2ë²ˆ), 15ë¶„(ë†’ì€ ìŒ)
                </div>
                <div style="text-align:center; margin-top:10px;">
                    <div style="display:inline-flex; align-items:center; gap:8px; cursor:pointer;" onclick="toggleChime()">
                        <button id="chimeBtn" style="
                            background: var(--gold);
                            border: none;
                            border-radius: 50%;
                            width: 36px;
                            height: 36px;
                            font-size: 1.2rem;
                            cursor: pointer;
                            transition: all 0.3s ease;
                            box-shadow: 0 2px 8px rgba(243,156,18,0.3);
                        ">ğŸ””</button>
                        <span id="t-chime-status" style="font-size:0.85rem; font-weight:600; color:var(--gold);">ON</span>
                    </div>
                </div>
            </div>
            <div class="card c-green">
                <div class="card-header">
                    <div class="icon-box">âœï¸</div>
                    <span class="card-title" id="t-card3">ê²½ì²­ ë…¸íŠ¸ (5ë¶„)</span>
                    <button class="btn-reset" onclick="resetInput('inRhema','inAction','inThanks')">â†»</button>
                </div>
                <div id="t-lbl1" style="font-size:0.8rem; font-weight:700; color:#666; margin-bottom:5px;">1. í•˜ë‚˜ë‹˜ì´ ì£¼ì‹  ë§ˆìŒ</div>
                <textarea id="inRhema" style="margin-bottom:15px;" placeholder="ì£¼ë‹˜ì´ ë‚´ê²Œ ì£¼ì‹  ê¹¨ë‹¬ìŒ"></textarea>
                <div id="t-lbl2" style="font-size:0.8rem; font-weight:700; color:#666; margin-bottom:5px;">2. ìˆœì¢…í•  í–‰ë™</div>
                <textarea id="inAction" style="margin-bottom:15px;" placeholder="ì´ë²ˆ ì£¼ ì‹¤ì²œí•  êµ¬ì²´ì  í–‰ë™"></textarea>
                <div id="t-lbl3" style="font-size:0.8rem; font-weight:700; color:#666; margin-bottom:5px;">3. ê°ì‚¬ ê¸°ë„</div>
                <textarea id="inThanks" style="min-height:60px;" placeholder="ì£¼ë‹˜ê»˜ ë“œë¦¬ëŠ” ê°ì‚¬"></textarea>
            </div>
            
            <button class="btn btn-green" onclick="saveData()">
                <span id="t-btn-save">ì™„ë£Œ</span>
            </button>
            
            <button class="btn btn-secondary" onclick="viewHistory()">
                <span id="t-btn-hist">ê¸°ë¡ ë³´ê¸°</span>
            </button>

            <div class="app-footer">
                Created by Pastor Kim & GMC Seattle<br>
                Genesis 1314 - Expanding the Kingdom, One Home at a Time
            </div>
        </div>

       <!-- íƒ­ 2: 21ì¼ ì±Œë¦°ì§€ -->
        <div id="tab-challenge" class="tab-content">
            
            <!-- ìƒë‹¨ íƒ­ ë„¤ë¹„ê²Œì´ì…˜ -->
            <div style="display:flex; background:#f5f5f5; border-radius:10px; padding:4px; margin-bottom:15px; overflow-x:auto;">
                <button class="challenge-tab-btn active" onclick="showChallengeSection('foundation')" 
                        data-ko="ì‹ í•™ì  ê¸°ì´ˆ" data-en="Foundation"
                        style="flex:1; padding:10px 5px; border:none; background:var(--navy); color:white; border-radius:8px; font-size:12px; cursor:pointer; white-space:nowrap;">
                    ì‹ í•™ì  ê¸°ì´ˆ
                </button>
                <button class="challenge-tab-btn" onclick="showChallengeSection('training')"
                        data-ko="21ì¼ í›ˆë ¨" data-en="21-Day"
                        style="flex:1; padding:10px 5px; border:none; background:transparent; color:#666; border-radius:8px; font-size:12px; cursor:pointer; white-space:nowrap;">
                    21ì¼ í›ˆë ¨
                </button>
                <button class="challenge-tab-btn" onclick="showChallengeSection('group')"
                        data-ko="ëª©ì¥ ê°€ì´ë“œ" data-en="Group Guide"
                        style="flex:1; padding:10px 5px; border:none; background:transparent; color:#666; border-radius:8px; font-size:12px; cursor:pointer; white-space:nowrap;">
                    ëª©ì¥ ê°€ì´ë“œ
                </button>
            </div>

            <!-- Part 1: ì‹ í•™ì  ê¸°ì´ˆ -->
            <div id="section-foundation" class="challenge-section">
                <h3 style="color:var(--navy); margin-bottom:10px;" data-ko="ê²½ì²­, ì™œ ì¤‘ìš”í•œê°€?" data-en="Why is Listening Important?">ê²½ì²­, ì™œ ì¤‘ìš”í•œê°€?</h3>
                <p style="color:#666; margin-bottom:20px; font-size:14px;" data-ko="ì„¤êµ ê²½ì²­ì˜ ì„±ê²½ì  ê¸°ì´ˆ 5ê°€ì§€" data-en="Five Biblical Foundations for Sermon Listening">ì„¤êµ ê²½ì²­ì˜ ì„±ê²½ì  ê¸°ì´ˆ 5ê°€ì§€</p>
                
                <!-- ì¹¼ëŸ¼ 1 -->
                <div class="card" style="margin-bottom:15px; border-left:4px solid var(--navy);">
                    <h4 style="color:var(--navy); font-size:15px; margin-bottom:10px;" data-ko="1. ë„¤ ì¢…ë¥˜ì˜ ë•… â€” ë§ˆê°€ë³µìŒ 4:1-20" data-en="1. Four Types of Soil â€” Mark 4:1-20">1. ë„¤ ì¢…ë¥˜ì˜ ë•… â€” ë§ˆê°€ë³µìŒ 4:1-20</h4>
                    <div style="background:#FFF8E1; border-left:3px solid #FFC107; padding:12px; margin:10px 0; font-style:italic;">
                        <span data-ko="&quot;ì”¨ ë¿Œë¦¬ëŠ” ì‚¬ëŒì´ ì”¨ë¥¼ ë¿Œë¦¬ëŸ¬ ë‚˜ê°”ë‹¤...&quot;" data-en="&quot;A farmer went out to sow his seed...&quot;">"ì”¨ ë¿Œë¦¬ëŠ” ì‚¬ëŒì´ ì”¨ë¥¼ ë¿Œë¦¬ëŸ¬ ë‚˜ê°”ë‹¤..."</span>
                        <span style="display:block; text-align:right; font-size:12px; color:#666; margin-top:5px;" data-ko="â€” ë§ˆê°€ë³µìŒ 4:3-4, ìƒˆë²ˆì—­" data-en="â€” Mark 4:3-4, NIV">â€” ë§ˆê°€ë³µìŒ 4:3-4, ìƒˆë²ˆì—­</span>
                    </div>
                    <p style="font-size:14px; line-height:1.6;" data-ko="ì˜ˆìˆ˜ë‹˜ì˜ ë¹„ìœ ì—ì„œ ì”¨ëŠ” ê°™ì•˜ì§€ë§Œ ê²°ê³¼ëŠ” ë‹¬ëìŠµë‹ˆë‹¤. ê·¸ ì°¨ì´ëŠ” ë•…ì— ìˆì—ˆìŠµë‹ˆë‹¤." data-en="In Jesus' parable, the seed was the same but results differed. The difference was in the soil.">ì˜ˆìˆ˜ë‹˜ì˜ ë¹„ìœ ì—ì„œ ì”¨ëŠ” ê°™ì•˜ì§€ë§Œ ê²°ê³¼ëŠ” ë‹¬ëìŠµë‹ˆë‹¤. ê·¸ ì°¨ì´ëŠ” ë•…ì— ìˆì—ˆìŠµë‹ˆë‹¤.</p>
                    <div style="background:#E3F2FD; border-radius:8px; padding:12px; margin-top:10px;">
                        <p style="font-weight:700; color:var(--navy); font-size:13px;">ğŸ’¡ <span data-ko="í•µì‹¬ ì§ˆë¬¸: ë‚˜ëŠ” ì–´ë–¤ ë•…ì¸ê°€?" data-en="Key Question: What kind of soil am I?">í•µì‹¬ ì§ˆë¬¸: ë‚˜ëŠ” ì–´ë–¤ ë•…ì¸ê°€?</span></p>
                    </div>
                </div>

                <!-- ì¹¼ëŸ¼ 2 -->
                <div class="card" style="margin-bottom:15px; border-left:4px solid var(--navy);">
                    <h4 style="color:var(--navy); font-size:15px; margin-bottom:10px;" data-ko="2. ë“¤ì„ ê·€ ìˆëŠ” ìëŠ” ë“¤ìœ¼ë¼ â€” ë§ˆê°€ë³µìŒ 4:9" data-en="2. Whoever Has Ears to Hear â€” Mark 4:9">2. ë“¤ì„ ê·€ ìˆëŠ” ìëŠ” ë“¤ìœ¼ë¼ â€” ë§ˆê°€ë³µìŒ 4:9</h4>
                    <div style="background:#FFF8E1; border-left:3px solid #FFC107; padding:12px; margin:10px 0; font-style:italic;">
                        <span data-ko="&quot;ë“¤ì„ ê·€ ìˆëŠ” ì‚¬ëŒì€ ë“¤ìœ¼ë¼!&quot;" data-en="&quot;Whoever has ears to hear, let them hear!&quot;">"ë“¤ì„ ê·€ ìˆëŠ” ì‚¬ëŒì€ ë“¤ìœ¼ë¼!"</span>
                        <span style="display:block; text-align:right; font-size:12px; color:#666; margin-top:5px;" data-ko="â€” ë§ˆê°€ë³µìŒ 4:9, ìƒˆë²ˆì—­" data-en="â€” Mark 4:9, NIV">â€” ë§ˆê°€ë³µìŒ 4:9, ìƒˆë²ˆì—­</span>
                    </div>
                    <p style="font-size:14px; line-height:1.6;" data-ko="ëª¨ë“  ì‚¬ëŒì´ ë“¤ì—ˆì§€ë§Œ, ëª¨ë“  ì‚¬ëŒì´ ë“¤ì€ ê²ƒì€ ì•„ë‹™ë‹ˆë‹¤. ë“£ëŠ”ë‹¤ëŠ” ê²ƒì€ ì˜ì ìœ¼ë¡œ ë¶„ë³„í•˜ê³  ë°›ì•„ë“¤ì´ëŠ” ê²ƒì…ë‹ˆë‹¤." data-en="Everyone heard, but not everyone truly heard. Hearing means spiritually discerning and receiving.">ëª¨ë“  ì‚¬ëŒì´ ë“¤ì—ˆì§€ë§Œ, ëª¨ë“  ì‚¬ëŒì´ ë“¤ì€ ê²ƒì€ ì•„ë‹™ë‹ˆë‹¤.</p>
                </div>

                <!-- ì¹¼ëŸ¼ 3 -->
                <div class="card" style="margin-bottom:15px; border-left:4px solid var(--navy);">
                    <h4 style="color:var(--navy); font-size:15px; margin-bottom:10px;" data-ko="3. ì„±ë ¹ì˜ ì¡°ëª… â€” ê³ ë¦°ë„ì „ì„œ 2:14" data-en="3. Illumination of the Spirit â€” 1 Corinthians 2:14">3. ì„±ë ¹ì˜ ì¡°ëª… â€” ê³ ë¦°ë„ì „ì„œ 2:14</h4>
                    <div style="background:#FFF8E1; border-left:3px solid #FFC107; padding:12px; margin:10px 0; font-style:italic;">
                        <span data-ko="&quot;ìœ¡ì— ì†í•œ ì‚¬ëŒì€ í•˜ë‚˜ë‹˜ì˜ ì˜ì˜ ì¼ë“¤ì„ ë°›ì•„ë“¤ì´ì§€ ì•ŠìŠµë‹ˆë‹¤.&quot;" data-en="&quot;The person without the Spirit does not accept the things from the Spirit of God.&quot;">"ìœ¡ì— ì†í•œ ì‚¬ëŒì€ í•˜ë‚˜ë‹˜ì˜ ì˜ì˜ ì¼ë“¤ì„ ë°›ì•„ë“¤ì´ì§€ ì•ŠìŠµë‹ˆë‹¤."</span>
                        <span style="display:block; text-align:right; font-size:12px; color:#666; margin-top:5px;" data-ko="â€” ê³ ë¦°ë„ì „ì„œ 2:14, ìƒˆë²ˆì—­" data-en="â€” 1 Corinthians 2:14, NIV">â€” ê³ ë¦°ë„ì „ì„œ 2:14, ìƒˆë²ˆì—­</span>
                    </div>
                    <p style="font-size:14px; line-height:1.6;" data-ko="ê²½ì²­ì€ ì§‘ì¤‘ë ¥ì˜ ë¬¸ì œê°€ ì•„ë‹ˆë¼, ì„±ë ¹ê»˜ ì—´ë¦° ë§ˆìŒì˜ ë¬¸ì œì…ë‹ˆë‹¤." data-en="Listening is not about concentration, but about having a heart open to the Spirit.">ê²½ì²­ì€ ì§‘ì¤‘ë ¥ì˜ ë¬¸ì œê°€ ì•„ë‹ˆë¼, ì„±ë ¹ê»˜ ì—´ë¦° ë§ˆìŒì˜ ë¬¸ì œì…ë‹ˆë‹¤.</p>
                </div>

                <!-- ì¹¼ëŸ¼ 4 -->
                <div class="card" style="margin-bottom:15px; border-left:4px solid var(--navy);">
                    <h4 style="color:var(--navy); font-size:15px; margin-bottom:10px;" data-ko="4. ë¯¿ìŒì€ ë“¤ìŒì—ì„œ â€” ë¡œë§ˆì„œ 10:17" data-en="4. Faith Comes from Hearing â€” Romans 10:17">4. ë¯¿ìŒì€ ë“¤ìŒì—ì„œ â€” ë¡œë§ˆì„œ 10:17</h4>
                    <div style="background:#FFF8E1; border-left:3px solid #FFC107; padding:12px; margin:10px 0; font-style:italic;">
                        <span data-ko="&quot;ë¯¿ìŒì€ ë“¤ìŒì—ì„œ ë‚˜ì˜¤ê³ , ë“¤ìŒì€ ê·¸ë¦¬ìŠ¤ë„ì˜ ë§ì”€ì—ì„œ ì˜µë‹ˆë‹¤.&quot;" data-en="&quot;Faith comes from hearing the message, and the message is heard through the word about Christ.&quot;">"ë¯¿ìŒì€ ë“¤ìŒì—ì„œ ë‚˜ì˜¤ê³ , ë“¤ìŒì€ ê·¸ë¦¬ìŠ¤ë„ì˜ ë§ì”€ì—ì„œ ì˜µë‹ˆë‹¤."</span>
                        <span style="display:block; text-align:right; font-size:12px; color:#666; margin-top:5px;" data-ko="â€” ë¡œë§ˆì„œ 10:17, ìƒˆë²ˆì—­" data-en="â€” Romans 10:17, NIV">â€” ë¡œë§ˆì„œ 10:17, ìƒˆë²ˆì—­</span>
                    </div>
                    <p style="font-size:14px; line-height:1.6;" data-ko="ì„¤êµëŠ” ì§€ì‹ ì „ë‹¬ì´ ì•„ë‹ˆë¼, ë¯¿ìŒì„ ì¼ìœ¼í‚¤ëŠ” í•˜ë‚˜ë‹˜ì˜ ë„êµ¬ì…ë‹ˆë‹¤." data-en="Preaching is not knowledge transfer, but God's instrument for producing faith.">ì„¤êµëŠ” ì§€ì‹ ì „ë‹¬ì´ ì•„ë‹ˆë¼, ë¯¿ìŒì„ ì¼ìœ¼í‚¤ëŠ” í•˜ë‚˜ë‹˜ì˜ ë„êµ¬ì…ë‹ˆë‹¤.</p>
                </div>

                <!-- ì¹¼ëŸ¼ 5 -->
                <div class="card" style="margin-bottom:15px; border-left:4px solid var(--navy);">
                    <h4 style="color:var(--navy); font-size:15px; margin-bottom:10px;" data-ko="5. ë§ì”€ì„ í–‰í•˜ëŠ” ì â€” ì•¼ê³ ë³´ì„œ 1:22" data-en="5. Doers of the Word â€” James 1:22">5. ë§ì”€ì„ í–‰í•˜ëŠ” ì â€” ì•¼ê³ ë³´ì„œ 1:22</h4>
                    <div style="background:#FFF8E1; border-left:3px solid #FFC107; padding:12px; margin:10px 0; font-style:italic;">
                        <span data-ko="&quot;ë§ì”€ì„ í–‰í•˜ëŠ” ì‚¬ëŒì´ ë˜ì‹­ì‹œì˜¤. ë“£ê¸°ë§Œ í•˜ì—¬ ìì‹ ì„ ì†ì´ì§€ ë§ˆì‹­ì‹œì˜¤.&quot;" data-en="&quot;Do not merely listen to the word. Do what it says.&quot;">"ë§ì”€ì„ í–‰í•˜ëŠ” ì‚¬ëŒì´ ë˜ì‹­ì‹œì˜¤."</span>
                        <span style="display:block; text-align:right; font-size:12px; color:#666; margin-top:5px;" data-ko="â€” ì•¼ê³ ë³´ì„œ 1:22, ìƒˆë²ˆì—­" data-en="â€” James 1:22, NIV">â€” ì•¼ê³ ë³´ì„œ 1:22, ìƒˆë²ˆì—­</span>
                    </div>
                    <p style="font-size:14px; line-height:1.6;" data-ko="ì§„ì •í•œ ê²½ì²­ì€ ì‚¶ì˜ ë³€í™”ë¡œ ì¦ëª…ë©ë‹ˆë‹¤." data-en="True listening is proven by life transformation.">ì§„ì •í•œ ê²½ì²­ì€ ì‚¶ì˜ ë³€í™”ë¡œ ì¦ëª…ë©ë‹ˆë‹¤.</p>
                </div>
            </div>

            <!-- Part 2: 21ì¼ í›ˆë ¨ -->
            <div id="section-training" class="challenge-section" style="display:none;">
                <h3 style="color:var(--navy); margin-bottom:10px;" data-ko="21ì¼ ê²½ì²­ í”„ë¡œì íŠ¸" data-en="21-Day Listening Project">21ì¼ ê²½ì²­ í”„ë¡œì íŠ¸</h3>
                
                <!-- ì§„í–‰ë¥  -->
                <div class="challenge-status">
                    <div class="status-number" id="trainingProgressDays">0</div>
                    <div class="status-label" data-ko="ì¼ ì™„ë£Œ / 21ì¼" data-en="days / 21">ì¼ ì™„ë£Œ / 21ì¼</div>
                    <div class="progress-bar-container">
                        <div class="progress-bar" id="trainingProgressBar" style="width:0%"></div>
                    </div>
                </div>

                <!-- ë§¤ì¼ ê¸°ë³¸ ë£¨í‹´ -->
                <div class="card" style="background:linear-gradient(135deg, #E3F2FD 0%, #BBDEFB 100%); margin:15px 0;">
                    <p style="font-weight:700; color:var(--navy); margin-bottom:10px;">âœ¦ <span data-ko="ë§¤ì¼ì˜ ê¸°ë³¸ ë£¨í‹´" data-en="Daily Basic Routine">ë§¤ì¼ì˜ ê¸°ë³¸ ë£¨í‹´</span></p>
                    <div style="display:grid; grid-template-columns:repeat(3,1fr); gap:10px; text-align:center;">
                        <div style="background:white; padding:10px; border-radius:8px;">
                            <div style="font-size:20px;">ğŸ“–</div>
                            <div style="font-weight:600; font-size:12px;" data-ko="ë§ì”€ ë¬µìƒ" data-en="Scripture">ë§ì”€ ë¬µìƒ</div>
                            <div style="font-size:11px; color:#666;">10ë¶„</div>
                        </div>
                        <div style="background:white; padding:10px; border-radius:8px;">
                            <div style="font-size:20px;">ğŸ™</div>
                            <div style="font-weight:600; font-size:12px;" data-ko="ì¹¨ë¬µ ê¸°ë„" data-en="Prayer">ì¹¨ë¬µ ê¸°ë„</div>
                            <div style="font-size:11px; color:#666;">15ë¶„</div>
                        </div>
                        <div style="background:white; padding:10px; border-radius:8px;">
                            <div style="font-size:20px;">âœï¸</div>
                            <div style="font-weight:600; font-size:12px;" data-ko="ê²½ì²­ ë…¸íŠ¸" data-en="Note">ê²½ì²­ ë…¸íŠ¸</div>
                            <div style="font-size:11px; color:#666;">5ë¶„</div>
                        </div>
                    </div>
                </div>

                <!-- 1ì£¼ì°¨ -->
                <div style="background:linear-gradient(135deg, var(--navy) 0%, #2F5597 100%); color:white; padding:12px 15px; border-radius:10px; margin:20px 0 10px;">
                    <div style="font-weight:700;" data-ko="ğŸ“… 1ì£¼ì°¨: ê·€ì˜ í• ë¡€" data-en="ğŸ“… Week 1: Circumcision of Ears">ğŸ“… 1ì£¼ì°¨: ê·€ì˜ í• ë¡€</div>
                    <div style="font-size:12px; opacity:0.9;" data-ko="ì„¸ìƒì˜ ì†ŒìŒì„ ì¤„ì´ê³  í•˜ë‚˜ë‹˜ê»˜ ì£¼íŒŒìˆ˜ ë§ì¶”ê¸°" data-en="Reduce worldly noise and tune to God">ì„¸ìƒì˜ ì†ŒìŒì„ ì¤„ì´ê³  í•˜ë‚˜ë‹˜ê»˜ ì£¼íŒŒìˆ˜ ë§ì¶”ê¸°</div>
                </div>
                <div id="week1Container"></div>

                <!-- 2ì£¼ì°¨ -->
                <div style="background:linear-gradient(135deg, var(--navy) 0%, #2F5597 100%); color:white; padding:12px 15px; border-radius:10px; margin:20px 0 10px;">
                    <div style="font-weight:700;" data-ko="ğŸ“… 2ì£¼ì°¨: ê±°ë£©í•œ ê³µëª…" data-en="ğŸ“… Week 2: Holy Resonance">ğŸ“… 2ì£¼ì°¨: ê±°ë£©í•œ ê³µëª…</div>
                    <div style="font-size:12px; opacity:0.9;" data-ko="ì„¤êµìì™€ ìƒí˜¸ì‘ìš©í•˜ë©° ë§ì”€ì„ ë‚´ ê²ƒìœ¼ë¡œ" data-en="Interact and make the Word your own">ì„¤êµìì™€ ìƒí˜¸ì‘ìš©í•˜ë©° ë§ì”€ì„ ë‚´ ê²ƒìœ¼ë¡œ</div>
                </div>
                <div id="week2Container"></div>

                <!-- 3ì£¼ì°¨ -->
                <div style="background:linear-gradient(135deg, var(--navy) 0%, #2F5597 100%); color:white; padding:12px 15px; border-radius:10px; margin:20px 0 10px;">
                    <div style="font-weight:700;" data-ko="ğŸ“… 3ì£¼ì°¨: ë§ì”€ì˜ ì„±ìœ¡ì‹ " data-en="ğŸ“… Week 3: Incarnation of the Word">ğŸ“… 3ì£¼ì°¨: ë§ì”€ì˜ ì„±ìœ¡ì‹ </div>
                    <div style="font-size:12px; opacity:0.9;" data-ko="ë“¤ì€ ë§ì”€ì„ ì‚¶ìœ¼ë¡œ ì‹¤ì²œí•˜ê¸°" data-en="Translate the Word into action">ë“¤ì€ ë§ì”€ì„ ì‚¶ìœ¼ë¡œ ì‹¤ì²œí•˜ê¸°</div>
                </div>
                <div id="week3Container"></div>

                <!-- ì´ˆê¸°í™” ë²„íŠ¼ -->
                <div style="text-align:center; margin-top:20px;">
                    <button onclick="resetTrainingProgress()" style="background:#f44336; color:white; border:none; padding:10px 20px; border-radius:8px; cursor:pointer;">
                        <span data-ko="ğŸ”„ ì§„í–‰ ìƒí™© ì´ˆê¸°í™”" data-en="ğŸ”„ Reset Progress">ğŸ”„ ì§„í–‰ ìƒí™© ì´ˆê¸°í™”</span>
                    </button>
                </div>
            </div>

            <!-- Part 3: ëª©ì¥ ê°€ì´ë“œ -->
            <div id="section-group" class="challenge-section" style="display:none;">
                <h3 style="color:var(--navy); margin-bottom:10px;" data-ko="ëª©ì¥ ë‚˜ëˆ” ê°€ì´ë“œ" data-en="Small Group Guide">ëª©ì¥ ë‚˜ëˆ” ê°€ì´ë“œ</h3>
                <p style="color:#666; margin-bottom:20px; font-size:14px;" data-ko="ì„¤êµëŠ” ë‚˜ëˆ”ì„ í†µí•´ ê·¼ìœ¡ì´ ë©ë‹ˆë‹¤" data-en="Sermons become muscle through sharing">ì„¤êµëŠ” ë‚˜ëˆ”ì„ í†µí•´ ê·¼ìœ¡ì´ ë©ë‹ˆë‹¤</p>

                <!-- Step 1 -->
                <div class="card" style="border-left:4px solid var(--navy); margin-bottom:15px;">
                    <span style="background:var(--navy); color:white; padding:3px 10px; border-radius:10px; font-size:11px;">Step 1</span>
                    <h4 style="margin:10px 0; color:var(--navy);" data-ko="íƒœë„ ì ê²€ (10ë¶„)" data-en="Attitude Check (10 min)">íƒœë„ ì ê²€ (10ë¶„)</h4>
                    <p style="font-style:italic; color:#666; margin-bottom:10px;" data-ko="&quot;ìš°ë¦¬ëŠ” ì–´ë–¤ ê·¸ë¦‡ì´ì—ˆìŠµë‹ˆê¹Œ?&quot;" data-en="&quot;What kind of vessel were we?&quot;">"ìš°ë¦¬ëŠ” ì–´ë–¤ ê·¸ë¦‡ì´ì—ˆìŠµë‹ˆê¹Œ?"</p>
                    <ul style="font-size:14px; line-height:1.8; margin-left:20px;">
                        <li data-ko="ì§€ë‚œ ì£¼ì¼ ì§‘ì¤‘ì„ ë°©í•´í•œ ê°€ì¥ í° ìš”ì¸ì€?" data-en="What distracted you most last Sunday?">ì§€ë‚œ ì£¼ì¼ ì§‘ì¤‘ì„ ë°©í•´í•œ ê°€ì¥ í° ìš”ì¸ì€?</li>
                        <li data-ko="ì„œë¡œ ì–´ë–»ê²Œ ë„ì™€ì¤„ ìˆ˜ ìˆì„ê¹Œìš”?" data-en="How can we help each other?">ì„œë¡œ ì–´ë–»ê²Œ ë„ì™€ì¤„ ìˆ˜ ìˆì„ê¹Œìš”?</li>
                    </ul>
                </div>

                <!-- Step 2 -->
                <div class="card" style="border-left:4px solid var(--navy); margin-bottom:15px;">
                    <span style="background:var(--navy); color:white; padding:3px 10px; border-radius:10px; font-size:11px;">Step 2</span>
                    <h4 style="margin:10px 0; color:var(--navy);" data-ko="ë§ì”€ ì†Œí™” (15ë¶„)" data-en="Digesting the Word (15 min)">ë§ì”€ ì†Œí™” (15ë¶„)</h4>
                    <p style="font-style:italic; color:#666; margin-bottom:10px;" data-ko="&quot;ë‚´ê²Œ ê½‚íŒ í•œ ë¬¸ì¥ì€?&quot;" data-en="&quot;What one sentence pierced your heart?&quot;">"ë‚´ê²Œ ê½‚íŒ í•œ ë¬¸ì¥ì€?"</p>
                    <ul style="font-size:14px; line-height:1.8; margin-left:20px;">
                        <li data-ko="ë‚˜ë¥¼ ì•„í”„ê²Œ/ìœ„ë¡œí•œ ë”± í•œ ë¬¸ì¥ì€?" data-en="What sentence hurt or comforted you?">ë‚˜ë¥¼ ì•„í”„ê²Œ/ìœ„ë¡œí•œ ë”± í•œ ë¬¸ì¥ì€?</li>
                        <li data-ko="ì™œ ê·¸ ë§ì”€ì´ ë‚´ê²Œ ë“¤ë ¤ì™”ì„ê¹Œìš”?" data-en="Why did that Word come to you?">ì™œ ê·¸ ë§ì”€ì´ ë‚´ê²Œ ë“¤ë ¤ì™”ì„ê¹Œìš”?</li>
                    </ul>
                </div>

                <!-- Step 3 -->
                <div class="card" style="border-left:4px solid var(--navy); margin-bottom:15px;">
                    <span style="background:var(--navy); color:white; padding:3px 10px; border-radius:10px; font-size:11px;">Step 3</span>
                    <h4 style="margin:10px 0; color:var(--navy);" data-ko="ìˆœì¢… ê³„ì•½ (15ë¶„)" data-en="Obedience Covenant (15 min)">ìˆœì¢… ê³„ì•½ (15ë¶„)</h4>
                    <p style="font-style:italic; color:#666; margin-bottom:10px;" data-ko="&quot;ì´ë²ˆ ì£¼ì— ë¬´ì—‡ì„ í•˜ì‹œê² ìŠµë‹ˆê¹Œ?&quot;" data-en="&quot;What will you do this week?&quot;">"ì´ë²ˆ ì£¼ì— ë¬´ì—‡ì„ í•˜ì‹œê² ìŠµë‹ˆê¹Œ?"</p>
                    <ul style="font-size:14px; line-height:1.8; margin-left:20px;">
                        <li data-ko="ì´ë²ˆ ì£¼ ì‹¤ì²œí•  êµ¬ì²´ì  í–‰ë™ í•˜ë‚˜ëŠ”?" data-en="One specific action this week?">ì´ë²ˆ ì£¼ ì‹¤ì²œí•  êµ¬ì²´ì  í–‰ë™ í•˜ë‚˜ëŠ”?</li>
                        <li data-ko="ì–´ë–¤ ë„ì›€ì´ í•„ìš”í•˜ì‹­ë‹ˆê¹Œ?" data-en="What help do you need?">ì–´ë–¤ ë„ì›€ì´ í•„ìš”í•˜ì‹­ë‹ˆê¹Œ?</li>
                    </ul>
                </div>

                <!-- ëª©ì íŒ -->
                <h4 style="color:var(--navy); margin:20px 0 10px;" data-ko="ğŸ’¡ ëª©ìë¥¼ ìœ„í•œ íŒ" data-en="ğŸ’¡ Tips for Leaders">ğŸ’¡ ëª©ìë¥¼ ìœ„í•œ íŒ</h4>
                
                <div class="card" style="background:#E3F2FD; margin-bottom:10px;">
                    <p style="font-weight:700; color:var(--navy); font-size:14px;" data-ko="1. &quot;ë‚˜ë„ ê·¸ë¬ì–´&quot; ì›ì¹™" data-en="1. 'Me Too' Principle">1. "ë‚˜ë„ ê·¸ë¬ì–´" ì›ì¹™</p>
                    <p style="font-size:13px;" data-ko="ëª©ìë¶€í„° ë¨¼ì € ì†”ì§í•˜ê²Œ ì‹¤íŒ¨ë¥¼ ë‚˜ëˆ„ì„¸ìš”." data-en="Leaders share their failures first.">ëª©ìë¶€í„° ë¨¼ì € ì†”ì§í•˜ê²Œ ì‹¤íŒ¨ë¥¼ ë‚˜ëˆ„ì„¸ìš”.</p>
                </div>
                
                <div class="card" style="background:#E3F2FD; margin-bottom:10px;">
                    <p style="font-weight:700; color:var(--navy); font-size:14px;" data-ko="2. &quot;ê±°ë£©í•œ ì§ê¿&quot; ì‹œìŠ¤í…œ" data-en="2. 'Holy Partner' System">2. "ê±°ë£©í•œ ì§ê¿" ì‹œìŠ¤í…œ</p>
                    <p style="font-size:13px;" data-ko="ë‘˜ì”© ì§ì§€ì–´ í† ìš”ì¼ ë°¤, ì£¼ì¼ ì˜¤í›„ ì„œë¡œ ë¬¸ìí•˜ê¸°" data-en="Pair up for Saturday night & Sunday afternoon texts">ë‘˜ì”© ì§ì§€ì–´ í† ìš”ì¼ ë°¤, ì£¼ì¼ ì˜¤í›„ ì„œë¡œ ë¬¸ìí•˜ê¸°</p>
                </div>
                
                <div class="card" style="background:#E3F2FD; margin-bottom:10px;">
                    <p style="font-weight:700; color:var(--navy); font-size:14px;" data-ko="3. ì²´í¬ì¸" data-en="3. Check-in">3. ì²´í¬ì¸</p>
                    <p style="font-size:13px;" data-ko="ë‹¤ìŒ ì£¼ ëª¨ì„ ì‹œì‘ ë•Œ ì§€ë‚œì£¼ ê²°ë‹¨ í™•ì¸í•˜ê¸°" data-en="Check last week's commitment at next meeting">ë‹¤ìŒ ì£¼ ëª¨ì„ ì‹œì‘ ë•Œ ì§€ë‚œì£¼ ê²°ë‹¨ í™•ì¸í•˜ê¸°</p>
                </div>
            </div>

        </div>
        <!-- íƒ­ 3: ëª©ì¥ -->
        <div id="tab-mokjang" class="tab-content">
            <!-- ëª©ì¥ ë‚˜ëˆ” ê°€ì´ë“œ -->
            <div class="card" style="margin-bottom:15px; border-left:4px solid var(--gold);">
                <h3 style="color:var(--navy); margin-bottom:12px;" 
                    data-ko="ğŸ  ëª©ì¥ ë‚˜ëˆ”, ì´ë ‡ê²Œ í•˜ì„¸ìš”" 
                    data-en="ğŸ  How to Share in Small Group">ğŸ  ëª©ì¥ ë‚˜ëˆ”, ì´ë ‡ê²Œ í•˜ì„¸ìš”</h3>
                
                <div style="background:#f8f9fa; padding:12px; border-radius:8px; margin-bottom:12px;">
                    <p style="font-weight:700; color:var(--navy); font-size:14px; margin-bottom:8px;"
                       data-ko="ğŸ“‹ 3ë‹¨ê³„ ë‚˜ëˆ”ë²•" data-en="ğŸ“‹ 3-Step Sharing">ğŸ“‹ 3ë‹¨ê³„ ë‚˜ëˆ”ë²•</p>
                    
                    <div style="display:flex; align-items:flex-start; gap:10px; margin-bottom:10px;">
                        <span style="background:var(--navy); color:white; border-radius:50%; width:22px; height:22px; display:flex; align-items:center; justify-content:center; font-size:12px; flex-shrink:0;">1</span>
                        <div>
                            <p style="font-weight:600; font-size:13px; color:var(--navy);" data-ko="ë‚´ê²Œ ê½‚íŒ í•œ ë¬¸ì¥" data-en="One sentence that pierced me">ë‚´ê²Œ ê½‚íŒ í•œ ë¬¸ì¥</p>
                            <p style="font-size:12px; color:#666;" data-ko="ì„¤êµì—ì„œ ê°€ì¥ ë§ˆìŒì— ì™€ë‹¿ì€ ë§ì”€ì„ ë‚˜ëˆ•ë‹ˆë‹¤" data-en="Share the word that touched your heart most">ì„¤êµì—ì„œ ê°€ì¥ ë§ˆìŒì— ì™€ë‹¿ì€ ë§ì”€ì„ ë‚˜ëˆ•ë‹ˆë‹¤</p>
                        </div>
                    </div>
                    
                    <div style="display:flex; align-items:flex-start; gap:10px; margin-bottom:10px;">
                        <span style="background:var(--navy); color:white; border-radius:50%; width:22px; height:22px; display:flex; align-items:center; justify-content:center; font-size:12px; flex-shrink:0;">2</span>
                        <div>
                            <p style="font-weight:600; font-size:13px; color:var(--navy);" data-ko="ë‚´ ì‚¶ì— ì ìš©í•œ í•œ ê°€ì§€" data-en="One thing I applied">ë‚´ ì‚¶ì— ì ìš©í•œ í•œ ê°€ì§€</p>
                            <p style="font-size:12px; color:#666;" data-ko="ì´ë²ˆ ì£¼ ë§ì”€ëŒ€ë¡œ ìˆœì¢…í•œ ê²½í—˜ì„ ë‚˜ëˆ•ë‹ˆë‹¤" data-en="Share how you obeyed the Word this week">ì´ë²ˆ ì£¼ ë§ì”€ëŒ€ë¡œ ìˆœì¢…í•œ ê²½í—˜ì„ ë‚˜ëˆ•ë‹ˆë‹¤</p>
                        </div>
                    </div>
                    
                    <div style="display:flex; align-items:flex-start; gap:10px;">
                        <span style="background:var(--navy); color:white; border-radius:50%; width:22px; height:22px; display:flex; align-items:center; justify-content:center; font-size:12px; flex-shrink:0;">3</span>
                        <div>
                            <p style="font-weight:600; font-size:13px; color:var(--navy);" data-ko="ì„œë¡œë¥¼ ìœ„í•œ ê¸°ë„" data-en="Pray for each other">ì„œë¡œë¥¼ ìœ„í•œ ê¸°ë„</p>
                            <p style="font-size:12px; color:#666;" data-ko="ë‚˜ëˆˆ ë‚´ìš©ì„ ê¸°ì–µí•˜ë©° ì„œë¡œë¥¼ ìœ„í•´ ê¸°ë„í•©ë‹ˆë‹¤" data-en="Pray for each other remembering what was shared">ë‚˜ëˆˆ ë‚´ìš©ì„ ê¸°ì–µí•˜ë©° ì„œë¡œë¥¼ ìœ„í•´ ê¸°ë„í•©ë‹ˆë‹¤</p>
                        </div>
                    </div>
                </div>
                
                <div style="background:#E3F2FD; padding:10px; border-radius:8px;">
                    <p style="font-size:12px; color:var(--navy); line-height:1.6;"
                       data-ko="ğŸ’¡ íŒ: ì¼ì§€ì— ê¸°ë¡í•œ 'í•˜ë‚˜ë‹˜ì´ ì£¼ì‹  ë§ˆìŒ'ê³¼ 'ìˆœì¢…í•  í–‰ë™'ì„ ëª©ì¥ì—ì„œ ë‚˜ëˆ„ë©´ ë”ìš± í’ì„±í•œ ë‚˜ëˆ”ì´ ë©ë‹ˆë‹¤."
                       data-en="ğŸ’¡ Tip: Sharing what you recorded in your journal makes for richer discussion.">
                        ğŸ’¡ íŒ: ì¼ì§€ì— ê¸°ë¡í•œ 'í•˜ë‚˜ë‹˜ì´ ì£¼ì‹  ë§ˆìŒ'ê³¼ 'ìˆœì¢…í•  í–‰ë™'ì„ ëª©ì¥ì—ì„œ ë‚˜ëˆ„ë©´ ë”ìš± í’ì„±í•œ ë‚˜ëˆ”ì´ ë©ë‹ˆë‹¤.
                    </p>
                </div>
            </div>

            <div id="mokjang-not-setup" style="display:none;">
                <div class="mokjang-setup">
                    <h3 data-ko="ğŸ‘¥ ëª©ì¥ ì„¤ì •ì´ í•„ìš”í•©ë‹ˆë‹¤" data-en="ğŸ‘¥ Group Setup Required">ğŸ‘¥ ëª©ì¥ ì„¤ì •ì´ í•„ìš”í•©ë‹ˆë‹¤</h3>
                    <p data-ko="ëª©ì¥ ì‹êµ¬ë“¤ê³¼ í•¨ê»˜ 21ì¼ì„ ì™„ì£¼í•˜ì„¸ìš”!" data-en="Complete 21 days with your group members!">ëª©ì¥ ì‹êµ¬ë“¤ê³¼ í•¨ê»˜ 21ì¼ì„ ì™„ì£¼í•˜ì„¸ìš”!</p>
                    <button class="btn" onclick="openMokjangSetup()" style="margin-bottom:10px;" data-ko="ê¸°ì¡´ ë©¤ë²„ ë¡œê·¸ì¸" data-en="Existing Member Login">ê¸°ì¡´ ë©¤ë²„ ë¡œê·¸ì¸</button>
                    <button class="btn btn-secondary" onclick="openMemberRegister()" data-ko="ğŸ™‹ ìƒˆë¡œ ë“±ë¡í•˜ê¸°" data-en="ğŸ™‹ Register New">ğŸ™‹ ìƒˆë¡œ ë“±ë¡í•˜ê¸°</button>
                </div>
                
                <div class="card">
                    <h3 style="color:var(--navy); margin-bottom:10px;" data-ko="ğŸ’¡ ëª©ì¥ ê¸°ëŠ¥ì´ë€?" data-en="ğŸ’¡ What is Group Feature?">ğŸ’¡ ëª©ì¥ ê¸°ëŠ¥ì´ë€?</h3>
                    <p style="line-height:1.6; color:#666; font-size:0.9rem;" data-ko="ëª©ì¥ ì½”ë“œë¥¼ ì…ë ¥í•˜ë©´ ëª©ì¥ ì‹êµ¬ë“¤ì˜ 21ì¼ ì±Œë¦°ì§€ ì§„í–‰ ìƒí™©(ì™„ë£Œ ì—¬ë¶€)ì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê°œì¸ ì¼ì§€ ë‚´ìš©ì€ ì™„ì „íˆ ë¹„ê³µê°œì´ë©°, ì˜¤ì§ ì™„ë£Œ ì—¬ë¶€(O/X)ë§Œ ê³µìœ ë©ë‹ˆë‹¤." data-en="Enter your group code to see your group members' 21-day challenge progress. Personal journal entries are completely private - only completion status (O/X) is shared.">
                        ëª©ì¥ ì½”ë“œë¥¼ ì…ë ¥í•˜ë©´ ëª©ì¥ ì‹êµ¬ë“¤ì˜ 21ì¼ ì±Œë¦°ì§€ ì§„í–‰ ìƒí™©(ì™„ë£Œ ì—¬ë¶€)ì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. 
                        ê°œì¸ ì¼ì§€ ë‚´ìš©ì€ ì™„ì „íˆ ë¹„ê³µê°œì´ë©°, ì˜¤ì§ ì™„ë£Œ ì—¬ë¶€(O/X)ë§Œ ê³µìœ ë©ë‹ˆë‹¤.
                    </p>
                </div>
            </div>

            <div id="mokjang-content" style="display:none;">
                <!-- ìš°ë¦¬ ëª©ì¥ í˜„í™©íŒ -->
                <div class="card">
                    <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:15px; padding-bottom:10px; border-bottom:2px solid #f0f0f0;">
                        <div>
                            <div style="font-weight:700; color:var(--navy); font-size:1.1rem;" id="mokjangDisplayName">ëª©ì¥ëª…</div>
                            <div style="font-size:0.85rem; color:#666; margin-top:3px;">
                                <span id="mokjangCompleted">0</span> / <span id="mokjangTotal">0</span> <span data-ko="ëª… ì´ë²ˆ ì£¼ ë¬µìƒ" data-en="completed this week">ëª… ì´ë²ˆ ì£¼ ë¬µìƒ</span>
                            </div>
                        </div>
                    </div>

                    <!-- ëª©ì¥ ì‹êµ¬ ë¦¬ìŠ¤íŠ¸ -->
                    <div id="mokjang-members-list" style="margin-bottom:20px;">
                        <!-- ë™ì  ìƒì„± -->
                    </div>
                    
                    <!-- ì—°ì† ë¬µìƒ ìˆœìœ„ -->
                    <div style="background:#f8f9fa; padding:15px; border-radius:10px; margin-top:15px;">
                        <h4 style="color:var(--navy); margin-bottom:12px; font-size:1rem;">ğŸ† ì—°ì† ë¬µìƒ ìˆœìœ„</h4>
                        <div id="mokjang-streak-ranking">
                            <p style="text-align:center; color:#999;">ë¡œë”© ì¤‘...</p>
                        </div>
                    </div>
                </div>

                <!-- ëª©ì¥ ë¦¬ë”ë³´ë“œ -->
                <div class="card">
                    <h3 style="color:var(--navy); margin-bottom:12px;" data-ko="ğŸ† ëª©ì¥ ë¦¬ë”ë³´ë“œ" data-en="ğŸ† Group Leaderboard">ğŸ† ëª©ì¥ ë¦¬ë”ë³´ë“œ</h3>
                    <p style="font-size:12px; color:#666; margin-bottom:10px;" data-ko="21ì¼ ê²½ì²­ í”„ë¡œì íŠ¸ ì§„í–‰ë¥ " data-en="21-Day Listening Project Progress">21ì¼ ê²½ì²­ í”„ë¡œì íŠ¸ ì§„í–‰ë¥ </p>
                    <div id="mokjangLeaderboard" style="font-size:14px;">
                        <p style="text-align:center; color:#999;" data-ko="ë¡œë”© ì¤‘..." data-en="Loading...">ë¡œë”© ì¤‘...</p>
                    </div>
                </div>

                <div class="card">
                    <h3 style="color:var(--navy); margin-bottom:10px;" data-ko="ğŸ’¬ ê²©ë ¤ ë©”ì‹œì§€" data-en="ğŸ’¬ Encouragement">ğŸ’¬ ê²©ë ¤ ë©”ì‹œì§€</h3>
                    <p style="text-align:center; color:#666; font-size:0.9rem; padding:20px;" data-ko="í•¨ê»˜ ë‹¬ë ¤ê°€ëŠ” ìš°ë¦¬ ëª©ì¥ ì‹êµ¬ë“¤ì„ ìœ„í•´ ê¸°ë„í•©ë‹ˆë‹¤ ğŸ™" data-en="Praying for our group members running together ğŸ™">
                        í•¨ê»˜ ë‹¬ë ¤ê°€ëŠ” ìš°ë¦¬ ëª©ì¥ ì‹êµ¬ë“¤ì„ ìœ„í•´ ê¸°ë„í•©ë‹ˆë‹¤ ğŸ™
                    </p>
                </div>

                <div style="display:flex; gap:10px;">
                    <button class="btn" onclick="openEditMokjangModal()" style="flex:1;" data-ko="âœï¸ ë‚´ ì •ë³´ ìˆ˜ì •" data-en="âœï¸ Edit My Info">âœï¸ ë‚´ ì •ë³´ ìˆ˜ì •</button>
                    <button class="btn btn-secondary" onclick="leaveMokjang()" style="flex:1;" data-ko="ëª©ì¥ ë‚˜ê°€ê¸°" data-en="Leave Group">ëª©ì¥ ë‚˜ê°€ê¸°</button>
                </div>
            </div>
        </div>

        <!-- íƒ­ 4: ê°€ì´ë“œ -->
        <div id="tab-guide" class="tab-content">
            <div class="card">
                <h2 style="color:var(--navy); margin-bottom:15px; text-align:center;" data-ko="ğŸ“š ê²½ì²­ ê°€ì´ë“œ" data-en="ğŸ“š Listening Guide">ğŸ“š ê²½ì²­ ê°€ì´ë“œ</h2>

                <div class="guide-box">
                    <div class="guide-title" data-ko="ğŸ’¡ ì™œ 'ë“£ëŠ” ê¸°ë„'ì¸ê°€ìš”?" data-en="ğŸ’¡ Why 'Listening Prayer'?">ğŸ’¡ ì™œ 'ë“£ëŠ” ê¸°ë„'ì¸ê°€ìš”?</div>
                    <div class="guide-text" data-ko='ê²½ì²­ê¸°ë„ëŠ” ì‹ ë¹„ì£¼ì˜ê°€ ì•„ë‹™ë‹ˆë‹¤.<br><strong>"ë‚´ ì–‘ì€ ë‚´ ìŒì„±ì„ ë“¤ìœ¼ë©°"</strong> (ìš” 10:27) í•˜ì‹  ì˜ˆìˆ˜ë‹˜ì˜ ë§ì”€ì²˜ëŸ¼, ëª©ìì´ì‹  ì£¼ë‹˜ì˜ ëœ»ì„ ë“£ê³  <strong>ìˆœì¢…í•˜ê¸° ìœ„í•œ í›ˆë ¨</strong>ì…ë‹ˆë‹¤.' data-en='Listening prayer is not mysticism.<br>As Jesus said, <strong>"My sheep listen to my voice"</strong> (John 10:27), it is <strong>training to hear and obey</strong> the will of our Shepherd Lord.'></div>
                </div>
            </div>

            <!-- í•˜ë‚˜ë‹˜ì˜ ìŒì„± ë“£ê¸° ì‹ í•™ì  ê¸°ì´ˆ -->
            <div class="card">
                <h3 style="color:var(--navy); margin-bottom:15px;" data-ko="ğŸ§ í•˜ë‚˜ë‹˜ì˜ ìŒì„± ë“£ê¸° 5ëŒ€ ì›ë¦¬" data-en="ğŸ§ 5 Principles for Hearing God's Voice">ğŸ§ í•˜ë‚˜ë‹˜ì˜ ìŒì„± ë“£ê¸° 5ëŒ€ ì›ë¦¬</h3>
                
                <div style="background:#FFF8E1; padding:15px; border-radius:8px; margin-bottom:15px; border-left:3px solid var(--gold);">
                    <h4 style="color:var(--navy); margin-bottom:8px;" data-ko="1. ê·€ê°€ ê°€ë ¤ìš´ ì‹œëŒ€ë¥¼ ê²½ê³„í•˜ë¼" data-en="1. Beware of the Itching Ears Era">1. ê·€ê°€ ê°€ë ¤ìš´ ì‹œëŒ€ë¥¼ ê²½ê³„í•˜ë¼</h4>
                    <p style="font-size:13px; color:#555; line-height:1.6;" data-ko='"ë•Œê°€ ì˜¤ë©´, ì‚¬ëŒë“¤ì´ ê±´ì „í•œ êµí›ˆì„ ë°›ìœ¼ë ¤ í•˜ì§€ ì•Šê³ , ê·€ë¥¼ ì¦ê²ê²Œ í•˜ëŠ” ë§ì„ ë“¤ìœ¼ë ¤ê³  ìê¸°ë„¤ ìš•ì‹¬ì— ë§ì¶”ì–´ ìŠ¤ìŠ¹ì„ ëª¨ì•„ë“¤ì¼ ê²ƒì…ë‹ˆë‹¤." (ë””ëª¨ë°í›„ì„œ 4:3)<br><br><strong>âš ï¸ ê²½ê³ :</strong> ì„¤êµë¥¼ "ì‡¼í•‘"í•˜ë©° ë‚´ ì…ë§›ì— ë§ëŠ” ë©”ì‹œì§€ë§Œ ì„ íƒí•˜ëŠ” ê²ƒì€ ì˜ˆë°°ê°€ ì•„ë‹ˆë¼ ì¢…êµì  ì†Œë¹„ì…ë‹ˆë‹¤. ë¶ˆí¸í•œ ë§ì”€ë„ "ì•„ë©˜"ìœ¼ë¡œ ë°›ì•„ë“¤ì´ì„¸ìš”.' data-en='"For the time will come when people will not put up with sound doctrine. Instead, to suit their own desires, they will gather around them teachers to say what their itching ears want to hear." (2 Timothy 4:3)<br><br><strong>âš ï¸ Warning:</strong> "Shopping" for sermons that only please you is not worshipâ€”it is religious consumerism. Accept uncomfortable words with "Amen" too.'></p>
                </div>

                <div style="background:#E8F5E9; padding:15px; border-radius:8px; margin-bottom:15px; border-left:3px solid #4CAF50;">
                    <h4 style="color:var(--navy); margin-bottom:8px;" data-ko="2. ì˜¥í† ì˜ ë¹„ë°€ - ë§ˆìŒ ë°­ì„ ì¤€ë¹„í•˜ë¼" data-en="2. Secret of Good Soil - Prepare Your Heart">2. ì˜¥í† ì˜ ë¹„ë°€ - ë§ˆìŒ ë°­ì„ ì¤€ë¹„í•˜ë¼</h4>
                    <p style="font-size:13px; color:#555; line-height:1.6;" data-ko='"ì”¨ë¥¼ ë¿Œë¦¬ëŠ” ì‚¬ëŒì´ ì”¨ë¥¼ ë¿Œë¦¬ëŸ¬ ë‚˜ê°”ë‹¤... ì¢‹ì€ ë•…ì— ë–¨ì–´ì§€ë‹ˆ, ì‚¼ì‹­ ë°°ì™€ ìœ¡ì‹­ ë°°ì™€ ë°± ë°°ì˜ ì—´ë§¤ë¥¼ ë§ºì—ˆë‹¤." <em>(ë§ˆê°€ë³µìŒ 4:3-8, ìƒˆë²ˆì—­)</em><br><br>ê°™ì€ ì„¤êµë¥¼ ë“£ê³ ë„ ì–´ë–¤ ì´ëŠ” 0ë°°, ì–´ë–¤ ì´ëŠ” 100ë°°ì˜ ì—´ë§¤ë¥¼ ë§ºìŠµë‹ˆë‹¤. ìœ ì¼í•œ ë³€ìˆ˜ëŠ” <strong>ë•…</strong>, ì¦‰ ì²­ì¤‘ì˜ ë§ˆìŒ ìƒíƒœì…ë‹ˆë‹¤.<br><br><strong>âœ… ì‹¤ì²œ:</strong> ì˜ˆë°° ì‹œì‘ ì „ 10ë¶„ì´ ìŠ¹ë¶€ì²˜ì…ë‹ˆë‹¤. í† ìš”ì¼ ë°¤ ì¼ì° ìê³ , ì£¼ì¼ ì•„ì¹¨ ê¸°ë„ë¡œ ë§ˆìŒì„ ì¤€ë¹„í•˜ì„¸ìš”.' data-en='"A farmer went out to sow his seed... Some fell on good soil, producing a cropâ€”thirty, sixty, or even a hundred times what was sown." <em>(Mark 4:3-8)</em><br><br>Hearing the same sermon, some bear 0 fruit while others bear 100-fold fruit. The only variable is the <strong>soil</strong>â€”the condition of the listener&apos;s heart.<br><br><strong>âœ… Practice:</strong> The 10 minutes before worship is crucial. Sleep early Saturday night and prepare your heart with Sunday morning prayer.'></p>
                </div>

                <div style="background:#E3F2FD; padding:15px; border-radius:8px; margin-bottom:15px; border-left:3px solid #1976D2;">
                    <h4 style="color:var(--navy); margin-bottom:8px;" data-ko="3. ë² ë¢°ì•„ì  ê²½ì²­ - ì—´ì •ê³¼ ì§€ì„±ì˜ ê· í˜•" data-en="3. Berean Listening - Balance of Passion and Intellect">3. ë² ë¢°ì•„ì  ê²½ì²­ - ì—´ì •ê³¼ ì§€ì„±ì˜ ê· í˜•</h4>
                    <p style="font-size:13px; color:#555; line-height:1.6;" data-ko='"ë² ë¢°ì•„ ì‚¬ëŒë“¤ì€ ë” ê³ ìƒí•œ ì‚¬ëŒë“¤ì´ì–´ì„œ, ì•„ì£¼ ê¸°êº¼ì´ ë§ì”€ì„ ë°›ì•„ë“¤ì´ê³ , ê·¸ê²ƒì´ ì‚¬ì‹¤ì¸ì§€ ì•Œì•„ë³´ë ¤ê³  ë‚ ë§ˆë‹¤ ì„±ê²½ì„ ìƒê³ í•˜ì˜€ìŠµë‹ˆë‹¤." (ì‚¬ë„í–‰ì „ 17:11)<br><br><strong>â‘  ì—´ì •ì  ìˆ˜ìš©:</strong> ëª©ë§ˆë¥¸ ì‚¬ìŠ´ì´ ì‹œëƒ‡ë¬¼ì„ ì°¾ë“¯ ê°„ì ˆíˆ ë§ì”€ì„ ì‚¬ëª¨í•˜ì„¸ìš”.<br><strong>â‘¡ ì§€ì„±ì  ê²€ì¦:</strong> ì„¤êµê°€ ì„±ê²½ì— ë¶€í•©í•˜ëŠ”ì§€ ì§ì ‘ í™•ì¸í•˜ì„¸ìš”.<br><br>ì—´ì • ì—†ëŠ” ê²€ì¦ì€ ëƒ‰ì†Œì£¼ì˜, ê²€ì¦ ì—†ëŠ” ì—´ì •ì€ ë§¹ëª©ì  ê´‘ì‹ ì…ë‹ˆë‹¤.' data-en='"Now the Berean Jews were of more noble character, for they received the message with great eagerness and examined the Scriptures every day to see if what Paul said was true." (Acts 17:11)<br><br><strong>â‘  Eager Reception:</strong> Long for the Word like a deer pants for water.<br><strong>â‘¡ Intellectual Verification:</strong> Check if the sermon aligns with Scripture.<br><br>Verification without passion is cynicism; passion without verification is blind fanaticism.'></p>
                </div>

                <div style="background:#FCE4EC; padding:15px; border-radius:8px; margin-bottom:15px; border-left:3px solid #E91E63;">
                    <h4 style="color:var(--navy); margin-bottom:8px;" data-ko="4. ê±°ìš¸ì˜ ë²•ì¹™ - ë“£ê³  ë°˜ë“œì‹œ í–‰í•˜ë¼" data-en="4. Law of the Mirror - Hear and Do">4. ê±°ìš¸ì˜ ë²•ì¹™ - ë“£ê³  ë°˜ë“œì‹œ í–‰í•˜ë¼</h4>
                    <p style="font-size:13px; color:#555; line-height:1.6;" data-ko='"ëˆ„êµ¬ë“ ì§€ ë§ì”€ì„ ë“£ê³  ì‹¤ì²œí•˜ì§€ ì•ŠëŠ” ì‚¬ëŒì€, ê±°ìš¸ì— ìê¸° ì–¼êµ´ì„ ë¹„ì¶”ì–´ ë³´ê³  ë‚˜ì„œ ê³§ ìŠì–´ë²„ë¦¬ëŠ” ì‚¬ëŒê³¼ ê°™ìŠµë‹ˆë‹¤." (ì•¼ê³ ë³´ì„œ 1:23-24)<br><br><strong>âš ï¸ ìœ„í—˜:</strong> ê°€ì¥ ìœ„í—˜í•œ ìê¸°ê¸°ë§Œì€ "ë§ì´ ë“¤ì—ˆì§€ë§Œ ì „í˜€ ë³€í•˜ì§€ ì•ŠëŠ” ê²ƒ"ì…ë‹ˆë‹¤. ê°ë™ì€ ë³€í™”ê°€ ì•„ë‹™ë‹ˆë‹¤. ê°ë™ì€ ë³€í™”ë¥¼ ìœ„í•œ ì—ë„ˆì§€ì¼ ë¿ì…ë‹ˆë‹¤.<br><br><strong>âœ… ì‹¤ì²œ:</strong> ì˜ˆë°°ë‹¹ ë¬¸ì„ ë‚˜ì„¤ ë•Œ, "ì´ë²ˆ ì£¼ ì‹¤ì²œí•  í•œ ê°€ì§€"ë¥¼ ë°˜ë“œì‹œ ì •í•˜ì„¸ìš”.' data-en='"Anyone who listens to the word but does not do what it says is like someone who looks at his face in a mirror and, after looking at himself, goes away and immediately forgets what he looks like." (James 1:23-24)<br><br><strong>âš ï¸ Danger:</strong> The most dangerous self-deception is "hearing much but never changing." Emotion is not transformation. Emotion is only energy for transformation.<br><br><strong>âœ… Practice:</strong> When leaving worship, always decide "one thing to practice this week."'></p>
                </div>

                <div style="background:#F3E5F5; padding:15px; border-radius:8px; margin-bottom:15px; border-left:3px solid #9C27B0;">
                    <h4 style="color:var(--navy); margin-bottom:8px;" data-ko="5. ê²½ì²­ì˜ ì‹œë„ˆì§€ - í•¨ê»˜ ë“¤ì„ ë•Œ ì€í˜œê°€ ë°°ê°€ëœë‹¤" data-en="5. Listening Synergy - Grace Multiplies When We Listen Together">5. ê²½ì²­ì˜ ì‹œë„ˆì§€ - í•¨ê»˜ ë“¤ì„ ë•Œ ì€í˜œê°€ ë°°ê°€ëœë‹¤</h4>
                    <p style="font-size:13px; color:#555; line-height:1.6;" data-ko='"ì—¬ëŸ¬ë¶„ì´ ìš°ë¦¬ì—ê²Œì„œ í•˜ë‚˜ë‹˜ì˜ ë§ì”€ì„ ë“¤ì„ ë•Œì—, ê·¸ê²ƒì„ ì‚¬ëŒì˜ ë§ë¡œ ë°›ì•„ë“¤ì´ì§€ ì•„ë‹ˆí•˜ê³ , ì‚¬ì‹¤ ê·¸ëŒ€ë¡œ í•˜ë‚˜ë‹˜ì˜ ë§ì”€ìœ¼ë¡œ ë°›ì•„ë“¤ì˜€ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤." <em>(ë°ì‚´ë¡œë‹ˆê°€ì „ì„œ 2:13, ìƒˆë²ˆì—­)</em><br><br>ì„¤êµìê°€ ë§ì”€ì„ ì „í•  ë•Œ, ì„±ë ¹ê»˜ì„œëŠ” ì²­ì¤‘ì˜ ìƒí™©ì— ë§ê²Œ ê·¸ ë§ì”€ì„ ì ìš©í•˜ê³  ì¡°ëª…í•˜ì‹­ë‹ˆë‹¤. <strong>ì„¤êµìì˜ ì¤€ë¹„(50%) + ì²­ì¤‘ì˜ ì¤€ë¹„(50%) = 100%ê°€ ì•„ë‹™ë‹ˆë‹¤.</strong> ì–‘ìª½ì´ ëª¨ë‘ ì„±ë ¹ ì•ì— ì—ë“œë¦´ ë•Œ, <strong>1+1=200, 300ì´ ë©ë‹ˆë‹¤.</strong>' data-en='"When you received the word of God, which you heard from us, you accepted it not as a human word, but as it actually is, the word of God." <em>(1 Thessalonians 2:13)</em><br><br>When the preacher delivers the Word, the Holy Spirit applies and illuminates it to each listener&apos;s situation. <strong>Preacher&apos;s prep (50%) + Listener&apos;s prep (50%) â‰  100%.</strong> When both bow before the Spirit, <strong>1+1=200, 300.</strong>'></p>
                </div>
            </div>

            <!-- ìŒì„± ë¶„ë³„ ê°€ì´ë“œ -->
            <div class="card">
                <h3 style="color:var(--navy); margin-bottom:15px;" data-ko="âš–ï¸ í•˜ë‚˜ë‹˜ì˜ ìŒì„± ë¶„ë³„ë²•" data-en="âš–ï¸ Discerning God's Voice">âš–ï¸ í•˜ë‚˜ë‹˜ì˜ ìŒì„± ë¶„ë³„ë²•</h3>
                
                <div style="background: linear-gradient(135deg, #fff 0%, #f5f5f5 100%); padding:15px; border-radius:8px; border:1px solid #ddd;">
                    <p style="font-size:13px; color:#555; line-height:1.6; margin-bottom:15px;" data-ko="ê¸°ë„ ì¤‘ ë“¤ë ¤ì˜¤ëŠ” ìŒì„±ì´ ì •ë§ í•˜ë‚˜ë‹˜ì˜ ìŒì„±ì¸ì§€ ì–´ë–»ê²Œ ì•Œ ìˆ˜ ìˆì„ê¹Œìš”? ì•„ë˜ <strong>3ê°€ì§€ ë¶„ë³„ ê¸°ì¤€</strong>ìœ¼ë¡œ ê²€ì¦í•˜ì„¸ìš”:" data-en="How can you know if the voice you hear in prayer is truly God's voice? Verify it with these <strong>3 criteria</strong>:"></p>
                    
                    <div style="display:grid; gap:12px;">
                        <div style="background:#E3F2FD; padding:12px; border-radius:6px; display:flex; align-items:flex-start; gap:10px;">
                            <span style="background:#1976D2; color:white; width:24px; height:24px; border-radius:50%; display:flex; align-items:center; justify-content:center; font-size:12px; font-weight:bold; flex-shrink:0;">1</span>
                            <div>
                                <strong style="color:#1976D2;" data-ko="ì„±ê²½ ë§ì”€ê³¼ ì¼ì¹˜í•˜ëŠ”ê°€?" data-en="Does it align with Scripture?">ì„±ê²½ ë§ì”€ê³¼ ì¼ì¹˜í•˜ëŠ”ê°€?</strong>
                                <p style="font-size:12px; color:#555; margin-top:4px;" data-ko="í•˜ë‚˜ë‹˜ì€ ì„±ê²½ê³¼ ëª¨ìˆœë˜ëŠ” ë§ì”€ì„ í•˜ì§€ ì•Šìœ¼ì‹­ë‹ˆë‹¤. ë“¤ì€ ë‚´ìš©ì´ ì„±ê²½ì˜ ê°€ë¥´ì¹¨ê³¼ ì¼ì¹˜í•˜ëŠ”ì§€ í™•ì¸í•˜ì„¸ìš”." data-en="God never contradicts Scripture. Verify that what you heard aligns with biblical teaching."></p>
                            </div>
                        </div>
                        
                        <div style="background:#E8F5E9; padding:12px; border-radius:6px; display:flex; align-items:flex-start; gap:10px;">
                            <span style="background:#4CAF50; color:white; width:24px; height:24px; border-radius:50%; display:flex; align-items:center; justify-content:center; font-size:12px; font-weight:bold; flex-shrink:0;">2</span>
                            <div>
                                <strong style="color:#388E3C;" data-ko="í•˜ë‚˜ë‹˜ì˜ ì„±í’ˆê³¼ ì¼ì¹˜í•˜ëŠ”ê°€?" data-en="Does it align with God's character?">í•˜ë‚˜ë‹˜ì˜ ì„±í’ˆê³¼ ì¼ì¹˜í•˜ëŠ”ê°€?</strong>
                                <p style="font-size:12px; color:#555; margin-top:4px;" data-ko="í•˜ë‚˜ë‹˜ì€ ì‚¬ë‘, ê±°ë£©, ê³µì˜, ìë¹„ì˜ í•˜ë‚˜ë‹˜ì´ì‹­ë‹ˆë‹¤. ì •ì£„í•˜ê³  ë‘ë µê²Œ í•˜ëŠ” ìŒì„±ì€ í•˜ë‚˜ë‹˜ì˜ ìŒì„±ì´ ì•„ë‹™ë‹ˆë‹¤." data-en="God is love, holiness, justice, and mercy. Condemning and fearful voices are not from God."></p>
                            </div>
                        </div>
                        
                        <div style="background:#FFF3E0; padding:12px; border-radius:6px; display:flex; align-items:flex-start; gap:10px;">
                            <span style="background:#FF9800; color:white; width:24px; height:24px; border-radius:50%; display:flex; align-items:center; justify-content:center; font-size:12px; font-weight:bold; flex-shrink:0;">3</span>
                            <div>
                                <strong style="color:#F57C00;" data-ko="ì‹ ë¢°í•  ìˆ˜ ìˆëŠ” ì„±ë„ì˜ í™•ì¸ì´ ìˆëŠ”ê°€?" data-en="Is it confirmed by trusted believers?">ì‹ ë¢°í•  ìˆ˜ ìˆëŠ” ì„±ë„ì˜ í™•ì¸ì´ ìˆëŠ”ê°€?</strong>
                                <p style="font-size:12px; color:#555; margin-top:4px;" data-ko='ì¤‘ìš”í•œ ê²°ì •ì¼ìˆ˜ë¡ ëª©ì, ëª©ë…€, ë˜ëŠ” ì˜ì  ë©˜í† ì™€ ë‚˜ëˆ„ì–´ í™•ì¸ì„ ë°›ìœ¼ì„¸ìš”. "ì§€í˜œëŠ” ì¡°ì–¸ìê°€ ë§ì€ ë°ì— ìˆìŠµë‹ˆë‹¤" (ì  11:14)' data-en='For important decisions, seek confirmation from your shepherd or spiritual mentor. "In abundance of counselors there is victory." (Prov 11:14)'></p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div style="background:#FFEBEE; padding:12px; border-radius:8px; margin-top:15px; border-left:3px solid #F44336;">
                    <p style="font-size:12px; color:#C62828; line-height:1.6;" data-ko="<strong>ğŸš« ì£¼ì˜:</strong> ì„±ê²½ ë°–ì˜ ìŒì„±, í¥ë¶„ê³¼ ê°ì •ì— ì¹˜ìš°ì¹œ íŒë‹¨, ë‹¤ë¥¸ ì‚¬ëŒì˜ í™•ì¸ ì—†ì´ ë‚´ë¦° ì¤‘ëŒ€í•œ ê²°ì •ì€ ìœ„í—˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. íŠ¹íˆ 'í•˜ë‚˜ë‹˜ì´ â—‹â—‹í•˜ë¼ê³  í•˜ì…¨ë‹¤'ë©° íƒ€ì¸ì„ ê°•ìš”í•˜ëŠ” ê²ƒì€ í•˜ë‚˜ë‹˜ ì´ë¦„ì„ ë¹™ìí•œ ê²ƒì¼ ìˆ˜ ìˆìœ¼ë‹ˆ ì¡°ì‹¬í•˜ì„¸ìš”." data-en="<strong>ğŸš« Caution:</strong> Voices outside Scripture, emotionally-driven decisions, and major choices without others' confirmation can be dangerous. Be especially careful of those who pressure others saying 'God told me...'"></p>
                </div>
            </div>

            <!-- ì˜ˆë°° ì „ ì¤€ë¹„ ì²´í¬ë¦¬ìŠ¤íŠ¸ -->
            <div class="card">
                <h3 style="color:var(--navy); margin-bottom:15px;" data-ko="ğŸ“‹ ì˜ˆë°° ì „ ì¤€ë¹„ ì²´í¬ë¦¬ìŠ¤íŠ¸" data-en="ğŸ“‹ Pre-Worship Preparation Checklist">ğŸ“‹ ì˜ˆë°° ì „ ì¤€ë¹„ ì²´í¬ë¦¬ìŠ¤íŠ¸</h3>
                
                <div style="background:#f8f9fa; padding:15px; border-radius:8px;">
                    <div style="margin-bottom:12px; display:flex; align-items:center; gap:10px;">
                        <span style="font-size:18px;">ğŸŒ™</span>
                        <div>
                            <strong data-ko="í† ìš”ì¼ ë°¤" data-en="Saturday Night">í† ìš”ì¼ ë°¤</strong>
                            <p style="font-size:12px; color:#666;" data-ko="10ì‹œ ì´í›„ ë¯¸ë””ì–´ ë„ê¸°, ì¼ì° ì ìë¦¬" data-en="Turn off media after 10pm, go to bed early">10ì‹œ ì´í›„ ë¯¸ë””ì–´ ë„ê¸°, ì¼ì° ì ìë¦¬</p>
                        </div>
                    </div>
                    <div style="margin-bottom:12px; display:flex; align-items:center; gap:10px;">
                        <span style="font-size:18px;">ğŸŒ…</span>
                        <div>
                            <strong data-ko="ì£¼ì¼ ì•„ì¹¨" data-en="Sunday Morning">ì£¼ì¼ ì•„ì¹¨</strong>
                            <p style="font-size:12px; color:#666;" data-ko="ì—¬ìœ ìˆê²Œ ê¸°ìƒ, ê¸°ë„ë¡œ ë§ˆìŒ ì¤€ë¹„" data-en="Wake up early, prepare heart with prayer">ì—¬ìœ ìˆê²Œ ê¸°ìƒ, ê¸°ë„ë¡œ ë§ˆìŒ ì¤€ë¹„</p>
                        </div>
                    </div>
                    <div style="margin-bottom:12px; display:flex; align-items:center; gap:10px;">
                        <span style="font-size:18px;">ğŸš—</span>
                        <div>
                            <strong data-ko="ì´ë™ ì¤‘" data-en="On the Way">ì´ë™ ì¤‘</strong>
                            <p style="font-size:12px; color:#666;" data-ko="ë‰´ìŠ¤/ì„¸ìƒ ìŒì•… ëŒ€ì‹  ì°¬ì–‘ ë˜ëŠ” ì¹¨ë¬µ" data-en="Worship music or silence instead of news">ë‰´ìŠ¤/ì„¸ìƒ ìŒì•… ëŒ€ì‹  ì°¬ì–‘ ë˜ëŠ” ì¹¨ë¬µ</p>
                        </div>
                    </div>
                    <div style="margin-bottom:12px; display:flex; align-items:center; gap:10px;">
                        <span style="font-size:18px;">â°</span>
                        <div>
                            <strong data-ko="ì˜ˆë°° 10ë¶„ ì „" data-en="10 Min Before Worship">ì˜ˆë°° 10ë¶„ ì „</strong>
                            <p style="font-size:12px; color:#666;" data-ko='ë„ì°©í•˜ì—¬ "ì£¼ë‹˜, ì˜¤ëŠ˜ ì œê²Œ ë§ì”€í•˜ì˜µì†Œì„œ" 10ë²ˆ ê³ ë°±' data-en='Arrive and confess "Lord, speak to me today" 10 times'>ë„ì°©í•˜ì—¬ "ì£¼ë‹˜, ì˜¤ëŠ˜ ì œê²Œ ë§ì”€í•˜ì˜µì†Œì„œ" 10ë²ˆ ê³ ë°±</p>
                        </div>
                    </div>
                    <div style="display:flex; align-items:center; gap:10px;">
                        <span style="font-size:18px;">ğŸ™</span>
                        <div>
                            <strong data-ko="ì„¤êµìë¥¼ ìœ„í•œ ì¤‘ë³´" data-en="Intercede for the Preacher">ì„¤êµìë¥¼ ìœ„í•œ ì¤‘ë³´</strong>
                            <p style="font-size:12px; color:#666;" data-ko='"ëª©ì‚¬ë‹˜ì˜ ì…ìˆ ì„ ì„±ë ¹ê»˜ì„œ ì£¼ê´€í•´ ì£¼ì†Œì„œ"' data-en='"Holy Spirit, guide the pastor's words"'>"ëª©ì‚¬ë‹˜ì˜ ì…ìˆ ì„ ì„±ë ¹ê»˜ì„œ ì£¼ê´€í•´ ì£¼ì†Œì„œ"</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="card">
                <h3 style="color:var(--navy); margin-bottom:15px;" data-ko="ğŸ™ ì£¼ê¸°ë„ë¬¸ìœ¼ë¡œ í•˜ëŠ” ê²½ì²­ë²• (5 Step)" data-en="ğŸ™ Listening Prayer with Lord's Prayer (5 Steps)">ğŸ™ ì£¼ê¸°ë„ë¬¸ìœ¼ë¡œ í•˜ëŠ” ê²½ì²­ë²• (5 Step)</h3>
                
                <div style="background:#FFF8E1; padding:12px; border-radius:8px; margin-bottom:15px; border-left:3px solid var(--gold);">
                    <p style="font-size:13px; color:#666; line-height:1.6;" data-ko='<strong style="color:var(--navy);">ğŸ’¡ ì‹œì‘í•˜ê¸° ì „ì—:</strong> ì¡°ìš©í•œ ì¥ì†Œì—ì„œ 15ë¶„ì„ í™•ë³´í•˜ì„¸ìš”. íœ´ëŒ€í°ì€ ë¬´ìŒìœ¼ë¡œ í•˜ê³ , ì„±ê²½ê³¼ ë…¸íŠ¸ë¥¼ ì¤€ë¹„í•©ë‹ˆë‹¤. ëˆˆì„ ê°ê³  ì‹¬í˜¸í¡ 3ë²ˆìœ¼ë¡œ ë§ˆìŒì„ ê°€ë¼ì•‰íˆì„¸ìš”.' data-en='<strong style="color:var(--navy);">ğŸ’¡ Before Starting:</strong> Find a quiet place for 15 minutes. Silence your phone and prepare Bible and notes. Close your eyes and take 3 deep breaths to calm your heart.'>
                        <strong style="color:var(--navy);">ğŸ’¡ ì‹œì‘í•˜ê¸° ì „ì—:</strong> 
                        ì¡°ìš©í•œ ì¥ì†Œì—ì„œ 15ë¶„ì„ í™•ë³´í•˜ì„¸ìš”. íœ´ëŒ€í°ì€ ë¬´ìŒìœ¼ë¡œ í•˜ê³ , 
                        ì„±ê²½ê³¼ ë…¸íŠ¸ë¥¼ ì¤€ë¹„í•©ë‹ˆë‹¤. ëˆˆì„ ê°ê³  ì‹¬í˜¸í¡ 3ë²ˆìœ¼ë¡œ ë§ˆìŒì„ ê°€ë¼ì•‰íˆì„¸ìš”.
                    </p>
                </div>

                <div class="guide-step">
                    <div class="step-num">1</div>
                    <div class="step-content">
                        <h4 data-ko="í•˜ëŠ˜ì— ê³„ì‹  ìš°ë¦¬ ì•„ë²„ì§€" data-en="Our Father in Heaven">í•˜ëŠ˜ì— ê³„ì‹  ìš°ë¦¬ ì•„ë²„ì§€</h4>
                        <p data-ko="ë©ˆì¶”ì„¸ìš”(Stop). ê·¸ë¦¬ê³  ë‚˜ë¥¼ ë¶€ë¥´ì‹œëŠ” ì•„ë²„ì§€ì˜ ì‚¬ë‘ ì•ˆì—ì„œ í‰ì•ˆì„ ëˆ„ë¦¬ì„¸ìš”." data-en="Stop. Rest in the love of the Father who calls you.">ë©ˆì¶”ì„¸ìš”(Stop). ê·¸ë¦¬ê³  ë‚˜ë¥¼ ë¶€ë¥´ì‹œëŠ” ì•„ë²„ì§€ì˜ ì‚¬ë‘ ì•ˆì—ì„œ í‰ì•ˆì„ ëˆ„ë¦¬ì„¸ìš”.</p>
                        <div style="background:#E3F2FD; padding:10px; border-radius:6px; margin-top:8px;">
                            <p style="font-size:12px; color:#1565C0; line-height:1.5;" data-ko='<strong>ğŸ™ ì‹¤ì²œ:</strong> "ì•„ë²„ì§€, ì €ëŠ” ë‹¹ì‹ ì˜ ìë…€ì…ë‹ˆë‹¤"ë¥¼ ì²œì²œíˆ 3ë²ˆ ê³ ë°±í•˜ì„¸ìš”. í•˜ë‚˜ë‹˜ì´ ë‚˜ë¥¼ ì–´ë–¤ ëˆˆìœ¼ë¡œ ë°”ë¼ë³´ì‹œëŠ”ì§€ ë¬µìƒí•©ë‹ˆë‹¤. (2ë¶„)' data-en='<strong>ğŸ™ Practice:</strong> Slowly confess "Father, I am Your child" 3 times. Meditate on how God sees you. (2 min)'>
                                <strong>ğŸ™ ì‹¤ì²œ:</strong> "ì•„ë²„ì§€, ì €ëŠ” ë‹¹ì‹ ì˜ ìë…€ì…ë‹ˆë‹¤"ë¥¼ ì²œì²œíˆ 3ë²ˆ ê³ ë°±í•˜ì„¸ìš”. 
                                í•˜ë‚˜ë‹˜ì´ ë‚˜ë¥¼ ì–´ë–¤ ëˆˆìœ¼ë¡œ ë°”ë¼ë³´ì‹œëŠ”ì§€ ë¬µìƒí•©ë‹ˆë‹¤. (2ë¶„)
                            </p>
                        </div>
                    </div>
                </div>

                <div class="guide-step">
                    <div class="step-num">2</div>
                    <div class="step-content">
                        <h4 data-ko="ë‚˜ë¼ê°€ ì„í•˜ì‹œì˜¤ë©°" data-en="Your Kingdom Come">ë‚˜ë¼ê°€ ì„í•˜ì‹œì˜¤ë©°</h4>
                        <p data-ko="ë‚´ ê³„íšì„ ë‚´ë ¤ë†“ê³ , ì˜¤ëŠ˜ ë‚´ ê°€ì •ê³¼ ì¼í„°ì— ì„í•˜ì‹¤ í•˜ë‚˜ë‹˜ì˜ ëœ»ì„ ë¬¼ìœ¼ì„¸ìš”." data-en="Lay down your plans and ask God's will for your home and workplace today.">ë‚´ ê³„íšì„ ë‚´ë ¤ë†“ê³ , ì˜¤ëŠ˜ ë‚´ ê°€ì •ê³¼ ì¼í„°ì— ì„í•˜ì‹¤ í•˜ë‚˜ë‹˜ì˜ ëœ»ì„ ë¬¼ìœ¼ì„¸ìš”.</p>
                        <div style="background:#E3F2FD; padding:10px; border-radius:6px; margin-top:8px;">
                            <p style="font-size:12px; color:#1565C0; line-height:1.5;" data-ko='<strong>ğŸ™ ì‹¤ì²œ:</strong> "ì£¼ë‹˜, ì˜¤ëŠ˜ ì œ ì‚¶ì˜ ì–´ë–¤ ì˜ì—­ì—ì„œ ë‹¹ì‹ ì˜ ë‚˜ë¼ê°€ ì„í•˜ê¸¸ ì›í•˜ì‹­ë‹ˆê¹Œ?" ì§ˆë¬¸í•˜ê³  ì¡°ìš©íˆ ê¸°ë‹¤ë¦½ë‹ˆë‹¤. ë– ì˜¤ë¥´ëŠ” ìƒê°ì„ ë…¸íŠ¸ì— ì ìœ¼ì„¸ìš”. (3ë¶„)' data-en='<strong>ğŸ™ Practice:</strong> Ask "Lord, where in my life do You want Your kingdom to come today?" Wait quietly. Write down thoughts in your notes. (3 min)'>
                                <strong>ğŸ™ ì‹¤ì²œ:</strong> "ì£¼ë‹˜, ì˜¤ëŠ˜ ì œ ì‚¶ì˜ ì–´ë–¤ ì˜ì—­ì—ì„œ ë‹¹ì‹ ì˜ ë‚˜ë¼ê°€ ì„í•˜ê¸¸ ì›í•˜ì‹­ë‹ˆê¹Œ?" 
                                ì§ˆë¬¸í•˜ê³  ì¡°ìš©íˆ ê¸°ë‹¤ë¦½ë‹ˆë‹¤. ë– ì˜¤ë¥´ëŠ” ìƒê°ì„ ë…¸íŠ¸ì— ì ìœ¼ì„¸ìš”. (3ë¶„)
                            </p>
                        </div>
                    </div>
                </div>

                <div class="guide-step">
                    <div class="step-num">3</div>
                    <div class="step-content">
                        <h4 data-ko="ì¼ìš©í•  ì–‘ì‹ì„ ì£¼ì˜µì‹œê³ " data-en="Give Us Today Our Daily Bread">ì¼ìš©í•  ì–‘ì‹ì„ ì£¼ì˜µì‹œê³ </h4>
                        <p data-ko="ì˜¤ëŠ˜ ì£¼ì‹  ë§ì”€(QT)ì„ í´ì„¸ìš”. ë§ì”€ ë°–ì˜ ìŒì„±ì€ ìœ„í—˜í•©ë‹ˆë‹¤. ì„±ê²½ì„ í†µí•´ ë“¤ìœ¼ì„¸ìš”." data-en="Open today's Word (QT). Voices outside Scripture are dangerous. Listen through the Bible.">ì˜¤ëŠ˜ ì£¼ì‹  ë§ì”€(QT)ì„ í´ì„¸ìš”. ë§ì”€ ë°–ì˜ ìŒì„±ì€ ìœ„í—˜í•©ë‹ˆë‹¤. ì„±ê²½ì„ í†µí•´ ë“¤ìœ¼ì„¸ìš”.</p>
                        <div style="background:#E3F2FD; padding:10px; border-radius:6px; margin-top:8px;">
                            <p style="font-size:12px; color:#1565C0; line-height:1.5;" data-ko='<strong>ğŸ™ ì‹¤ì²œ:</strong> ì˜¤ëŠ˜ì˜ ë³¸ë¬¸ì„ ì²œì²œíˆ 2ë²ˆ ì½ìŠµë‹ˆë‹¤. "ì´ ë§ì”€ì—ì„œ ë¬´ì—‡ì„ ë§ì”€í•˜ê³  ê³„ì‹­ë‹ˆê¹Œ?"ë¼ê³  ë¬»ê³ , ë§ˆìŒì— ê½‚íˆëŠ” í•œ êµ¬ì ˆì„ ì ìœ¼ì„¸ìš”. (5ë¶„)' data-en='<strong>ğŸ™ Practice:</strong> Read today's passage slowly twice. Ask "What are You saying through this Word?" Write down one verse that pierces your heart. (5 min)'>
                                <strong>ğŸ™ ì‹¤ì²œ:</strong> ì˜¤ëŠ˜ì˜ ë³¸ë¬¸ì„ ì²œì²œíˆ 2ë²ˆ ì½ìŠµë‹ˆë‹¤. 
                                "ì´ ë§ì”€ì—ì„œ ë¬´ì—‡ì„ ë§ì”€í•˜ê³  ê³„ì‹­ë‹ˆê¹Œ?"ë¼ê³  ë¬»ê³ , 
                                ë§ˆìŒì— ê½‚íˆëŠ” í•œ êµ¬ì ˆì„ ì ìœ¼ì„¸ìš”. (5ë¶„)
                            </p>
                        </div>
                    </div>
                </div>
                
                <div class="guide-step">
                    <div class="step-num">4</div>
                    <div class="step-content">
                        <h4 data-ko="ìš°ë¦¬ê°€ ìš°ë¦¬ì—ê²Œ ì£„ ì§€ì€ ìë¥¼..." data-en="Forgive Us Our Debts...">ìš°ë¦¬ê°€ ìš°ë¦¬ì—ê²Œ ì£„ ì§€ì€ ìë¥¼...</h4>
                        <p data-ko="ë§ˆìŒì— ê±¸ë¦¬ëŠ” ê´€ê³„ë‚˜ ì£„ê°€ ìˆë‚˜ìš”? ì„±ë ¹ë‹˜ê»˜ ë¬»ê³  íšŒê°œí•˜ë©° ë§ˆìŒì„ ì •ê²°ì¼€ í•˜ì„¸ìš”." data-en="Any relationships or sins weighing on you? Ask the Spirit, repent, and purify your heart.">ë§ˆìŒì— ê±¸ë¦¬ëŠ” ê´€ê³„ë‚˜ ì£„ê°€ ìˆë‚˜ìš”? ì„±ë ¹ë‹˜ê»˜ ë¬»ê³  íšŒê°œí•˜ë©° ë§ˆìŒì„ ì •ê²°ì¼€ í•˜ì„¸ìš”.</p>
                        <div style="background:#E3F2FD; padding:10px; border-radius:6px; margin-top:8px;">
                            <p style="font-size:12px; color:#1565C0; line-height:1.5;" data-ko='<strong>ğŸ™ ì‹¤ì²œ:</strong> "ì„±ë ¹ë‹˜, ì œ ë§ˆìŒì— íšŒê°œí•  ê²ƒì´ ìˆìŠµë‹ˆê¹Œ?" ë– ì˜¤ë¥´ëŠ” ì‚¬ëŒ, ìƒí™©ì´ ìˆìœ¼ë©´ êµ¬ì²´ì ìœ¼ë¡œ íšŒê°œí•©ë‹ˆë‹¤. ìš©ì„œí•´ì•¼ í•  ì‚¬ëŒì´ ìˆë‹¤ë©´ ì´ë¦„ì„ ë¶ˆëŸ¬ ìš©ì„œë¥¼ ì„ í¬í•˜ì„¸ìš”. (3ë¶„)' data-en='<strong>ğŸ™ Practice:</strong> Ask "Holy Spirit, is there anything I need to repent of?" If someone or situation comes to mind, repent specifically. Declare forgiveness by name if needed. (3 min)'>
                                <strong>ğŸ™ ì‹¤ì²œ:</strong> "ì„±ë ¹ë‹˜, ì œ ë§ˆìŒì— íšŒê°œí•  ê²ƒì´ ìˆìŠµë‹ˆê¹Œ?" 
                                ë– ì˜¤ë¥´ëŠ” ì‚¬ëŒ, ìƒí™©ì´ ìˆìœ¼ë©´ êµ¬ì²´ì ìœ¼ë¡œ íšŒê°œí•©ë‹ˆë‹¤. 
                                ìš©ì„œí•´ì•¼ í•  ì‚¬ëŒì´ ìˆë‹¤ë©´ ì´ë¦„ì„ ë¶ˆëŸ¬ ìš©ì„œë¥¼ ì„ í¬í•˜ì„¸ìš”. (3ë¶„)
                            </p>
                        </div>
                    </div>
                </div>

                <div class="guide-step">
                    <div class="step-num">5</div>
                    <div class="step-content">
                        <h4 data-ko="ë‚˜ë¼ì™€ ê¶Œì„¸ì™€ ì˜ê´‘ì´..." data-en="For Yours is the Kingdom...">ë‚˜ë¼ì™€ ê¶Œì„¸ì™€ ì˜ê´‘ì´...</h4>
                        <p data-ko="ë“¤ì€ ë§ì”€ì— ìˆœì¢…í•˜ê¸°ë¡œ ê²°ë‹¨í•˜ë©°, ì°¬ì–‘ìœ¼ë¡œ ê¸°ë„ë¥¼ ë§ˆì¹˜ì„¸ìš”." data-en="Decide to obey what you heard and close with praise.">ë“¤ì€ ë§ì”€ì— ìˆœì¢…í•˜ê¸°ë¡œ ê²°ë‹¨í•˜ë©°, ì°¬ì–‘ìœ¼ë¡œ ê¸°ë„ë¥¼ ë§ˆì¹˜ì„¸ìš”.</p>
                        <div style="background:#E3F2FD; padding:10px; border-radius:6px; margin-top:8px;">
                            <p style="font-size:12px; color:#1565C0; line-height:1.5;" data-ko='<strong>ğŸ™ ì‹¤ì²œ:</strong> ì˜¤ëŠ˜ ë“¤ì€ ê²ƒì„ í•œ ë¬¸ì¥ìœ¼ë¡œ ìš”ì•½í•˜ì„¸ìš”: "ì˜¤ëŠ˜ í•˜ë‚˜ë‹˜ì€ ______ë¥¼ ë§ì”€í•˜ì…¨ê³ , ë‚˜ëŠ” ______ë¥¼ ìˆœì¢…í•˜ê² ìŠµë‹ˆë‹¤." ê°ì‚¬ì™€ ì°¬ì–‘ìœ¼ë¡œ ë§ˆì¹©ë‹ˆë‹¤. (2ë¶„)' data-en='<strong>ğŸ™ Practice:</strong> Summarize what you heard: "Today God said ______, and I will obey by ______." Close with thanksgiving and praise. (2 min)'>
                                <strong>ğŸ™ ì‹¤ì²œ:</strong> ì˜¤ëŠ˜ ë“¤ì€ ê²ƒì„ í•œ ë¬¸ì¥ìœ¼ë¡œ ìš”ì•½í•˜ì„¸ìš”: 
                                "ì˜¤ëŠ˜ í•˜ë‚˜ë‹˜ì€ ______ë¥¼ ë§ì”€í•˜ì…¨ê³ , ë‚˜ëŠ” ______ë¥¼ ìˆœì¢…í•˜ê² ìŠµë‹ˆë‹¤." 
                                ê°ì‚¬ì™€ ì°¬ì–‘ìœ¼ë¡œ ë§ˆì¹©ë‹ˆë‹¤. (2ë¶„)
                            </p>
                        </div>
                    </div>
                </div>

                <div style="background: linear-gradient(135deg, var(--navy) 0%, #2F5597 100%); padding: 15px; border-radius: 8px; text-align: center; margin-top: 20px; color:white;">
                    <p style="font-size: 0.9rem; font-weight: bold; line-height: 1.6;" data-ko='"ë§ì”€(Logos)ìœ¼ë¡œ ê²€ì¦í•˜ê³ ,<br>ì„±ë ¹(Pneuma)ìœ¼ë¡œ ê°ë™ë°›ì•„,<br>ì‚¶ìœ¼ë¡œ ìˆœì¢…(Obey)í•©ë‹ˆë‹¤."' data-en='"Verify with the Word (Logos),<br>Be moved by the Spirit (Pneuma),<br>Obey with your life."'>
                        "ë§ì”€(Logos)ìœ¼ë¡œ ê²€ì¦í•˜ê³ ,<br>
                        ì„±ë ¹(Pneuma)ìœ¼ë¡œ ê°ë™ë°›ì•„,<br>
                        ì‚¶ìœ¼ë¡œ ìˆœì¢…(Obey)í•©ë‹ˆë‹¤."
                    </p>
                </div>
            </div>

            <div class="card">
                <h3 style="color:var(--navy); margin-bottom:15px;" id="guide-selfcheck-title" data-ko="ğŸ“– ìê°€ ì§„ë‹¨ (8ë¬¸í•­)" data-en="ğŸ“– Self-Assessment (8 Questions)">ğŸ“– ìê°€ ì§„ë‹¨ (8ë¬¸í•­)</h3>
                <p style="line-height:1.6; color:#666; margin-bottom:15px;" id="guide-selfcheck-desc" data-ko="ì§€ë‚œ ì£¼ì¼ ì˜ˆë°°ë¥¼ ë– ì˜¬ë¦¬ë©° ì†”ì§í•˜ê²Œ ì²´í¬í•´ë³´ì„¸ìš”. (ê° ë¬¸í•­ 1~5ì )" data-en="Reflect on last Sunday's worship and check honestly. (1-5 points each)">
                    ì§€ë‚œ ì£¼ì¼ ì˜ˆë°°ë¥¼ ë– ì˜¬ë¦¬ë©° ì†”ì§í•˜ê²Œ ì²´í¬í•´ë³´ì„¸ìš”. (ê° ë¬¸í•­ 1~5ì )
                </p>
                <div style="background:#f8f9fa; padding:15px; border-radius:8px;">
                    <!-- ë¬¸í•­ 1 -->
                    <div style="margin-bottom:20px;">
                        <div style="font-size:0.85rem; color:#333; margin-bottom:8px; font-weight:600;" 
                             id="guide-q1"
                             data-ko="1. ì˜ˆë°° 10ë¶„ ì „ì— ë„ì°©í•˜ì—¬ ê¸°ë„ë¡œ ë§ˆìŒ ë°­ì„ ê¸°ê²½í–ˆëŠ”ê°€?"
                             data-en="1. Arrived 10 min early and prepared heart with prayer?">
                            1. ì˜ˆë°° 10ë¶„ ì „ì— ë„ì°©í•˜ì—¬ ê¸°ë„ë¡œ ë§ˆìŒ ë°­ì„ ê¸°ê²½í–ˆëŠ”ê°€?
                        </div>
                        <div style="display:flex; gap:6px; justify-content:center;">
                            <button onclick="selectScore(0, 1)" id="q0-s1" class="score-btn">1</button>
                            <button onclick="selectScore(0, 2)" id="q0-s2" class="score-btn">2</button>
                            <button onclick="selectScore(0, 3)" id="q0-s3" class="score-btn">3</button>
                            <button onclick="selectScore(0, 4)" id="q0-s4" class="score-btn">4</button>
                            <button onclick="selectScore(0, 5)" id="q0-s5" class="score-btn">5</button>
                        </div>
                    </div>
                    <!-- ë¬¸í•­ 2 -->
                    <div style="margin-bottom:20px;">
                        <div style="font-size:0.85rem; color:#333; margin-bottom:8px; font-weight:600;" 
                             id="guide-q2"
                             data-ko="2. ì„¸ìƒì˜ ì—¼ë ¤ë¥¼ ëŠì–´ë‚´ê³  ë§ì”€ì„ ì‚¬ëª¨í•¨ìœ¼ë¡œ ì¤€ë¹„í–ˆëŠ”ê°€?"
                             data-en="2. Cut off worldly worries and longed for the Word?">
                            2. ì„¸ìƒì˜ ì—¼ë ¤ë¥¼ ëŠì–´ë‚´ê³  ë§ì”€ì„ ì‚¬ëª¨í•¨ìœ¼ë¡œ ì¤€ë¹„í–ˆëŠ”ê°€?
                        </div>
                        <div style="display:flex; gap:6px; justify-content:center;">
                            <button onclick="selectScore(1, 1)" id="q1-s1" class="score-btn">1</button>
                            <button onclick="selectScore(1, 2)" id="q1-s2" class="score-btn">2</button>
                            <button onclick="selectScore(1, 3)" id="q1-s3" class="score-btn">3</button>
                            <button onclick="selectScore(1, 4)" id="q1-s4" class="score-btn">4</button>
                            <button onclick="selectScore(1, 5)" id="q1-s5" class="score-btn">5</button>
                        </div>
                    </div>
                    <!-- ë¬¸í•­ 3 -->
                    <div style="margin-bottom:20px;">
                        <div style="font-size:0.85rem; color:#333; margin-bottom:8px; font-weight:600;" 
                             id="guide-q3"
                             data-ko="3. ì„¤êµ ì¤‘ ì§‘ì¤‘í–ˆëŠ”ê°€?"
                             data-en="3. Stayed focused during sermon?">
                            3. ì„¤êµ ì¤‘ ì§‘ì¤‘í–ˆëŠ”ê°€?
                        </div>
                        <div style="display:flex; gap:6px; justify-content:center;">
                            <button onclick="selectScore(2, 1)" id="q2-s1" class="score-btn">1</button>
                            <button onclick="selectScore(2, 2)" id="q2-s2" class="score-btn">2</button>
                            <button onclick="selectScore(2, 3)" id="q2-s3" class="score-btn">3</button>
                            <button onclick="selectScore(2, 4)" id="q2-s4" class="score-btn">4</button>
                            <button onclick="selectScore(2, 5)" id="q2-s5" class="score-btn">5</button>
                        </div>
                    </div>
                    <!-- ë¬¸í•­ 4 -->
                    <div style="margin-bottom:20px;">
                        <div style="font-size:0.85rem; color:#333; margin-bottom:8px; font-weight:600;" 
                             id="guide-q4"
                             data-ko="4. ë”´ìƒê°ì„ ì˜ì§€ì ìœ¼ë¡œ ëŠì–´ëƒˆëŠ”ê°€?"
                             data-en="4. Deliberately cut off wandering thoughts?">
                            4. ë”´ìƒê°ì„ ì˜ì§€ì ìœ¼ë¡œ ëŠì–´ëƒˆëŠ”ê°€?
                        </div>
                        <div style="display:flex; gap:6px; justify-content:center;">
                            <button onclick="selectScore(3, 1)" id="q3-s1" class="score-btn">1</button>
                            <button onclick="selectScore(3, 2)" id="q3-s2" class="score-btn">2</button>
                            <button onclick="selectScore(3, 3)" id="q3-s3" class="score-btn">3</button>
                            <button onclick="selectScore(3, 4)" id="q3-s4" class="score-btn">4</button>
                            <button onclick="selectScore(3, 5)" id="q3-s5" class="score-btn">5</button>
                        </div>
                    </div>
                    <!-- ë¬¸í•­ 5 -->
                    <div style="margin-bottom:20px;">
                        <div style="font-size:0.85rem; color:#333; margin-bottom:8px; font-weight:600;" 
                             id="guide-q5"
                             data-ko="5. ì±…ë§ì˜ ë§ì”€ë„ &quot;ì•„ë©˜&quot;ìœ¼ë¡œ ë°›ì•˜ëŠ”ê°€?"
                             data-en="5. Accepted even rebuking words with 'Amen'?">
                            5. ì±…ë§ì˜ ë§ì”€ë„ "ì•„ë©˜"ìœ¼ë¡œ ë°›ì•˜ëŠ”ê°€?
                        </div>
                        <div style="display:flex; gap:6px; justify-content:center;">
                            <button onclick="selectScore(4, 1)" id="q4-s1" class="score-btn">1</button>
                            <button onclick="selectScore(4, 2)" id="q4-s2" class="score-btn">2</button>
                            <button onclick="selectScore(4, 3)" id="q4-s3" class="score-btn">3</button>
                            <button onclick="selectScore(4, 4)" id="q4-s4" class="score-btn">4</button>
                            <button onclick="selectScore(4, 5)" id="q4-s5" class="score-btn">5</button>
                        </div>
                    </div>
                    <!-- ë¬¸í•­ 6 -->
                    <div style="margin-bottom:20px;">
                        <div style="font-size:0.85rem; color:#333; margin-bottom:8px; font-weight:600;" 
                             id="guide-q6"
                             data-ko="6. ë©”ì‹œì§€ì˜ ë³¸ì§ˆì— ê·€ ê¸°ìš¸ì˜€ëŠ”ê°€?"
                             data-en="6. Listened to essence of message?">
                            6. ë©”ì‹œì§€ì˜ ë³¸ì§ˆì— ê·€ ê¸°ìš¸ì˜€ëŠ”ê°€?
                        </div>
                        <div style="display:flex; gap:6px; justify-content:center;">
                            <button onclick="selectScore(5, 1)" id="q5-s1" class="score-btn">1</button>
                            <button onclick="selectScore(5, 2)" id="q5-s2" class="score-btn">2</button>
                            <button onclick="selectScore(5, 3)" id="q5-s3" class="score-btn">3</button>
                            <button onclick="selectScore(5, 4)" id="q5-s4" class="score-btn">4</button>
                            <button onclick="selectScore(5, 5)" id="q5-s5" class="score-btn">5</button>
                        </div>
                    </div>
                    <!-- ë¬¸í•­ 7 -->
                    <div style="margin-bottom:20px;">
                        <div style="font-size:0.85rem; color:#333; margin-bottom:8px; font-weight:600;" 
                             id="guide-q7"
                             data-ko="7. ì‹¤ì²œí•  í•œ ê°€ì§€ë¥¼ ì •í–ˆëŠ”ê°€?"
                             data-en="7. Decided one thing to practice?">
                            7. ì‹¤ì²œí•  í•œ ê°€ì§€ë¥¼ ì •í–ˆëŠ”ê°€?
                        </div>
                        <div style="display:flex; gap:6px; justify-content:center;">
                            <button onclick="selectScore(6, 1)" id="q6-s1" class="score-btn">1</button>
                            <button onclick="selectScore(6, 2)" id="q6-s2" class="score-btn">2</button>
                            <button onclick="selectScore(6, 3)" id="q6-s3" class="score-btn">3</button>
                            <button onclick="selectScore(6, 4)" id="q6-s4" class="score-btn">4</button>
                            <button onclick="selectScore(6, 5)" id="q6-s5" class="score-btn">5</button>
                        </div>
                    </div>
                    <!-- ë¬¸í•­ 8 -->
                    <div style="margin-bottom:20px;">
                        <div style="font-size:0.85rem; color:#333; margin-bottom:8px; font-weight:600;" 
                             id="guide-q8"
                             data-ko="8. ì£¼ì¤‘ì— ì‹¤ì œ ì‚¶ì—ì„œ ì ìš©í–ˆëŠ”ê°€?"
                             data-en="8. Applied it in actual life during the week?">
                            8. ì£¼ì¤‘ì— ì‹¤ì œ ì‚¶ì—ì„œ ì ìš©í–ˆëŠ”ê°€?
                        </div>
                        <div style="display:flex; gap:6px; justify-content:center;">
                            <button onclick="selectScore(7, 1)" id="q7-s1" class="score-btn">1</button>
                            <button onclick="selectScore(7, 2)" id="q7-s2" class="score-btn">2</button>
                            <button onclick="selectScore(7, 3)" id="q7-s3" class="score-btn">3</button>
                            <button onclick="selectScore(7, 4)" id="q7-s4" class="score-btn">4</button>
                            <button onclick="selectScore(7, 5)" id="q7-s5" class="score-btn">5</button>
                        </div>
                    </div>
                </div>
                <div style="margin-top:15px; padding:15px; background:#fff; border-radius:8px; border:2px solid var(--navy); text-align:center;">
                    <div style="font-size:1.5rem; font-weight:700; color:var(--navy); margin-bottom:8px;">
                        <span id="guide-total-score">ì´ì : 0ì </span>
                    </div>
                    <div style="font-size:0.9rem; color:#666; margin-bottom:10px;">
                        <span id="guide-score-result">ë¬¸í•­ì„ ì²´í¬í•´ë³´ì„¸ìš”</span>
                    </div>
                    <button onclick="resetSelfCheck()" style="
                        padding:8px 20px;
                        background:#667eea;
                        color:white;
                        border:none;
                        border-radius:6px;
                        cursor:pointer;
                        font-size:0.85rem;
                    " id="guide-reset-btn">ë‹¤ì‹œ ì²´í¬</button>
                </div>
                <div style="margin-top:15px; padding:12px; background:linear-gradient(to right, #667eea, #764ba2); color:white; border-radius:8px; text-align:center;" id="guide-selfcheck-scoring">
                    <strong>35-40ì :</strong> ì˜¥í†  | <strong>25-34ì :</strong> ì„±ì¥ ì¤‘ | <strong>24ì  ì´í•˜:</strong> í›ˆë ¨ í•„ìš”
                </div>
            </div>

            <div class="app-footer">
                Created by Pastor Kim & GMC Seattle<br>
                Genesis 1314 - Expanding the Kingdom, One Home at a Time
            </div>
        </div>

        <!-- íƒ­ 5: í†µì—­ -->
        <div id="tab-interpreter" class="tab-content">
            <div class="card">
                <h2 style="color:var(--navy); margin-bottom:15px; text-align:center;" 
                    id="interpreter-title"
                    data-ko="ğŸ¤ ì„¤êµ í†µì—­ê¸°"
                    data-en="ğŸ¤ Sermon Interpreter">
                    ğŸ¤ ì„¤êµ í†µì—­ê¸°
                </h2>
                <p style="text-align:center; color:#666; margin-bottom:20px; line-height:1.6;"
                   id="interpreter-desc"
                   data-ko="ì‹¤ì‹œê°„ìœ¼ë¡œ ì„¤êµë¥¼ í†µì—­í•©ë‹ˆë‹¤"
                   data-en="Real-time sermon interpretation">
                    ì‹¤ì‹œê°„ìœ¼ë¡œ ì„¤êµë¥¼ í†µì—­í•©ë‹ˆë‹¤
                </p>
                
                <div style="position:relative; width:100%; height:70vh; min-height:500px; border-radius:12px; overflow:hidden; box-shadow:0 4px 6px rgba(0,0,0,0.1);">
                    <iframe 
                        src="https://main.sermon-translator-frontend.pages.dev/"
                        style="width:100%; height:100%; border:none;"
                        allow="microphone; camera"
                        title="Sermon Interpreter">
                    </iframe>
                </div>
                
                <div style="margin-top:15px; padding:12px; background:#f0f9ff; border-radius:8px; font-size:0.85rem; color:#0369a1;">
                    <strong id="interpreter-tip-title"
                            data-ko="ğŸ’¡ ì‚¬ìš© ì•ˆë‚´:"
                            data-en="ğŸ’¡ Usage Guide:">ğŸ’¡ ì‚¬ìš© ì•ˆë‚´:</strong>
                    <ul style="margin:8px 0 0 20px; line-height:1.8;">
                        <li id="interpreter-tip1"
                            data-ko="ë§ˆì´í¬ ê¶Œí•œì„ í—ˆìš©í•´ì£¼ì„¸ìš”"
                            data-en="Please allow microphone permission">ë§ˆì´í¬ ê¶Œí•œì„ í—ˆìš©í•´ì£¼ì„¸ìš”</li>
                        <li id="interpreter-tip2"
                            data-ko="ì„¤êµ ì‹œì‘ ì „ì— ë¯¸ë¦¬ ì ‘ì†í•˜ì„¸ìš”"
                            data-en="Connect before the sermon starts">ì„¤êµ ì‹œì‘ ì „ì— ë¯¸ë¦¬ ì ‘ì†í•˜ì„¸ìš”</li>
                        <li id="interpreter-tip3"
                            data-ko="ì•ˆì •ì ì¸ ì¸í„°ë„· ì—°ê²°ì´ í•„ìš”í•©ë‹ˆë‹¤"
                            data-en="Stable internet connection required">ì•ˆì •ì ì¸ ì¸í„°ë„· ì—°ê²°ì´ í•„ìš”í•©ë‹ˆë‹¤</li>
                    </ul>
                </div>
            </div>
            
            <div class="app-footer">
                Created by Pastor Kim & GMC Seattle<br>
                Genesis 1314 - Expanding the Kingdom, One Home at a Time
            </div>
        </div>

    </div>

    <!-- í•˜ë‹¨ ë„¤ë¹„ê²Œì´ì…˜ -->
    <nav class="bottom-nav">
        <div class="nav-item active" onclick="switchTab('journal', this)">
            <div class="nav-icon">ğŸ“–</div>
            <span>ì¼ì§€</span>
        </div>
        <div class="nav-item" onclick="switchTab('mokjang', this)">
            <div class="nav-icon">ğŸ‘¥</div>
            <span>ëª©ì¥</span>
        </div>
        <div class="nav-item" onclick="switchTab('guide', this)">
            <div class="nav-icon">ğŸ“š</div>
            <span>ê°€ì´ë“œ</span>
        </div>
        <div class="nav-item" onclick="switchTab('challenge', this)">
            <div class="nav-icon">ğŸ¯</div>
            <span>21ì¼</span>
        </div>
        <div class="nav-item" onclick="switchTab('interpreter', this)">
            <div class="nav-icon">ğŸ¤</div>
            <span id="nav-interpreter">í†µì—­</span>
        </div>
    </nav>

    <!-- íˆìŠ¤í† ë¦¬ ëª¨ë‹¬ -->
    <div id="historyModal" class="modal-wrap">
        <div class="modal-box">
            <div class="close-btn" onclick="closeHistory()">&times;</div>
            <h3 style="color:var(--navy); margin-bottom:15px;" id="modal-history-title">ì§€ë‚œ ê¸°ë¡ ë³´ê´€ì†Œ</h3>
            <div id="historyList"></div>
        </div>
    </div>

    <!-- ì¼ì§€ ìƒì„¸ë³´ê¸° ëª¨ë‹¬ -->
    <div id="viewModal" class="modal-wrap">
        <div class="modal-box">
            <div class="close-btn" onclick="closeAllModals()">&times;</div>
            <h3 style="color:var(--navy); margin-bottom:5px;" id="v-date">Date</h3>
            <h4 style="color:#666; margin-bottom:8px; font-size:0.95rem;" id="v-sermon-title"></h4>
            <h2 style="font-family:'Noto Serif KR'; margin-bottom:20px;" id="v-ref">Ref</h2>
            <span class="view-label" id="v-lbl1">ğŸ“– ë§ì”€ ë¬µìƒ</span>
            <div class="view-content" id="v-text"></div>
            <span class="view-label" id="v-lbl2">ğŸ‘‚ í•˜ë‚˜ë‹˜ì´ ì£¼ì‹  ë§ˆìŒ</span>
            <div class="view-content" id="v-rhema"></div>
            <span class="view-label" id="v-lbl3">ğŸ‘£ ìˆœì¢…í•  í–‰ë™</span>
            <div class="view-content" id="v-action"></div>
            <span class="view-label" id="v-lbl4">ğŸ™ ê°ì‚¬ ê¸°ë„</span>
            <div class="view-content" id="v-thanks"></div>
            <div class="view-actions">
                <button class="btn-action" style="background:#f1f3f5; color:#ff6b6b;" onclick="deleteCurrentLog()" id="v-btn-del">ì‚­ì œ</button>
                <button class="btn-action" style="background:#f1f3f5; color:#666;" onclick="closeAllModals()" id="v-btn-close">ë‹«ê¸°</button>
                <button class="btn-action" style="background:var(--navy); color:white;" onclick="editCurrentLog()" id="v-btn-edit">ìˆ˜ì •í•˜ê¸°</button>
            </div>
        </div>
    </div>

    <!-- í”„ë¡œí•„ ì„¤ì • ëª¨ë‹¬ -->
    <div id="settingModal" class="modal-wrap">
        <div class="modal-box" style="text-align:center;">
            <div class="close-btn" onclick="closeSettings()">&times;</div>
            <h3 style="margin-bottom:10px; color:var(--navy);" id="setting-modal-title">í”„ë¡œí•„ ì„¤ì •</h3>
            
            <p style="font-size:0.9rem; color:var(--gold); font-weight:700; margin-bottom:15px; line-height:1.5;" id="setting-modal-msg">
                "ëª¨ë“  ê·¸ë¦¬ìŠ¤ë„ì¸ì€ ì‚¬ì—­ììš”, ì„ êµì‚¬ì…ë‹ˆë‹¤."
            </p>
            
            <input type="text" id="setName" placeholder="ì´ë¦„ (ì˜ˆ: ê¹€ì°¬ì–‘)" style="margin-bottom:15px; text-align:center;">
            
            <div class="journey-model">
                <div class="journey-title">ê°€ì •êµíšŒ 4ë‹¨ê³„ ì˜ì  ì—¬ì •</div>
                <div class="journey-stages" id="journeyStages">
                    <div class="stage-item" data-stage="seeker">
                        <div class="stage-num">â‘ </div>
                        <div class="stage-label">ìˆœë¡€ì<br>(VIP)</div>
                    </div>
                    <div class="stage-item" data-stage="believer">
                        <div class="stage-num">â‘¡</div>
                        <div class="stage-label">ì‹ ì</div>
                    </div>
                    <div class="stage-item" data-stage="disciple">
                        <div class="stage-num">â‘¢</div>
                        <div class="stage-label">ì œì</div>
                    </div>
                    <div class="stage-item" data-stage="shepherd">
                        <div class="stage-num">â‘£</div>
                        <div class="stage-label">ëª©ì</div>
                    </div>
                </div>
            </div>
            
            <select id="setJourney" style="width:100%; margin-bottom:10px; text-align:center; padding:12px; border-radius:10px; border:1px solid #e0e0e0; background:#fafafa; font-size:1rem; outline:none;" onchange="onJourneyChange()">
                <option value="seeker">â‘  ìˆœë¡€ì (VIP) - í•˜ë‚˜ë‹˜ì„ ì°¾ê³  ìˆëŠ” ì‚¬ëŒ</option>
                <option value="believer">â‘¡ ì‹ ì - ë³µìŒì„ ë°›ì•„ë“¤ì¸ ì‚¬ëŒ</option>
                <option value="disciple">â‘¢ ì œì - ì˜ˆìˆ˜ë‹˜ì˜ ê°€ë¥´ì¹¨ì„ ë°°ìš°ê³  ë”°ë¥´ëŠ” ì‚¬ëŒ</option>
                <option value="shepherd">â‘£ ëª©ì - ë‹¤ë¥¸ ì‚¬ëŒì„ ëŒë³´ê³  ì œìë¥¼ ì„¸ìš°ëŠ” ì‚¬ëŒ</option>
            </select>
            
            <div id="shepherdDetail" class="shepherd-detail">
                <select id="setShepherdType" style="width:100%; margin-bottom:10px; text-align:center; padding:12px; border-radius:10px; border:1px solid var(--gold); background:#FFF9E6; font-size:1rem; outline:none;">
                    <option value="shepherd">ëª©ì (Shepherd)</option>
                    <option value="moknye">ëª©ë…€ (ëª©ìì˜ ì•„ë‚´)</option>
                    <option value="mokbu">ëª©ë¶€ (ëª©ìì˜ ë‚¨í¸)</option>
                </select>
            </div>
            
            <input type="text" id="setMokjang" placeholder="ëª©ì¥ ì´ë¦„ (ì˜ˆ: íŒŒë¦¬ ëª©ì¥)" style="margin-bottom:15px; text-align:center;">
            
            <button class="btn" onclick="saveSettings()">ì €ì¥í•˜ê¸°</button>
        </div>
    </div>

    <!-- ëª©ì¥ ì„¤ì • ëª¨ë‹¬ -->
    <div id="mokjangSetupModal" class="modal-wrap">
        <div class="modal-box">
            <div class="close-btn" onclick="closeMokjangSetup()">&times;</div>
            <h3 style="color:var(--navy); margin-bottom:10px;" id="mokjang-setup-title" data-ko="ëª©ì¥ ì„¤ì •" data-en="Group Setup">ëª©ì¥ ì„¤ì •</h3>
            <p style="font-size:0.9rem; color:#666; margin-bottom:15px; line-height:1.5;" id="mokjang-setup-desc" data-ko="ëª©ì¥ ì½”ë“œë¥¼ ì…ë ¥í•˜ë©´ ëª©ì¥ ì‹êµ¬ë“¤ê³¼ í•¨ê»˜ ì§„í–‰ ìƒí™©ì„ ê³µìœ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤." data-en="Enter your group code to share progress with your group members.">
                ëª©ì¥ ì½”ë“œë¥¼ ì…ë ¥í•˜ë©´ ëª©ì¥ ì‹êµ¬ë“¤ê³¼ í•¨ê»˜ ì§„í–‰ ìƒí™©ì„ ê³µìœ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
            </p>
            <input type="text" id="inputMokjangCode" placeholder="ì˜ˆ: 1MOKJANG" style="text-transform:uppercase; margin-bottom:10px;">
            <p style="font-size:0.75rem; color:#999; margin-bottom:15px;" id="mokjang-setup-help" data-ko="* ëª©ìë‹˜ê»˜ ëª©ì¥ ì½”ë“œë¥¼ ë¬¸ì˜í•˜ì„¸ìš”" data-en="* Ask your shepherd for the group code">
                * ëª©ìë‹˜ê»˜ ëª©ì¥ ì½”ë“œë¥¼ ë¬¸ì˜í•˜ì„¸ìš”
            </p>
            <button class="btn" onclick="joinMokjang()" id="mokjang-join-btn" data-ko="ì°¸ì—¬í•˜ê¸°" data-en="Join">ì°¸ì—¬í•˜ê¸°</button>
        </div>
    </div>

    <!-- ìƒˆ ë©¤ë²„ ë“±ë¡ ëª¨ë‹¬ -->
    <div id="memberRegisterModal" class="modal-wrap">
        <div class="modal-box">
            <div class="close-btn" onclick="closeMemberRegister()">&times;</div>
            <h3 style="color:var(--navy); margin-bottom:10px;" data-ko="ğŸ™‹ ëª©ì¥ì‹êµ¬ ë“±ë¡" data-en="ğŸ™‹ Register as Member">ğŸ™‹ ëª©ì¥ì‹êµ¬ ë“±ë¡</h3>
            <p style="font-size:0.9rem; color:#666; margin-bottom:15px; line-height:1.5;" data-ko="ì²˜ìŒì´ì‹œë¼ë©´ ë“±ë¡í•´ ì£¼ì„¸ìš”!<br>ëª©ì¥ì½”ë“œëŠ” ëª©ìë‹˜ê»˜ ë¬¸ì˜í•˜ì„¸ìš”." data-en="New here? Please register!<br>Ask your shepherd for the group code.">
                ì²˜ìŒì´ì‹œë¼ë©´ ë“±ë¡í•´ ì£¼ì„¸ìš”!<br>ëª©ì¥ì½”ë“œëŠ” ëª©ìë‹˜ê»˜ ë¬¸ì˜í•˜ì„¸ìš”.
            </p>
            <input type="text" id="registerName" placeholder="ì´ë¦„" style="margin-bottom:10px;">
            <input type="text" id="registerMokjangName" placeholder="ëª©ì¥ ì´ë¦„ (ì˜ˆ: ì´ìŠ¤ë¼ì—˜)" style="margin-bottom:10px;">
            <input type="text" id="registerMokjangCode" placeholder="ëª©ì¥ì½”ë“œ (ì˜ˆ: ISRAEL)" style="text-transform:uppercase; margin-bottom:10px;">
            <select id="registerRole" style="width:100%; padding:12px; border:1px solid #ddd; border-radius:8px; margin-bottom:15px; font-size:1rem;">
                <option value="ëª©ì›" data-ko="ëª©ì›" data-en="Member">ëª©ì›</option>
                <option value="ëª©ì" data-ko="ëª©ì" data-en="Shepherd">ëª©ì</option>
                <option value="ëª©ë…€" data-ko="ëª©ë…€" data-en="Shepherdess">ëª©ë…€</option>
                <option value="ëª©ë¶€" data-ko="ëª©ë¶€" data-en="Assistant">ëª©ë¶€</option>
                <option value="ì „ë„ì‚¬" data-ko="ì „ë„ì‚¬" data-en="Evangelist">ì „ë„ì‚¬</option>
                <option value="ëª©ì‚¬" data-ko="ëª©ì‚¬" data-en="Pastor">ëª©ì‚¬</option>
            </select>
            <button class="btn" onclick="registerMember()" style="width:100%;" data-ko="ë“±ë¡í•˜ê¸°" data-en="Register">ë“±ë¡í•˜ê¸°</button>
            <p style="font-size:0.75rem; color:#999; margin-top:10px; text-align:center;" data-ko="ë“±ë¡ í›„ ë°”ë¡œ ëª©ì¥ì— ì°¸ì—¬ë©ë‹ˆë‹¤" data-en="You'll join the group right after registration">
                ë“±ë¡ í›„ ë°”ë¡œ ëª©ì¥ì— ì°¸ì—¬ë©ë‹ˆë‹¤
            </p>
        </div>
    </div>

    <!-- ëª©ì¥ ì •ë³´ ìˆ˜ì • ëª¨ë‹¬ -->
    <div id="editMokjangModal" class="modal-wrap">
        <div class="modal-content" style="max-width:340px;">
            <span class="modal-close" onclick="closeEditMokjangModal()">&times;</span>
            <h3 style="color:var(--navy); margin-bottom:10px;" data-ko="âœï¸ ë‚´ ì •ë³´ ìˆ˜ì •" data-en="âœï¸ Edit My Info">âœï¸ ë‚´ ì •ë³´ ìˆ˜ì •</h3>
            <p style="font-size:0.85rem; color:#666; margin-bottom:15px; line-height:1.5;" data-ko="ì´ë¦„ê³¼ ì—­í• ì„ ìˆ˜ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤." data-en="You can edit your name and role.">ì´ë¦„ê³¼ ì—­í• ì„ ìˆ˜ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
            <input type="text" id="editMemberName" placeholder="ì´ë¦„" style="margin-bottom:10px;">
            <select id="editMemberRole" style="margin-bottom:15px; padding:12px; border:1px solid #ddd; border-radius:8px; width:100%; font-size:14px;">
                <option value="ëª©ì›" data-ko="ëª©ì›" data-en="Member">ëª©ì›</option>
                <option value="ëª©ì" data-ko="ëª©ì" data-en="Shepherd">ëª©ì</option>
                <option value="ëª©ë…€" data-ko="ëª©ë…€" data-en="Shepherdess">ëª©ë…€</option>
                <option value="ëª©ì‚¬" data-ko="ëª©ì‚¬" data-en="Pastor">ëª©ì‚¬</option>
            </select>
            <button class="btn" onclick="saveEditMokjang()" style="width:100%;" data-ko="ì €ì¥í•˜ê¸°" data-en="Save">ì €ì¥í•˜ê¸°</button>
        </div>
    </div>

    <!-- í† ìŠ¤íŠ¸ -->
    <div id="toast"></div>

    <script>
        // Firebase ì„¤ì • (ì‹¤ì œ ì‚¬ìš©ì‹œ ì •ë³´ ì…ë ¥)
        // const firebaseConfig = { ... };
        // firebase.initializeApp(firebaseConfig);
        // const database = firebase.database();

        // ë¡œì»¬ìŠ¤í† ë¦¬ì§€ í‚¤
        const DB_KEY = 'galtar_1314_v14_journal';
        const CHALLENGE_KEY = 'galtar_1314_challenge_v1';
        const CHALLENGE_STARTED_KEY = 'galtar_1314_challenge_started';
        const CHIME_ENABLED_KEY = 'galtar_1314_chime_enabled';
        
        let curLang = 'ko';
        let editId = null, viewId = null;
        let timerInterval, timeLeft = 15 * 60, isTimerRunning = false;
        let chimeEnabled = true; // ê¸°ë³¸ê°’: ì°¨ì„ë²¨ ì¼œì§
        let audioCtx = null; // ì „ì—­ ì˜¤ë””ì˜¤ ì»¨í…ìŠ¤íŠ¸ (ëª¨ë°”ì¼ ëŒ€ì‘)

        // ë‹¤êµ­ì–´
        const lang = {
            ko: {
                church: "ì‹œì• í‹€ì§€êµ¬ì´ŒêµíšŒ",
                bible_ref: "ì°½ì„¸ê¸° 13:14",
                subtitle: "í•˜ë‚˜ë‹˜ê³¼ ì—°í•©í•˜ëŠ” ë‚˜ì˜ ì œë‹¨",
                
                // ì˜ì  ì—¬ì •
                journey_seeker: "ìˆœë¡€ì (VIP)", 
                journey_believer: "ì‹ ì", 
                journey_disciple: "ì œì", 
                journey_shepherd: "ëª©ì",
                journey_moknye: "ëª©ë…€",
                journey_mokbu: "ëª©ë¶€",
                
                desc_seeker: "í•˜ë‚˜ë‹˜ì„ ì°¾ê³  ìˆëŠ” ì‚¬ëŒ",
                desc_believer: "ë³µìŒì„ ë°›ì•„ë“¤ì¸ ì‚¬ëŒ",
                desc_disciple: "ì˜ˆìˆ˜ë‹˜ì˜ ê°€ë¥´ì¹¨ì„ ë°°ìš°ê³  ë”°ë¥´ëŠ” ì‚¬ëŒ",
                desc_shepherd: "ë‹¤ë¥¸ ì‚¬ëŒì„ ëŒë³´ê³  ì œìë¥¼ ì„¸ìš°ëŠ” ì‚¬ëŒ",
                
                stage1: "ìˆœë¡€ì<br>(VIP)", stage2: "ì‹ ì", stage3: "ì œì", stage4: "ëª©ì",
                
                // ë£¨í‹´ ë°°ë„ˆ
                r1: "ë§ì”€ ë¬µìƒ", time1: "10ë¶„", 
                r2: "ì¹¨ë¬µ ê¸°ë„", time2: "15ë¶„", 
                r3: "ê²½ì²­ ë…¸íŠ¸", time3: "5ë¶„",
                verse: "\"ë“¤ì„ ê·€ ìˆëŠ” ìëŠ” ë“¤ìœ¼ë¼!\" (ë§‰ 4:9)",
                
                // íƒ­ ë„¤ë¹„ê²Œì´ì…˜
                tab_journal: "ì¼ì§€",
                tab_challenge: "21ì¼",
                tab_mokjang: "ëª©ì¥",
                tab_guide: "ê°€ì´ë“œ",
                tab_interpreter: "í†µì—­",
                
                // ì¼ì§€ íƒ­
                card1: "ë§ì”€ ë¬µìƒ (10ë¶„)",
                ph_sermon_title: "ì„¤êµ ì œëª©",
                ph_ref: "ì˜¤ëŠ˜ì˜ ë³¸ë¬¸",
                ph_text: "ë¬µìƒí•œ ë§ì”€ì„ ê¸°ë¡í•˜ì„¸ìš”",
                card2: "ì¹¨ë¬µ ê¸°ë„ (15ë¶„)",
                btn_start: "íƒ€ì´ë¨¸ ì‹œì‘",
                btn_pause: "ì¼ì‹œì •ì§€",
                btn_resume: "ê³„ì†í•˜ê¸°",
                msg_timer: "ë‚´ ìƒê°ì˜ ì†Œë¦¬ë¥¼ ë„˜ê³  í•˜ë‚˜ë‹˜ì˜ ìŒì„±ì„ ë“£ìŠµë‹ˆë‹¤",
                chime_info: "ğŸ”” ì°¨ì„ë²¨: 5ë¶„(ë‚®ì€ ìŒ), 10ë¶„(ì¤‘ê°„ ìŒ 2ë²ˆ), 15ë¶„(ë†’ì€ ìŒ)",
                chime_on: "ON",
                chime_off: "OFF",
                card3: "ê²½ì²­ ë…¸íŠ¸ (5ë¶„)",
                l1: "1. í•˜ë‚˜ë‹˜ì´ ì£¼ì‹  ë§ˆìŒ",
                ph_rhema: "ì£¼ë‹˜ì´ ë‚´ê²Œ ì£¼ì‹  ê¹¨ë‹¬ìŒ",
                l2: "2. ìˆœì¢…í•  í–‰ë™",
                ph_action: "ì´ë²ˆ ì£¼ ì‹¤ì²œí•  êµ¬ì²´ì  í–‰ë™",
                l3: "3. ê°ì‚¬ ê¸°ë„",
                ph_thanks: "ì£¼ë‹˜ê»˜ ë“œë¦¬ëŠ” ê°ì‚¬",
                btn_save: "ì™„ë£Œ",
                btn_update: "ìˆ˜ì • ì™„ë£Œ",
                btn_hist: "ê¸°ë¡ ë³´ê¸°",
                
                // 21ì¼ ì±Œë¦°ì§€
                challenge_title: "21ì¼ ê²½ì²­ í›ˆë ¨",
                challenge_start_title: "21ì¼ ê²½ì²­ í›ˆë ¨",
                challenge_start_desc: "í•˜ë‚˜ë‹˜ì˜ ìŒì„±ì´ ë“¤ë¦¬ëŠ” ê·€ë¥¼ íšŒë³µí•˜ëŠ”<br>ì˜ì  í›ˆë ¨ì— ì°¸ì—¬í•˜ì‹œê² ìŠµë‹ˆê¹Œ?",
                challenge_start_btn: "ğŸ¯ 21ì¼ ì±Œë¦°ì§€ ì‹œì‘í•˜ê¸°",
                challenge_progress: "ì¼ ì™„ë£Œ / 21ì¼",
                challenge_share: "ğŸ“¢ ì¹´ì¹´ì˜¤í†¡ìœ¼ë¡œ ì§„í–‰ ìƒí™© ê³µìœ í•˜ê¸°",
                challenge_reset: "ğŸ”„ ì±Œë¦°ì§€ ë‹¤ì‹œ ì‹œì‘í•˜ê¸°",
                
                // 21ì¼ êµ¬ì„±
                week1_title: "1ì£¼ì°¨: ê·€ì˜ í• ë¡€ (ì„¸ìƒì˜ ì†ŒìŒ ì¤„ì´ê¸°)",
                week2_title: "2ì£¼ì°¨: ê±°ë£©í•œ ê³µëª… (ë§ì”€ê³¼ ìƒí˜¸ì‘ìš©)",
                week3_title: "3ì£¼ì°¨: ë§ì”€ì˜ ì„±ìœ¡ì‹  (ì‚¶ìœ¼ë¡œ ì‹¤ì²œí•˜ê¸°)",
                
                challenge_structure: "ğŸ“š 21ì¼ êµ¬ì„±",
                week1_desc: "ê·€ì˜ í• ë¡€ (ì„¸ìƒ ì†ŒìŒ ì¤„ì´ê¸°)",
                week2_desc: "ê±°ë£©í•œ ê³µëª… (ë§ì”€ê³¼ ìƒí˜¸ì‘ìš©)",
                week3_desc: "ë§ì”€ì˜ ì„±ìœ¡ì‹  (ì‚¶ìœ¼ë¡œ ì‹¤ì²œ)",
                
                // Day ì œëª© (1-7)
                day1: "[ì‹œê°„ ì •ë³µ] í† ìš”ì¼ ë°¤ 10ì‹œ ì´í›„ ë¯¸ë””ì–´ ë„ê¸°",
                day2: "[ê³µê°„ ì •ë³µ] ì§‘ì¤‘ ì˜ ë˜ëŠ” ìë¦¬ ì„ íƒí•˜ê¸°",
                day3: "[ë§ˆìŒ ì •ë³µ] ì˜ˆë°° ì „ 5ë¶„ ê¸°ë„ 10ë²ˆ ê³ ë°±",
                day4: "[ë¹„íŒ ê¸ˆì‹] ì„¤êµì í‰ê°€í•˜ì§€ ì•Šê¸°",
                day5: "[ë¯¸ë””ì–´ ê¸ˆì‹] ì˜ˆë°° ê°€ëŠ” ê¸¸ ì°¬ì–‘ ë“£ê¸°",
                day6: "[ê¸°ë„ ì‹¬ê¸°] ëª©ì‚¬ë‹˜ ì¤‘ë³´ê¸°ë„ 3ë¶„",
                day7: "[ì°¸íšŒí•˜ê¸°] ì§€ë‚œì£¼ ë¶ˆìˆœì¢… íšŒê°œí•˜ê¸°",
                
                // Day ì œëª© (8-14)
                day8: "[ì•„ì´ì»¨íƒ] ì„¤êµìì™€ ëˆˆ ë§ì¶”ë©° ê³ ê°œ ë„ë•ì´ê¸°",
                day9: "[ë ˆë§ˆ ê¸°ë¡] í•µì‹¬ ë¬¸ì¥ í•˜ë‚˜ë§Œ êµµê²Œ ì ê¸°",
                day10: "[ì•„ë©˜ í›ˆë ¨] ì‘ì€ ì†Œë¦¬ë¡œë¼ë„ \"ì•„ë©˜\" í™”ë‹µí•˜ê¸°",
                day11: "[ì˜ì  ì¤‘ë³´] ì„¤êµì ìœ„í•´ ì¤‘ë³´ê¸°ë„í•˜ê¸°",
                day12: "[ì¹¨ë¬µ ë¬µìƒ] ì¶•ë„ í›„ 3ë¶„ê°„ ë§ì”€ ë˜ìƒˆê¸°ê¸°",
                day13: "[ì„±ê²½ í™•ì¸] ì£¼ì¼ ë³¸ë¬¸ ì§‘ì—ì„œ ì†Œë¦¬ë‚´ì–´ ì½ê¸°",
                day14: "[ê°ì‚¬ í‘œí˜„] ë§ì”€ì— ëŒ€í•´ ê°ì‚¬ê¸°ë„ ë“œë¦¬ê¸°",
                
                // Day ì œëª© (15-21)
                day15: "[í•œ ì¤„ ìš”ì•½] ë§ì”€ì„ í•œ ë¬¸ì¥ìœ¼ë¡œ ìš”ì•½í•˜ê¸°",
                day16: "[ì…ìˆ  ì „íŒŒ] ê°€ì¡±/ëª©ì¥ì— ì€í˜œ ë‚˜ëˆ„ê¸°",
                day17: "[ì†í•´ ê°ìˆ˜] ìˆœì¢… ìœ„í•´ êµ¬ì²´ì  ì†í•´ ê°ìˆ˜í•˜ê¸°",
                day18: "[ìˆœì¢… ì ê²€] ê²°ë‹¨ ë‚´ìš© ì§€ì¼°ëŠ”ì§€ ì²´í¬í•˜ê¸°",
                day19: "[ê²©ë ¤í•˜ê¸°] ëª©ì‚¬ë‹˜ê»˜ ìˆœì¢… ê°„ì¦ í¸ì§€ ë³´ë‚´ê¸°",
                day20: "[ë‚˜ëˆ”ì˜ ë°¤] í›ˆë ¨ ì¤‘ ëŠë‚€ ë³€í™” ë‚˜ëˆ„ê¸°",
                day21: "[ì„œì•½ì‹] í‰ìƒ ê²½ì²­í•˜ëŠ” ì˜ˆë°°ì ë˜ê¸° ì„œì•½",
                
                // ëª©ì¥
                mokjang_setup_title: "ğŸ‘¥ ëª©ì¥ ì„¤ì •ì´ í•„ìš”í•©ë‹ˆë‹¤",
                mokjang_setup_desc: "ëª©ì¥ ì‹êµ¬ë“¤ê³¼ í•¨ê»˜ 21ì¼ì„ ì™„ì£¼í•˜ì„¸ìš”!",
                mokjang_setup_btn: "ëª©ì¥ ì„¤ì •í•˜ê¸°",
                mokjang_what_title: "ğŸ’¡ ëª©ì¥ ê¸°ëŠ¥ì´ë€?",
                mokjang_what_desc: "ëª©ì¥ ì½”ë“œë¥¼ ì…ë ¥í•˜ë©´ ëª©ì¥ ì‹êµ¬ë“¤ì˜ 21ì¼ ì±Œë¦°ì§€ ì§„í–‰ ìƒí™©(ì™„ë£Œ ì—¬ë¶€)ì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê°œì¸ ì¼ì§€ ë‚´ìš©ì€ ì™„ì „íˆ ë¹„ê³µê°œì´ë©°, ì˜¤ì§ ì™„ë£Œ ì—¬ë¶€(O/X)ë§Œ ê³µìœ ë©ë‹ˆë‹¤.",
                mokjang_completed: "ëª… ì˜¤ëŠ˜ ì™„ë£Œ",
                mokjang_encourage_title: "ğŸ’¬ ê²©ë ¤ ë©”ì‹œì§€",
                mokjang_encourage_msg: "í•¨ê»˜ ë‹¬ë ¤ê°€ëŠ” ìš°ë¦¬ ëª©ì¥ ì‹êµ¬ë“¤ì„ ìœ„í•´ ê¸°ë„í•©ë‹ˆë‹¤ ğŸ™",
                mokjang_leave: "ëª©ì¥ ë‚˜ê°€ê¸°",
                mokjang_modal_title: "ëª©ì¥ ì„¤ì •",
                mokjang_modal_desc: "ëª©ì¥ ì½”ë“œë¥¼ ì…ë ¥í•˜ë©´ ëª©ì¥ ì‹êµ¬ë“¤ê³¼ í•¨ê»˜ ì§„í–‰ ìƒí™©ì„ ê³µìœ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.",
                mokjang_code_ph: "ì˜ˆ: 1MOKJANG",
                mokjang_code_help: "* ëª©ìë‹˜ê»˜ ëª©ì¥ ì½”ë“œë¥¼ ë¬¸ì˜í•˜ì„¸ìš”",
                mokjang_join: "ì°¸ì—¬í•˜ê¸°",
                
                // ê°€ì´ë“œ
                guide_title: "ğŸ“š ê²½ì²­ ê°€ì´ë“œ",
                guide_why_title: "ğŸ’¡ ì™œ 'ë“£ëŠ” ê¸°ë„'ì¸ê°€ìš”?",
                guide_why_desc: "ê²½ì²­ê¸°ë„ëŠ” ì‹ ë¹„ì£¼ì˜ê°€ ì•„ë‹™ë‹ˆë‹¤.<br><strong>\"ë‚´ ì–‘ì€ ë‚´ ìŒì„±ì„ ë“¤ìœ¼ë©°\"</strong> (ìš” 10:27) í•˜ì‹  ì˜ˆìˆ˜ë‹˜ì˜ ë§ì”€ì²˜ëŸ¼, ëª©ìì´ì‹  ì£¼ë‹˜ì˜ ëœ»ì„ ë“£ê³  <strong>ìˆœì¢…í•˜ê¸° ìœ„í•œ í›ˆë ¨</strong>ì…ë‹ˆë‹¤.",
                guide_lordsprayer: "ì£¼ê¸°ë„ë¬¸ìœ¼ë¡œ í•˜ëŠ” ê²½ì²­ë²• (5 Step)",
                guide_step1_title: "í•˜ëŠ˜ì— ê³„ì‹  ìš°ë¦¬ ì•„ë²„ì§€",
                guide_step1_desc: "ë©ˆì¶”ì„¸ìš”(Stop). ê·¸ë¦¬ê³  ë‚˜ë¥¼ ë¶€ë¥´ì‹œëŠ” ì•„ë²„ì§€ì˜ ì‚¬ë‘ ì•ˆì—ì„œ í‰ì•ˆì„ ëˆ„ë¦¬ì„¸ìš”.",
                guide_step2_title: "ë‚˜ë¼ê°€ ì„í•˜ì‹œì˜¤ë©°",
                guide_step2_desc: "ë‚´ ê³„íšì„ ë‚´ë ¤ë†“ê³ , ì˜¤ëŠ˜ ë‚´ ê°€ì •ê³¼ ì¼í„°ì— ì„í•˜ì‹¤ í•˜ë‚˜ë‹˜ì˜ ëœ»ì„ ë¬¼ìœ¼ì„¸ìš”.",
                guide_step3_title: "ì¼ìš©í•  ì–‘ì‹ì„ ì£¼ì˜µì‹œê³ ",
                guide_step3_desc: "ì˜¤ëŠ˜ ì£¼ì‹  ë§ì”€(QT)ì„ í´ì„¸ìš”. ë§ì”€ ë°–ì˜ ìŒì„±ì€ ìœ„í—˜í•©ë‹ˆë‹¤. ì„±ê²½ì„ í†µí•´ ë“¤ìœ¼ì„¸ìš”.",
                guide_step4_title: "ìš°ë¦¬ê°€ ìš°ë¦¬ì—ê²Œ ì£„ ì§€ì€ ìë¥¼...",
                guide_step4_desc: "ë§ˆìŒì— ê±¸ë¦¬ëŠ” ê´€ê³„ë‚˜ ì£„ê°€ ìˆë‚˜ìš”? ì„±ë ¹ë‹˜ê»˜ ë¬»ê³  íšŒê°œí•˜ë©° ë§ˆìŒì„ ì •ê²°ì¼€ í•˜ì„¸ìš”.",
                guide_step5_title: "ë‚˜ë¼ì™€ ê¶Œì„¸ì™€ ì˜ê´‘ì´...",
                guide_step5_desc: "ë“¤ì€ ë§ì”€ì— ìˆœì¢…í•˜ê¸°ë¡œ ê²°ë‹¨í•˜ë©°, ì°¬ì–‘ìœ¼ë¡œ ê¸°ë„ë¥¼ ë§ˆì¹˜ì„¸ìš”.",
                guide_principle: "\"ë§ì”€(Logos)ìœ¼ë¡œ ê²€ì¦í•˜ê³ ,<br>ì„±ë ¹(Pneuma)ìœ¼ë¡œ ê°ë™ë°›ì•„,<br>ì‚¶ìœ¼ë¡œ ìˆœì¢…(Obey)í•©ë‹ˆë‹¤.\"",
                guide_selfcheck_title: "ğŸ“– ìê°€ ì§„ë‹¨ (8ë¬¸í•­)",
                guide_selfcheck_desc: "ì§€ë‚œ ì£¼ì¼ ì˜ˆë°°ë¥¼ ë– ì˜¬ë¦¬ë©° ì†”ì§í•˜ê²Œ ì²´í¬í•´ë³´ì„¸ìš”. (ê° ë¬¸í•­ 1~5ì )",
                guide_selfcheck_q1: "1. ì˜ˆë°° 10ë¶„ ì „ì— ë„ì°©í•˜ì—¬ ê¸°ë„ë¡œ ë§ˆìŒ ë°­ì„ ê¸°ê²½í–ˆëŠ”ê°€?",
                guide_selfcheck_q2: "2. ì„¸ìƒì˜ ì—¼ë ¤ë¥¼ ëŠì–´ë‚´ê³  ë§ì”€ì„ ì‚¬ëª¨í•¨ìœ¼ë¡œ ì¤€ë¹„í–ˆëŠ”ê°€?",
                guide_selfcheck_q3: "3. ì„¤êµ ì¤‘ ì§‘ì¤‘í–ˆëŠ”ê°€?",
                guide_selfcheck_q4: "4. ë”´ìƒê°ì„ ì˜ì§€ì ìœ¼ë¡œ ëŠì–´ëƒˆëŠ”ê°€?",
                guide_selfcheck_q5: "5. ì±…ë§ì˜ ë§ì”€ë„ \"ì•„ë©˜\"ìœ¼ë¡œ ë°›ì•˜ëŠ”ê°€?",
                guide_selfcheck_q6: "6. ë©”ì‹œì§€ì˜ ë³¸ì§ˆì— ê·€ ê¸°ìš¸ì˜€ëŠ”ê°€?",
                guide_selfcheck_q7: "7. ì‹¤ì²œí•  í•œ ê°€ì§€ë¥¼ ì •í–ˆëŠ”ê°€?",
                guide_selfcheck_q8: "8. ì£¼ì¤‘ì— ì‹¤ì œ ì‚¶ì—ì„œ ì ìš©í–ˆëŠ”ê°€?",
                guide_scoring: "<strong>35-40ì :</strong> ì˜¥í†  | <strong>25-34ì :</strong> ì„±ì¥ ì¤‘ | <strong>24ì  ì´í•˜:</strong> í›ˆë ¨ í•„ìš”",
                
                // ì„¤ì •
                modal_title: "í”„ë¡œí•„ ì„¤ì •",
                modal_msg: "\"ëª¨ë“  ê·¸ë¦¬ìŠ¤ë„ì¸ì€ ì‚¬ì—­ììš”, ì„ êµì‚¬ì…ë‹ˆë‹¤.\"",
                modal_btn: "ì €ì¥í•˜ê¸°",
                ph_name: "ì´ë¦„ (ì˜ˆ: ê¹€ì°¬ì–‘)",
                ph_mokjang: "ëª©ì¥ ì´ë¦„ (ì˜ˆ: íŒŒë¦¬ ëª©ì¥)",
                journey_title: "ê°€ì •êµíšŒ 4ë‹¨ê³„ ì˜ì  ì—¬ì •",
                opt_shepherd: "ëª©ì (Shepherd)",
                opt_moknye: "ëª©ë…€ (ëª©ìì˜ ì•„ë‚´)",
                opt_mokbu: "ëª©ë¶€ (ëª©ìì˜ ë‚¨í¸)",
                
                // ê¸°ë³¸ í”„ë¡œí•„ í…ìŠ¤íŠ¸
                default_profile: "í”„ë¡œí•„ ì„¤ì •",
                default_role: "ìˆœë¡€ì",
                
                // íˆìŠ¤í† ë¦¬
                list_title: "ì§€ë‚œ ê¸°ë¡ ë³´ê´€ì†Œ",
                empty_list: "ê¸°ë¡ì´ ì—†ìŠµë‹ˆë‹¤",
                
                // View ëª¨ë‹¬ ë¼ë²¨
                v_lbl1: "ğŸ“– ë§ì”€ ë¬µìƒ",
                v_lbl2: "ğŸ‘‚ í•˜ë‚˜ë‹˜ì´ ì£¼ì‹  ë§ˆìŒ",
                v_lbl3: "ğŸ‘£ ìˆœì¢…í•  í–‰ë™",
                v_lbl4: "ğŸ™ ê°ì‚¬ ê¸°ë„",
                btn_del: "ì‚­ì œ",
                btn_close: "ë‹«ê¸°",
                btn_edit: "ìˆ˜ì •í•˜ê¸°",
                
                // ë©”ì‹œì§€
                msg_save: "ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤",
                msg_update: "ìˆ˜ì •ë˜ì—ˆìŠµë‹ˆë‹¤",
                msg_del: "ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤",
                msg_empty: "ë‚´ìš©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”",
                msg_confirm_del: "ì´ ê¸°ë¡ì„ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?",
                msg_timer_end: "ê¸°ë„ ì‹œê°„ì´ ëë‚¬ìŠµë‹ˆë‹¤",
                msg_challenge_start: "ì±Œë¦°ì§€ ì‹œì‘! í•¨ê»˜ ì™„ì£¼í•´ë´ìš” ğŸ’ª",
                msg_challenge_complete: "ì™„ë£Œ",
                msg_challenge_cancel: "ì™„ë£Œ ì·¨ì†Œë¨",
                msg_challenge_reset: "ì±Œë¦°ì§€ê°€ ì´ˆê¸°í™”ë˜ì—ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œì‘í•´ë³´ì„¸ìš”!",
                msg_mokjang_joined: "ëª©ì¥ì— ì°¸ì—¬í–ˆìŠµë‹ˆë‹¤!",
                msg_mokjang_left: "ëª©ì¥ì—ì„œ ë‚˜ì™”ìŠµë‹ˆë‹¤",
                msg_mokjang_code_required: "ëª©ì¥ ì½”ë“œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”",
                msg_name_required: "ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”",
                msg_clipboard: "ë©”ì‹œì§€ê°€ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤"
            },
            en: {
                church: "Global Mission Church of Greater Seattle",
                bible_ref: "GENESIS 13:14",
                subtitle: "My Altar of Union with God",
                
                // Spiritual Journey
                journey_seeker: "Seeker (VIP)", 
                journey_believer: "Believer", 
                journey_disciple: "Disciple", 
                journey_shepherd: "Shepherd",
                journey_moknye: "Moknyeo (Wife)",
                journey_mokbu: "Mokbu (Husband)",
                
                desc_seeker: "Seeking God",
                desc_believer: "Accepted the Gospel",
                desc_disciple: "Learning and following Jesus",
                desc_shepherd: "Caring for others and making disciples",
                
                stage1: "Seeker<br>(VIP)", stage2: "Believer", stage3: "Disciple", stage4: "Shepherd",
                
                // Routine Banner
                r1: "Scripture", time1: "10min", 
                r2: "Silence", time2: "15min", 
                r3: "Journal", time3: "5min",
                verse: "\"Whoever has ears, let them hear!\" (Mark 4:9)",
                
                // Tab Navigation
                tab_journal: "Journal",
                tab_challenge: "21 Days",
                tab_mokjang: "Mokjang",
                tab_guide: "Guide",
                tab_interpreter: "Interpret",
                
                // Journal Tab
                card1: "Scripture (10min)",
                ph_sermon_title: "Sermon Title",
                ph_ref: "Scripture Reference",
                ph_text: "Write your meditation...",
                card2: "Silence (15min)",
                btn_start: "Start Timer",
                btn_pause: "Pause",
                btn_resume: "Resume",
                msg_timer: "Turning off the noise to hear God's voice",
                chime_info: "ğŸ”” Chimes: 5min(low), 10min(mid x2), 15min(high)",
                chime_on: "ON",
                chime_off: "OFF",
                card3: "Journal (5min)",
                l1: "1. God's Voice (Rhema)",
                ph_rhema: "Insights received from the Lord",
                l2: "2. Action to Obey",
                ph_action: "Specific action this week",
                l3: "3. Thanksgiving",
                ph_thanks: "Prayer of thanksgiving",
                btn_save: "Complete",
                btn_update: "Update",
                btn_hist: "View History",
                
                // 21-Day Challenge
                challenge_title: "21-Day Listening Training",
                challenge_start_title: "21-Day Listening Training",
                challenge_start_desc: "Will you join this spiritual training<br>to restore ears that hear God's voice?",
                challenge_start_btn: "ğŸ¯ Start 21-Day Challenge",
                challenge_progress: "days completed / 21 days",
                challenge_share: "ğŸ“¢ Share progress on KakaoTalk",
                challenge_reset: "ğŸ”„ Restart Challenge",
                
                // 21-Day Structure
                week1_title: "Week 1: Circumcision of the Ear (Reducing Noise)",
                week2_title: "Week 2: Holy Resonance (Interacting with the Word)",
                week3_title: "Week 3: Incarnation of the Word (Living it Out)",
                
                challenge_structure: "ğŸ“š 21-Day Structure",
                week1_desc: "Circumcision of the Ear (Reduce noise)",
                week2_desc: "Holy Resonance (Interact with Word)",
                week3_desc: "Incarnation of Word (Live it out)",
                
                // Day Titles (1-7)
                day1: "[Time] Turn off media after 10pm Saturday",
                day2: "[Space] Choose a seat for better focus",
                day3: "[Heart] Pray 10 times before worship",
                day4: "[Fast] Don't judge the preacher",
                day5: "[Media] Listen to worship on the way",
                day6: "[Prayer] Pray 3 min for pastor",
                day7: "[Repent] Confess last week's disobedience",
                
                // Day Titles (8-14)
                day8: "[Eye Contact] Look at preacher, nod in agreement",
                day9: "[Rhema] Write one key sentence boldly",
                day10: "[Amen] Say 'Amen' out loud",
                day11: "[Intercession] Pray for the preacher",
                day12: "[Silence] Meditate 3 min after benediction",
                day13: "[Scripture] Read Sunday's text aloud at home",
                day14: "[Thanks] Give thanks for the Word",
                
                // Day Titles (15-21)
                day15: "[Summary] Summarize in one sentence",
                day16: "[Share] Share grace with family/mokjang",
                day17: "[Cost] Bear specific cost for obedience",
                day18: "[Check] Check if you kept your decision",
                day19: "[Encourage] Write testimony to pastor",
                day20: "[Fellowship] Share changes during training",
                day21: "[Vow] Vow to be lifelong listener",
                
                // Mokjang
                mokjang_setup_title: "ğŸ‘¥ Mokjang Setup Required",
                mokjang_setup_desc: "Complete 21 days with your mokjang members!",
                mokjang_setup_btn: "Set Up Mokjang",
                mokjang_what_title: "ğŸ’¡ What is Mokjang Feature?",
                mokjang_what_desc: "Enter mokjang code to see members' 21-day progress (completion only). Journal content is completely private. Only completion status (O/X) is shared.",
                mokjang_completed: "completed today",
                mokjang_encourage_title: "ğŸ’¬ Encouragement",
                mokjang_encourage_msg: "Praying for our mokjang members running together ğŸ™",
                mokjang_leave: "Leave Mokjang",
                mokjang_modal_title: "Mokjang Setup",
                mokjang_modal_desc: "Enter mokjang code to share progress with members.",
                mokjang_code_ph: "e.g., 1MOKJANG",
                mokjang_code_help: "* Ask your shepherd for mokjang code",
                mokjang_join: "Join",
                
                // Guide
                guide_title: "ğŸ“š Listening Guide",
                guide_why_title: "ğŸ’¡ Why 'Listening Prayer'?",
                guide_why_desc: "Listening prayer is not mysticism.<br><strong>\"My sheep listen to my voice\"</strong> (John 10:27). It's training to hear and <strong>obey</strong> the Shepherd's will.",
                guide_lordsprayer: "Listening with Lord's Prayer (5 Steps)",
                guide_step1_title: "Our Father in heaven",
                guide_step1_desc: "Stop. Rest in the Father's love who calls you.",
                guide_step2_title: "Your kingdom come",
                guide_step2_desc: "Lay down your plans. Ask God's will for your home and workplace today.",
                guide_step3_title: "Give us today our daily bread",
                guide_step3_desc: "Open today's Scripture (QT). Voices outside Scripture are dangerous. Hear through the Bible.",
                guide_step4_title: "Forgive us our debts...",
                guide_step4_desc: "Any relationship or sin troubling you? Ask the Spirit, repent, and purify your heart.",
                guide_step5_title: "For yours is the kingdom...",
                guide_step5_desc: "Decide to obey the Word you heard. End prayer with praise.",
                guide_principle: "\"Verify with Word (Logos),<br>Be moved by Spirit (Pneuma),<br>Obey in life.\"",
                guide_selfcheck_title: "ğŸ“– Self-Check (8 Questions)",
                guide_selfcheck_desc: "Think about last Sunday's worship honestly. (1-5 points each)",
                guide_selfcheck_q1: "1. Arrived 10 min early and prepared heart with prayer?",
                guide_selfcheck_q2: "2. Cut off worldly worries and longed for the Word?",
                guide_selfcheck_q3: "3. Stayed focused during sermon?",
                guide_selfcheck_q4: "4. Deliberately cut off wandering thoughts?",
                guide_selfcheck_q5: "5. Accepted even rebuking words with 'Amen'?",
                guide_selfcheck_q6: "6. Listened to essence of message?",
                guide_selfcheck_q7: "7. Decided one thing to practice?",
                guide_selfcheck_q8: "8. Applied it in actual life during the week?",
                guide_scoring: "<strong>35-40:</strong> Good Soil | <strong>25-34:</strong> Growing | <strong>24-:</strong> Training Needed",
                
                // Settings
                modal_title: "Profile Settings",
                modal_msg: "\"Every Christian is a minister and missionary.\"",
                modal_btn: "Save",
                ph_name: "Name (e.g., John Kim)",
                ph_mokjang: "Mokjang Name (e.g., Paris Mokjang)",
                journey_title: "House Church 4-Stage Spiritual Journey",
                opt_shepherd: "Shepherd",
                opt_moknye: "Moknyeo (Shepherd's Wife)",
                opt_mokbu: "Mokbu (Shepherd's Husband)",
                
                // Default Profile Text
                default_profile: "Profile Settings",
                default_role: "Seeker",
                
                // History
                list_title: "Journal History",
                empty_list: "No records found",
                
                // View Modal Labels
                v_lbl1: "ğŸ“– Scripture",
                v_lbl2: "ğŸ‘‚ God's Voice",
                v_lbl3: "ğŸ‘£ Action",
                v_lbl4: "ğŸ™ Thanksgiving",
                btn_del: "Delete",
                btn_close: "Close",
                btn_edit: "Edit",
                
                // Messages
                msg_save: "Saved successfully",
                msg_update: "Updated successfully",
                msg_del: "Deleted",
                msg_empty: "Please enter content",
                msg_confirm_del: "Delete this record?",
                msg_timer_end: "Prayer time is over",
                msg_challenge_start: "Challenge started! Let's finish together ğŸ’ª",
                msg_challenge_complete: "Completed",
                msg_challenge_cancel: "Completion cancelled",
                msg_challenge_reset: "Challenge reset. Start again!",
                msg_mokjang_joined: "Joined mokjang!",
                msg_mokjang_left: "Left mokjang",
                msg_mokjang_code_required: "Please enter mokjang code",
                msg_name_required: "Please enter name",
                msg_clipboard: "Message copied"
            }
        };

        // ì•± ì´ˆê¸°í™”
        window.onload = function() {
            loadSettings();
            renderHistory();
            checkChallengeStatus();
            checkMokjangStatus();
            loadChimeSettings();
            updateText();
        };

        // ì–¸ì–´ ì „í™˜
        function toggleLang() {
            console.log('toggleLang called, current:', curLang);
            curLang = curLang === 'ko' ? 'en' : 'ko';
            console.log('toggleLang changed to:', curLang);
            document.getElementById('langBtn').innerText = curLang === 'ko' ? 'ENG' : 'í•œê¸€';
            
            // ë””ë²„ê¹…: ì–¸ì–´ ë³€ê²½ í™•ì¸
            const t = lang[curLang];
            console.log('Question 1:', t.guide_selfcheck_q1);
            
            try {
                updateText();
                console.log('updateText completed successfully');
            } catch(error) {
                console.error('updateText error:', error);
                alert('Language change error: ' + error.message);
            }
        }

        // ëª¨ë“  í…ìŠ¤íŠ¸ ì—…ë°ì´íŠ¸
        function updateText() {
            const t = lang[curLang];
            console.log('updateText called, lang:', curLang);
            
            // ì•ˆì „í•œ ì—…ë°ì´íŠ¸ í•¨ìˆ˜
            function safeUpdate(id, value, isPlaceholder = false) {
                const el = document.getElementById(id);
                if(el) {
                    if(isPlaceholder) el.placeholder = value;
                    else {
                        console.log('Updating', id, 'to:', value);
                        el.innerHTML = value;  // innerText â†’ innerHTML ë³€ê²½
                    }
                } else {
                    console.warn('Element not found:', id);
                }
            }
            
            // í—¤ë”
            safeUpdate('t-church', t.church);
            safeUpdate('t-bible-ref', t.bible_ref);
            safeUpdate('t-subtitle', t.subtitle);
            
            // ë£¨í‹´ ë°°ë„ˆ
            safeUpdate('t-r1', t.r1);
            safeUpdate('t-time1', t.time1);
            safeUpdate('t-r2', t.r2);
            safeUpdate('t-time2', t.time2);
            safeUpdate('t-r3', t.r3);
            safeUpdate('t-time3', t.time3);
            safeUpdate('t-verse', t.verse);
            
            // íƒ­ ë„¤ë¹„ê²Œì´ì…˜ (ìˆœì„œ: ì¼ì§€ â†’ ëª©ì¥ â†’ ê°€ì´ë“œ â†’ 21ì¼ â†’ í†µì—­)
            const navItems = document.querySelectorAll('.nav-item span');
            if(navItems[0]) navItems[0].innerText = t.tab_journal;
            if(navItems[1]) navItems[1].innerText = t.tab_mokjang;
            if(navItems[2]) navItems[2].innerText = t.tab_guide;
            if(navItems[3]) navItems[3].innerText = t.tab_challenge;
            if(navItems[4]) navItems[4].innerText = t.tab_interpreter;
            
            // ì¼ì§€ íƒ­
            safeUpdate('t-card1', t.card1);
            safeUpdate('inSermonTitle', t.ph_sermon_title, true);
            safeUpdate('inRef', t.ph_ref, true);
            safeUpdate('inText', t.ph_text, true);
            safeUpdate('t-card2', t.card2);
            
            const timerBtn = document.getElementById('t-timer-btn');
            if(timerBtn) {
                if (!isTimerRunning && timeLeft === 15 * 60) timerBtn.innerText = t.btn_start;
                else if (isTimerRunning) timerBtn.innerText = t.btn_pause;
                else timerBtn.innerText = t.btn_resume;
            }
            
            safeUpdate('t-timer-msg', t.msg_timer);
            safeUpdate('t-timer-chime', t.chime_info);
            loadChimeSettings(); // ì°¨ì„ë²¨ ë²„íŠ¼ ìƒíƒœ ì—…ë°ì´íŠ¸
            safeUpdate('t-card3', t.card3);
            safeUpdate('t-lbl1', t.l1);
            safeUpdate('inRhema', t.ph_rhema, true);
            safeUpdate('t-lbl2', t.l2);
            safeUpdate('inAction', t.ph_action, true);
            safeUpdate('t-lbl3', t.l3);
            safeUpdate('inThanks', t.ph_thanks, true);
            
            const saveBtn = document.getElementById('t-btn-save');
            if(saveBtn) saveBtn.innerText = editId ? t.btn_update : t.btn_save;
            
            const histBtn = document.getElementById('t-btn-hist');
            if(histBtn) histBtn.innerText = t.btn_hist;
            
            // 21ì¼ ì±Œë¦°ì§€
            updateChallengeText();
            
            // ëª©ì¥
            updateMokjangText();
            
            // ê°€ì´ë“œ
            updateGuideText();
            
            // ì„¤ì • ëª¨ë‹¬
            updateSettingsText();
            
            // View ëª¨ë‹¬ ë¼ë²¨
            safeUpdate('v-lbl1', t.v_lbl1);
            safeUpdate('v-lbl2', t.v_lbl2);
            safeUpdate('v-lbl3', t.v_lbl3);
            safeUpdate('v-lbl4', t.v_lbl4);
            safeUpdate('v-btn-del', t.btn_del);
            safeUpdate('v-btn-close', t.btn_close);
            safeUpdate('v-btn-edit', t.btn_edit);
            
            // ì‚¬ìš©ì ì •ë³´ ë‹¤ì‹œ ë¡œë“œ
            loadSettings();
            
            console.log('updateText completed');
        }


        function updateMokjangText() {
            // ëª©ì¥ íƒ­ì˜ ëª¨ë“  data-ko/data-en ì†ì„±ì´ ìˆëŠ” ìš”ì†Œ ìë™ ì²˜ë¦¬
            const mokjangTab = document.getElementById('tab-mokjang');
            if(mokjangTab) {
                const translatableElements = mokjangTab.querySelectorAll('[data-ko][data-en]');
                translatableElements.forEach(el => {
                    const text = curLang === 'ko' ? el.getAttribute('data-ko') : el.getAttribute('data-en');
                    if(text) el.innerHTML = text;
                });
            }
            
            // ëª©ì¥ ì„¤ì • ëª¨ë‹¬
            const mokjangSetupModal = document.getElementById('mokjangSetupModal');
            if(mokjangSetupModal) {
                const elements = mokjangSetupModal.querySelectorAll('[data-ko][data-en]');
                elements.forEach(el => {
                    const text = curLang === 'ko' ? el.getAttribute('data-ko') : el.getAttribute('data-en');
                    if(text) el.innerHTML = text;
                });
            }
            
            // ìƒˆ ë©¤ë²„ ë“±ë¡ ëª¨ë‹¬
            const memberRegisterModal = document.getElementById('memberRegisterModal');
            if(memberRegisterModal) {
                const elements = memberRegisterModal.querySelectorAll('[data-ko][data-en]');
                elements.forEach(el => {
                    const text = curLang === 'ko' ? el.getAttribute('data-ko') : el.getAttribute('data-en');
                    if(text) el.innerHTML = text;
                });
            }
            
            // ì •ë³´ ìˆ˜ì • ëª¨ë‹¬
            const editMokjangModal = document.getElementById('editMokjangModal');
            if(editMokjangModal) {
                const elements = editMokjangModal.querySelectorAll('[data-ko][data-en]');
                elements.forEach(el => {
                    const text = curLang === 'ko' ? el.getAttribute('data-ko') : el.getAttribute('data-en');
                    if(text) el.innerHTML = text;
                });
            }
            
            // input placeholder ì—…ë°ì´íŠ¸
            const registerNameInput = document.getElementById('registerName');
            if(registerNameInput) registerNameInput.placeholder = curLang === 'ko' ? 'ì´ë¦„' : 'Name';
            
            const registerMokjangNameInput = document.getElementById('registerMokjangName');
            if(registerMokjangNameInput) registerMokjangNameInput.placeholder = curLang === 'ko' ? 'ëª©ì¥ ì´ë¦„ (ì˜ˆ: ì´ìŠ¤ë¼ì—˜)' : 'Group name (e.g. Israel)';
            
            const registerMokjangCodeInput = document.getElementById('registerMokjangCode');
            if(registerMokjangCodeInput) registerMokjangCodeInput.placeholder = curLang === 'ko' ? 'ëª©ì¥ì½”ë“œ (ì˜ˆ: ISRAEL)' : 'Group code (e.g. ISRAEL)';
            
            const inputMokjangCodeInput = document.getElementById('inputMokjangCode');
            if(inputMokjangCodeInput) inputMokjangCodeInput.placeholder = curLang === 'ko' ? 'ì˜ˆ: 1MOKJANG' : 'e.g. 1MOKJANG';
            
            const editMemberNameInput = document.getElementById('editMemberName');
            if(editMemberNameInput) editMemberNameInput.placeholder = curLang === 'ko' ? 'ì´ë¦„' : 'Name';
        }

        function updateGuideText() {
            const t = lang[curLang];
            
            // ê°€ì´ë“œ íƒ­ì˜ ëª¨ë“  data-ko/data-en ì†ì„±ì´ ìˆëŠ” ìš”ì†Œ ìë™ ì²˜ë¦¬
            const guideTab = document.getElementById('tab-guide');
            if(guideTab) {
                const translatableElements = guideTab.querySelectorAll('[data-ko][data-en]');
                translatableElements.forEach(el => {
                    const text = curLang === 'ko' ? el.getAttribute('data-ko') : el.getAttribute('data-en');
                    if(text) el.innerHTML = text;
                });
            }
            
            // ìê°€ì§„ë‹¨ 8ë¬¸í•­ - data ì†ì„±ì—ì„œ ì½ê¸°
            for(let i = 1; i <= 8; i++) {
                const el = document.getElementById('guide-q' + i);
                if(el) {
                    const text = curLang === 'ko' ? el.getAttribute('data-ko') : el.getAttribute('data-en');
                    if(text) el.innerHTML = text;
                }
            }
            
            const scoring = document.getElementById('guide-selfcheck-scoring');
            if(scoring) scoring.innerHTML = t.guide_scoring;
            
            // ìê°€ì§„ë‹¨ ë²„íŠ¼ í…ìŠ¤íŠ¸ ì—…ë°ì´íŠ¸
            const resetBtn = document.getElementById('guide-reset-btn');
            if(resetBtn) resetBtn.innerText = curLang === 'ko' ? 'ë‹¤ì‹œ ì²´í¬' : 'Reset';
            
            // ì ìˆ˜ ì¬ê³„ì‚° (ì–¸ì–´ ë³€ê²½ ì‹œ)
            calculateSelfCheckScore();
            
            // 21ì¼ ì±Œë¦°ì§€ í…ìŠ¤íŠ¸ ì—…ë°ì´íŠ¸ (data ì†ì„± ì‚¬ìš©)
            updateChallengeText();
            
            // í†µì—­ íƒ­ í…ìŠ¤íŠ¸ ì—…ë°ì´íŠ¸
            updateInterpreterText();
        }

        function updateChallengeText() {
            // ì±Œë¦°ì§€ ì‹œì‘ í™”ë©´ - data ì†ì„±ì—ì„œ ì½ê¸°
            const challengeElements = [
                'challenge-start-title',
                'challenge-start-desc', 
                'challenge-start-btn',
                'challenge-structure-title',
                'challenge-week1-desc',
                'challenge-week2-desc',
                'challenge-week3-desc'
            ];
            
            challengeElements.forEach(id => {
                const el = document.getElementById(id);
                if(el) {
                    const text = curLang === 'ko' ? el.getAttribute('data-ko') : el.getAttribute('data-en');
                    if(text) {
                        if(el.tagName === 'BUTTON') {
                            el.innerHTML = text;
                        } else {
                            el.innerHTML = text;
                        }
                    }
                }
            });
            
            // Day 1~21 ì œëª© ì—…ë°ì´íŠ¸
            const dayTitles = document.querySelectorAll('.day-title[data-ko][data-en]');
            dayTitles.forEach(el => {
                const text = curLang === 'ko' ? el.getAttribute('data-ko') : el.getAttribute('data-en');
                if(text) el.innerHTML = text;
            });
            
            // ì£¼ì°¨ í—¤ë” ì—…ë°ì´íŠ¸
            const weekHeaders = document.querySelectorAll('.week-header[data-ko][data-en]');
            weekHeaders.forEach(el => {
                const text = curLang === 'ko' ? el.getAttribute('data-ko') : el.getAttribute('data-en');
                if(text) el.innerHTML = text;
            });
            
            // ì±Œë¦°ì§€ ë²„íŠ¼ ì—…ë°ì´íŠ¸
            const shareBtn = document.getElementById('challenge-share-btn');
            if(shareBtn) {
                const shareText = curLang === 'ko' ? shareBtn.getAttribute('data-ko') : shareBtn.getAttribute('data-en');
                if(shareText) shareBtn.innerHTML = shareText;
            }
            
            const resetBtn = document.getElementById('challenge-reset-btn');
            if(resetBtn) {
                const resetText = curLang === 'ko' ? resetBtn.getAttribute('data-ko') : resetBtn.getAttribute('data-en');
                if(resetText) resetBtn.innerHTML = resetText;
            }
            
            // ì§„í–‰ ìƒí™© ë¼ë²¨ ì—…ë°ì´íŠ¸
            const progressLabel = document.getElementById('challenge-progress-label');
            if(progressLabel) {
                const progressText = curLang === 'ko' ? progressLabel.getAttribute('data-ko') : progressLabel.getAttribute('data-en');
                if(progressText) progressLabel.innerHTML = progressText;
            }
            
            // ëª¨ë“  data-ko, data-en ì†ì„±ì„ ê°€ì§„ ìš”ì†Œë“¤ ì—…ë°ì´íŠ¸ (challenge ì„¹ì…˜ ì „ì²´)
            document.querySelectorAll('#tab-challenge [data-ko][data-en]').forEach(el => {
                const text = curLang === 'ko' ? el.getAttribute('data-ko') : el.getAttribute('data-en');
                if(text) el.innerHTML = text;
            });
            
            // 21ì¼ í›ˆë ¨ ë‹¤ì‹œ ë Œë”ë§ (ì–¸ì–´ ì „í™˜ ì‹œ)
            if(typeof renderTrainingDays === 'function') renderTrainingDays();
        }

        function updateInterpreterText() {
            // í†µì—­ íƒ­ í…ìŠ¤íŠ¸ ì—…ë°ì´íŠ¸ (data ì†ì„± ì‚¬ìš©)
            const interpreterElements = [
                'interpreter-title',
                'interpreter-desc',
                'interpreter-tip-title',
                'interpreter-tip1',
                'interpreter-tip2',
                'interpreter-tip3'
            ];
            
            interpreterElements.forEach(id => {
                const el = document.getElementById(id);
                if(el) {
                    const text = curLang === 'ko' ? el.getAttribute('data-ko') : el.getAttribute('data-en');
                    if(text) el.innerHTML = text;
                }
            });
        }

        function updateSettingsText() {
            const t = lang[curLang];
            
            const modalTitle = document.getElementById('setting-modal-title');
            if(modalTitle) modalTitle.innerText = t.modal_title;
            
            const modalMsg = document.getElementById('setting-modal-msg');
            if(modalMsg) modalMsg.innerText = t.modal_msg;
            
            document.getElementById('setName').placeholder = t.ph_name;
            document.getElementById('setMokjang').placeholder = t.ph_mokjang;
            
            const journeyTitle = document.querySelector('.journey-title');
            if(journeyTitle) journeyTitle.innerText = t.journey_title;
            
            // ì‹œê°ì  stage labels ì—…ë°ì´íŠ¸
            const stageItems = document.querySelectorAll('.stage-item');
            if(stageItems[0]) stageItems[0].querySelector('.stage-label').innerHTML = t.stage1;
            if(stageItems[1]) stageItems[1].querySelector('.stage-label').innerHTML = t.stage2;
            if(stageItems[2]) stageItems[2].querySelector('.stage-label').innerHTML = t.stage3;
            if(stageItems[3]) stageItems[3].querySelector('.stage-label').innerHTML = t.stage4;
            
            // ë“œë¡­ë‹¤ìš´ ì˜µì…˜
            const journeySelect = document.getElementById('setJourney');
            journeySelect.options[0].text = `â‘  ${t.journey_seeker} - ${t.desc_seeker}`;
            journeySelect.options[1].text = `â‘¡ ${t.journey_believer} - ${t.desc_believer}`;
            journeySelect.options[2].text = `â‘¢ ${t.journey_disciple} - ${t.desc_disciple}`;
            journeySelect.options[3].text = `â‘£ ${t.journey_shepherd} - ${t.desc_shepherd}`;
            
            const shepherdSelect = document.getElementById('setShepherdType');
            shepherdSelect.options[0].text = t.opt_shepherd;
            shepherdSelect.options[1].text = t.opt_moknye;
            shepherdSelect.options[2].text = t.opt_mokbu;
            
            const saveBtn = document.querySelector('#settingModal .btn');
            if(saveBtn) saveBtn.innerText = t.modal_btn;
        }

        // íƒ­ ì „í™˜
        function switchTab(tabName, element) {
            document.querySelectorAll('.tab-content').forEach(content => {
                content.classList.remove('active');
            });
            document.getElementById('tab-' + tabName).classList.add('active');
            
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
            });
            element.classList.add('active');

            if(tabName === 'challenge') {
                checkChallengeStatus();
            }
            if(tabName === 'mokjang') {
                checkMokjangStatus();
            }
            if(tabName === 'guide') {
                updateGuideText();
            }
        }

        // ========== ì¼ì§€ ê¸°ëŠ¥ (ê¸°ì¡´ ìœ ì§€) ==========
        function toggleTimer() {
            const t = lang[curLang];
            const btn = document.getElementById('t-timer-btn');
            
            // ëª¨ë°”ì¼ ì˜¤ë””ì˜¤ í™œì„±í™”: ì‚¬ìš©ì í´ë¦­ ì‹œ AudioContext ì´ˆê¸°í™”
            if(!audioCtx) {
                audioCtx = new (window.AudioContext || window.webkitAudioContext)();
            }
            if(audioCtx.state === 'suspended') {
                audioCtx.resume();
            }
            
            if(!isTimerRunning) {
                isTimerRunning = true; 
                btn.innerText = t.btn_pause; 
                btn.classList.add('running');
                timerInterval = setInterval(() => {
                    if(timeLeft > 0) {
                        timeLeft--;
                        const elapsed = 900 - timeLeft; // ê²½ê³¼ ì‹œê°„
                        
                        // 5ë¶„(300ì´ˆ)ë§ˆë‹¤ ì°¨ì„ë²¨
                        if(elapsed === 300) playChime(1); // 5ë¶„: ì§§ì€ ë²¨ 1ë²ˆ
                        else if(elapsed === 600) playChime(2); // 10ë¶„: ì§§ì€ ë²¨ 2ë²ˆ
                        
                        const m = Math.floor(timeLeft/60).toString().padStart(2,'0');
                        const s = (timeLeft%60).toString().padStart(2,'0');
                        document.getElementById('timer').innerText = `${m}:${s}`;
                    } else endTimer();
                }, 1000);
            } else {
                clearInterval(timerInterval); 
                isTimerRunning = false; 
                btn.innerText = t.btn_resume; 
                btn.classList.remove('running');
                btn.classList.add('paused');
            }
        }
        
        function endTimer() {
            const t = lang[curLang];
            clearInterval(timerInterval); 
            isTimerRunning = false;
            document.getElementById('timer').innerText = "00:00";
            document.getElementById('t-timer-btn').innerText = t.btn_start_timer;
            document.getElementById('t-timer-btn').classList.remove('running', 'paused');
            playChime(3); // 15ë¶„ ì¢…ë£Œ ì†Œë¦¬
            const message = curLang === 'ko' ? 'ì¹¨ë¬µ ê¸°ë„ ì‹œê°„ì´ ëë‚¬ìŠµë‹ˆë‹¤. ğŸ™' : 'Prayer time is complete. ğŸ™';
            setTimeout(() => { 
                alert(message); 
                resetTimer(); 
            }, 500);
        }
        
        function resetTimer() { 
            timeLeft = 15 * 60; 
            document.getElementById('timer').innerText = "15:00"; 
        }
        
        // ì°¨ì„ë²¨ on/off í† ê¸€
        function toggleChime() {
            chimeEnabled = !chimeEnabled;
            localStorage.setItem(CHIME_ENABLED_KEY, chimeEnabled ? 'true' : 'false');
            
            const btn = document.getElementById('chimeBtn');
            const status = document.getElementById('t-chime-status');
            const t = lang[curLang];
            
            if(chimeEnabled) {
                // ì¼œì§ ìƒíƒœ
                btn.style.background = 'var(--gold)';
                btn.style.boxShadow = '0 2px 8px rgba(243,156,18,0.3)';
                btn.innerText = 'ğŸ””';
                status.style.color = 'var(--gold)';
                status.innerText = t.chime_on;
            } else {
                // êº¼ì§ ìƒíƒœ
                btn.style.background = '#ccc';
                btn.style.boxShadow = '0 2px 8px rgba(0,0,0,0.1)';
                btn.innerText = 'ğŸ”•';
                status.style.color = '#999';
                status.innerText = t.chime_off;
            }
            
            const message = curLang === 'ko' 
                ? (chimeEnabled ? 'ì°¨ì„ë²¨ì´ ì¼œì¡ŒìŠµë‹ˆë‹¤ ğŸ””' : 'ì°¨ì„ë²¨ì´ êº¼ì¡ŒìŠµë‹ˆë‹¤ ğŸ”•')
                : (chimeEnabled ? 'Chime enabled ğŸ””' : 'Chime disabled ğŸ”•');
            showToast(message);
        }
        
        // ì°¨ì„ë²¨ ì„¤ì • ë¡œë“œ
        function loadChimeSettings() {
            const saved = localStorage.getItem(CHIME_ENABLED_KEY);
            chimeEnabled = saved === null ? true : saved === 'true';
            
            const btn = document.getElementById('chimeBtn');
            const status = document.getElementById('t-chime-status');
            const t = lang[curLang];
            
            if(btn && status) {
                if(chimeEnabled) {
                    btn.style.background = 'var(--gold)';
                    btn.style.boxShadow = '0 2px 8px rgba(243,156,18,0.3)';
                    btn.innerText = 'ğŸ””';
                    status.style.color = 'var(--gold)';
                    status.innerText = t.chime_on;
                } else {
                    btn.style.background = '#ccc';
                    btn.style.boxShadow = '0 2px 8px rgba(0,0,0,0.1)';
                    btn.innerText = 'ğŸ”•';
                    status.style.color = '#999';
                    status.innerText = t.chime_off;
                }
            }
        }
        
        function playChime(times = 3) {
            // ì°¨ì„ë²¨ì´ êº¼ì ¸ìˆìœ¼ë©´ ì†Œë¦¬ ì•ˆ ëƒ„
            if(!chimeEnabled) return;
            
            // ì „ì—­ AudioContext ì‚¬ìš© (ì—†ìœ¼ë©´ ìƒì„±)
            if(!audioCtx) {
                audioCtx = new (window.AudioContext || window.webkitAudioContext)();
            }
            // suspended ìƒíƒœë©´ resume (ëª¨ë°”ì¼ ëŒ€ì‘)
            if(audioCtx.state === 'suspended') {
                audioCtx.resume();
            }
            
            const ctx = audioCtx;
            
            if(times === 1) {
                // 5ë¶„ ê²½ê³¼: ë‚®ì€ ìŒ ì§§ê²Œ 1ë²ˆ
                const osc = ctx.createOscillator();
                const gain = ctx.createGain();
                osc.type = 'sine';
                osc.frequency.setValueAtTime(500, ctx.currentTime);
                gain.gain.setValueAtTime(0.3, ctx.currentTime);
                gain.gain.exponentialRampToValueAtTime(0.001, ctx.currentTime + 0.3);
                osc.connect(gain);
                gain.connect(ctx.destination);
                osc.start();
                osc.stop(ctx.currentTime + 0.3);
            } else if(times === 2) {
                // 10ë¶„ ê²½ê³¼: ì¤‘ê°„ ìŒ ì§§ê²Œ 2ë²ˆ
                for(let i = 0; i < 2; i++) {
                    const osc = ctx.createOscillator();
                    const gain = ctx.createGain();
                    osc.type = 'sine';
                    const startTime = ctx.currentTime + (i * 0.4);
                    osc.frequency.setValueAtTime(700, startTime);
                    gain.gain.setValueAtTime(0.3, startTime);
                    gain.gain.exponentialRampToValueAtTime(0.001, startTime + 0.3);
                    osc.connect(gain);
                    gain.connect(ctx.destination);
                    osc.start(startTime);
                    osc.stop(startTime + 0.3);
                }
            } else {
                // 15ë¶„ ì¢…ë£Œ: ë†’ì€ ìŒ ê¸¸ê²Œ
                const osc = ctx.createOscillator();
                const gain = ctx.createGain();
                osc.type = 'sine';
                osc.frequency.setValueAtTime(880, ctx.currentTime);
                osc.frequency.exponentialRampToValueAtTime(440, ctx.currentTime + 1.5);
                gain.gain.setValueAtTime(0.5, ctx.currentTime);
                gain.gain.exponentialRampToValueAtTime(0.001, ctx.currentTime + 1.5);
                osc.connect(gain);
                gain.connect(ctx.destination);
                osc.start();
                osc.stop(ctx.currentTime + 1.5);
            }
        }

        // ========== ìê°€ ì§„ë‹¨ ê¸°ëŠ¥ ==========
        let selfCheckScores = [0, 0, 0, 0, 0, 0, 0, 0]; // 8ë¬¸í•­ ì ìˆ˜


        function selectScore(questionIdx, score) {
            selfCheckScores[questionIdx] = score;
            
            // ëª¨ë“  ë²„íŠ¼ ìŠ¤íƒ€ì¼ ì´ˆê¸°í™”
            for(let s = 1; s <= 5; s++) {
                const btn = document.getElementById(`q${questionIdx}-s${s}`);
                if(btn) {
                    btn.style.background = 'white';
                    btn.style.borderColor = '#ddd';
                    btn.style.color = '#666';
                }
            }
            
            // ì„ íƒëœ ë²„íŠ¼ ê°•ì¡°
            const selectedBtn = document.getElementById(`q${questionIdx}-s${score}`);
            if(selectedBtn) {
                selectedBtn.style.background = 'var(--navy)';
                selectedBtn.style.borderColor = 'var(--navy)';
                selectedBtn.style.color = 'white';
            }
            
            calculateSelfCheckScore();
        }

        function calculateSelfCheckScore() {
            const total = selfCheckScores.reduce((sum, score) => sum + score, 0);
            const t = lang[curLang];
            
            const scoreEl = document.getElementById('guide-total-score');
            const resultEl = document.getElementById('guide-score-result');
            
            if(scoreEl) {
                scoreEl.innerText = curLang === 'ko' ? `ì´ì : ${total}ì ` : `Total: ${total} points`;
            }
            
            if(resultEl) {
                let result = '';
                if(total === 0) {
                    result = curLang === 'ko' ? 'ë¬¸í•­ì„ ì²´í¬í•´ë³´ì„¸ìš”' : 'Please check the items';
                } else if(total >= 35) {
                    result = curLang === 'ko' ? 'ğŸŒ¾ ì˜¥í† ! ë§ì”€ì´ ì—´ë§¤ ë§ºê³  ìˆìŠµë‹ˆë‹¤!' : 'ğŸŒ¾ Good Soil! The Word is bearing fruit!';
                } else if(total >= 25) {
                    result = curLang === 'ko' ? 'ğŸŒ± ì„±ì¥ ì¤‘! ê³„ì† í›ˆë ¨í•˜ì„¸ìš”!' : 'ğŸŒ± Growing! Keep training!';
                } else {
                    result = curLang === 'ko' ? 'ğŸŒ¿ í›ˆë ¨ í•„ìš”! ê²½ì²­ì˜ ì€í˜œë¥¼ ì‚¬ëª¨í•˜ì„¸ìš”!' : 'ğŸŒ¿ Training Needed! Seek the grace of listening!';
                }
                resultEl.innerText = result;
                resultEl.style.color = total >= 35 ? '#27ae60' : (total >= 25 ? '#f39c12' : '#e74c3c');
                resultEl.style.fontWeight = '700';
            }
        }

        function resetSelfCheck() {
            selfCheckScores = [0, 0, 0, 0, 0, 0, 0, 0];
            
            // ëª¨ë“  ë²„íŠ¼ ì´ˆê¸°í™”
            for(let q = 0; q < 8; q++) {
                for(let s = 1; s <= 5; s++) {
                    const btn = document.getElementById(`q${q}-s${s}`);
                    if(btn) {
                        btn.style.background = 'white';
                        btn.style.borderColor = '#ddd';
                        btn.style.color = '#666';
                    }
                }
            }
            
            calculateSelfCheckScore();
        }

        function saveData() {
            const data = {
                id: editId ? editId : Date.now(),
                date: new Date().toLocaleDateString(),
                sermonTitle: document.getElementById('inSermonTitle').value,
                ref: document.getElementById('inRef').value,
                text: document.getElementById('inText').value,
                rhema: document.getElementById('inRhema').value,
                action: document.getElementById('inAction').value,
                thanks: document.getElementById('inThanks').value
            };
            
            if(!data.text && !data.rhema) {
                showToast('ë‚´ìš©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”');
                return;
            }
            
            let logs = JSON.parse(localStorage.getItem(DB_KEY) || '[]');
            if(editId) {
                const index = logs.findIndex(l => l.id === editId);
                if(index !== -1) logs[index] = data;
                showToast('ìˆ˜ì •ë˜ì—ˆìŠµë‹ˆë‹¤');
                exitEditMode();
            } else {
                logs.unshift(data);
                showToast('ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤');
            }
            
            localStorage.setItem(DB_KEY, JSON.stringify(logs));
            
            // Firebaseì—ë„ ì €ì¥
            if (editId) {
                // ìˆ˜ì •ì¸ ê²½ìš°
                const firestoreId = data.firestoreId || editId;
                updateFirestoreJournal(firestoreId, data);
            } else {
                // ìƒˆë¡œ ì‘ì„±ì¸ ê²½ìš°
                saveToFirestore(data).then(firestoreId => {
                    if (firestoreId) {
                        // Firestore IDë¥¼ localStorage ë°ì´í„°ì—ë„ ì €ì¥
                        data.firestoreId = firestoreId;
                        localStorage.setItem(DB_KEY, JSON.stringify(logs));
                    }
                });
            }
            
            clearInputs();
            renderHistory();
        }

        function resetInput(...ids) { 
            ids.forEach(id => document.getElementById(id).value = ''); 
        }
        
        function clearInputs() { 
            resetInput('inSermonTitle','inRef','inText','inRhema','inAction','inThanks'); 
        }
        
        function viewHistory() {
            const t = lang[curLang];
            renderHistory();
            document.getElementById('historyModal').classList.add('active');
            // ëª¨ë‹¬ ì œëª© ì—…ë°ì´íŠ¸
            const modalTitle = document.getElementById('modal-history-title');
            if(modalTitle) modalTitle.innerText = t.list_title;
        }

        function closeHistory() {
            document.getElementById('historyModal').classList.remove('active');
        }

        function renderHistory() {
            const t = lang[curLang];
            const list = document.getElementById('historyList'); 
            const logs = JSON.parse(localStorage.getItem(DB_KEY) || '[]'); 
            list.innerHTML = '';
            if(logs.length === 0) { 
                list.innerHTML = `<div style="padding:30px; text-align:center; color:#999;">${t.empty_list}</div>`; 
                return; 
            }
            logs.forEach(log => {
                const el = document.createElement('div'); 
                el.className = 'log-item';
                el.innerHTML = `
                    <div>
                        <div class="log-date">${log.date}</div>
                        ${log.sermonTitle ? `<div style="font-size:0.85rem; color:#666; margin:2px 0;">${log.sermonTitle}</div>` : ''}
                        <div class="log-ref">${log.ref||'-'}</div>
                    </div>
                    <div style="font-size:1.2rem; color:#ccc;">â€º</div>
                `;
                el.onclick = () => openViewModal(log.id); 
                list.appendChild(el);
            });
        }
        
        function openViewModal(id) {
            viewId = id; 
            const logs = JSON.parse(localStorage.getItem(DB_KEY) || '[]'); 
            const log = logs.find(l => l.id === id); 
            if(!log) return;
            
            document.getElementById('v-date').innerText = log.date;
            const sermonTitleEl = document.getElementById('v-sermon-title');
            if(log.sermonTitle) {
                sermonTitleEl.innerText = log.sermonTitle;
                sermonTitleEl.style.display = 'block';
            } else {
                sermonTitleEl.style.display = 'none';
            }
            document.getElementById('v-ref').innerText = log.ref || '-';
            document.getElementById('v-text').innerText = log.text; 
            document.getElementById('v-rhema').innerText = log.rhema;
            document.getElementById('v-action').innerText = log.action; 
            document.getElementById('v-thanks').innerText = log.thanks;
            document.getElementById('viewModal').classList.add('active');
        }
        
        function closeViewModal() { 
            document.getElementById('viewModal').classList.remove('active'); 
            viewId = null; 
        }
        
        function editCurrentLog() {
            if(!viewId) return; 
            const logs = JSON.parse(localStorage.getItem(DB_KEY) || '[]'); 
            const log = logs.find(l => l.id === viewId);
            closeAllModals(); // ëª¨ë“  ëª¨ë‹¬ ë‹«ê¸°ë¡œ ë³€ê²½ 
            
            // ì¼ì§€ íƒ­ìœ¼ë¡œ ì „í™˜
            document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
            document.getElementById('tab-journal').classList.add('active');
            document.querySelectorAll('.nav-item').forEach(i => i.classList.remove('active'));
            document.querySelectorAll('.nav-item')[0].classList.add('active');
            
            document.getElementById('inSermonTitle').value = log.sermonTitle || '';
            document.getElementById('inRef').value = log.ref; 
            document.getElementById('inText').value = log.text;
            document.getElementById('inRhema').value = log.rhema; 
            document.getElementById('inAction').value = log.action; 
            document.getElementById('inThanks').value = log.thanks;
            editId = log.id;
            document.getElementById('t-btn-save').innerText = 'ìˆ˜ì • ì™„ë£Œ';
        }

        function deleteCurrentLog() {
            if(!viewId) {
                alert('viewIdê°€ ì—†ìŠµë‹ˆë‹¤');
                return;
            }
            
            const userConfirmed = confirm('ì´ ê¸°ë¡ì„ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?');
            if(!userConfirmed) {
                return;
            }
            
            let logs = JSON.parse(localStorage.getItem(DB_KEY) || '[]');
            const logToDelete = logs.find(l => l.id === viewId);
            logs = logs.filter(l => l.id !== viewId);
            localStorage.setItem(DB_KEY, JSON.stringify(logs));
            
            // Firebaseì—ì„œë„ ì‚­ì œ
            if (logToDelete && logToDelete.firestoreId) {
                deleteFromFirestore(logToDelete.firestoreId);
            }
            
            alert('ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤');
            closeAllModals();
            renderHistory();
        }
        
        function closeAllModals() {
            const viewModal = document.getElementById('viewModal');
            const historyModal = document.getElementById('historyModal');
            
            if(viewModal) viewModal.classList.remove('active');
            if(historyModal) historyModal.classList.remove('active');
            
            viewId = null;
        }
        
        function exitEditMode() { 
            editId = null; 
            clearInputs(); 
            document.getElementById('t-btn-save').innerText = 'ì™„ë£Œ';
        }

        // ========== 21ì¼ ì±Œë¦°ì§€ ê¸°ëŠ¥ ==========
        function checkChallengeStatus() {
            console.log('checkChallengeStatus called');
            const started = localStorage.getItem(CHALLENGE_STARTED_KEY);
            console.log('Challenge started:', started);
            
            if(started === 'true') {
                console.log('Showing challenge-in-progress');
                document.getElementById('challenge-not-started').style.display = 'none';
                document.getElementById('challenge-in-progress').style.display = 'block';
                loadChallengeProgress();
                updateChallengeProgress();
            } else {
                console.log('Showing challenge-not-started');
                document.getElementById('challenge-not-started').style.display = 'block';
                document.getElementById('challenge-in-progress').style.display = 'none';
            }
        }

        function startChallenge() {
            const t = lang[curLang];
            if(confirm(curLang === 'ko' ? '21ì¼ ê²½ì²­ ì±Œë¦°ì§€ë¥¼ ì‹œì‘í•˜ì‹œê² ìŠµë‹ˆê¹Œ?' : 'Start 21-day listening challenge?')) {
                localStorage.setItem(CHALLENGE_STARTED_KEY, 'true');
                localStorage.setItem(CHALLENGE_KEY, JSON.stringify([]));
                checkChallengeStatus();
                showToast(t.msg_challenge_start);
            }
        }

        function toggleDay(day) {
            const t = lang[curLang];
            const dayItem = document.querySelector(`[data-day="${day}"]`);
            const isCompleted = dayItem.classList.contains('completed');

            if(!isCompleted) {
                if(confirm(`Day ${day} ${t.msg_challenge_complete}?`)) {
                    dayItem.classList.add('completed');
                    dayItem.querySelector('.day-check').innerHTML = 'âœ“';
                    saveChallengeProgress();
                    updateChallengeProgress();
                    showToast(`Day ${day} ${t.msg_challenge_complete}! ğŸ‰`);
                }
            } else {
                if(confirm(`Day ${day} ${curLang === 'ko' ? 'ì™„ë£Œë¥¼ ì·¨ì†Œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?' : 'Cancel completion?'}`)) {
                    dayItem.classList.remove('completed');
                    dayItem.querySelector('.day-check').innerHTML = 'â—‹';
                    saveChallengeProgress();
                    updateChallengeProgress();
                    showToast(t.msg_challenge_cancel);
                }
            }
        }

        function saveChallengeProgress() {
            const completed = [];
            for(let i = 1; i <= 21; i++) {
                const item = document.querySelector(`[data-day="${i}"]`);
                if(item && item.classList.contains('completed')) {
                    completed.push(i);
                }
            }
            localStorage.setItem(CHALLENGE_KEY, JSON.stringify(completed));
        }

        function loadChallengeProgress() {
            const completed = JSON.parse(localStorage.getItem(CHALLENGE_KEY) || '[]');
            completed.forEach(day => {
                const item = document.querySelector(`[data-day="${day}"]`);
                if(item) {
                    item.classList.add('completed');
                    item.querySelector('.day-check').innerHTML = 'âœ“';
                }
            });
        }

        function updateChallengeProgress() {
            const completed = JSON.parse(localStorage.getItem(CHALLENGE_KEY) || '[]');
            const count = completed.length;
            const percent = Math.round((count / 21) * 100);
            
            document.getElementById('progressDays').innerText = count;
            document.getElementById('progressBar').style.width = percent + '%';

            const statusDiv = document.getElementById('challengeStatus');
            if(count === 21) {
                statusDiv.classList.add('completed');
                showConfetti();
            } else {
                statusDiv.classList.remove('completed');
            }
        }

        function resetChallenge() {
            const t = lang[curLang];
            const confirmMsg = curLang === 'ko' ? 
                'ì±Œë¦°ì§€ë¥¼ ì²˜ìŒë¶€í„° ë‹¤ì‹œ ì‹œì‘í•˜ì‹œê² ìŠµë‹ˆê¹Œ?\n\ní˜„ì¬ ì§„í–‰ ìƒí™©ì´ ì´ˆê¸°í™”ë©ë‹ˆë‹¤.' :
                'Restart challenge from the beginning?\n\nCurrent progress will be reset.';
            
            if(confirm(confirmMsg)) {
                localStorage.setItem(CHALLENGE_KEY, JSON.stringify([]));
                
                // ëª¨ë“  day ì´ˆê¸°í™”
                for(let i = 1; i <= 21; i++) {
                    const item = document.querySelector(`[data-day="${i}"]`);
                    if(item) {
                        item.classList.remove('completed');
                        item.querySelector('.day-check').innerHTML = 'â—‹';
                    }
                }
                
                updateChallengeProgress();
                showToast(t.msg_challenge_reset);
            }
        }

        function shareProgress() {
            const completed = JSON.parse(localStorage.getItem(CHALLENGE_KEY) || '[]');
            const count = completed.length;
            const name = localStorage.getItem('galtar_name') || 'ì €';
            
            const message = `ğŸ¯ 21ì¼ ê²½ì²­ í”„ë¡œì íŠ¸

${name}ë‹˜ì´ ${count}/21ì¼ì„ ì™„ë£Œí–ˆìŠµë‹ˆë‹¤! ğŸ‰

í•¨ê»˜ í•˜ë‚˜ë‹˜ì˜ ìŒì„±ì„ ë“£ëŠ” ê·€ë¥¼ íšŒë³µí•´ìš”!

#ì‹œì• í‹€ì§€êµ¬ì´ŒêµíšŒ #ê²½ì²­í›ˆë ¨ #Genesis1314`;

            if (navigator.share) {
                navigator.share({
                    title: 'G-ALTAR 1314 ê²½ì²­',
                    text: message
                });
            } else {
                navigator.clipboard.writeText(message);
                showToast('ë©”ì‹œì§€ê°€ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤');
            }
        }

        function showConfetti() {
            // ê°„ë‹¨í•œ ì™„ì£¼ ì¶•í•˜ íš¨ê³¼ (ì˜µì…˜)
            console.log('ğŸ‰ 21ì¼ ì™„ì£¼ë¥¼ ì¶•í•˜í•©ë‹ˆë‹¤!');
        }

        // ========== ëª©ì¥ ê¸°ëŠ¥ ==========
        function checkMokjangStatus() {
            const code = localStorage.getItem('galtar_mokjang_code');
            
            if(code) {
                document.getElementById('mokjang-not-setup').style.display = 'none';
                document.getElementById('mokjang-content').style.display = 'block';
                loadMokjangData(code);
                loadMokjangLeaderboard();
            } else {
                document.getElementById('mokjang-not-setup').style.display = 'block';
                document.getElementById('mokjang-content').style.display = 'none';
            }
        }

        function openMokjangSetup() {
            const t = lang[curLang];
            document.getElementById('mokjangSetupModal').classList.add('active');
            
            // ëª¨ë‹¬ í…ìŠ¤íŠ¸ ì—…ë°ì´íŠ¸
            const modalTitle = document.getElementById('mokjang-setup-title');
            if(modalTitle) modalTitle.innerText = t.mokjang_modal_title;
            
            const modalDesc = document.getElementById('mokjang-setup-desc');
            if(modalDesc) modalDesc.innerText = t.mokjang_modal_desc;
            
            const codeInput = document.getElementById('inputMokjangCode');
            if(codeInput) codeInput.placeholder = t.mokjang_code_ph;
            
            const helpText = document.getElementById('mokjang-setup-help');
            if(helpText) helpText.innerText = t.mokjang_code_help;
            
            const joinBtn = document.getElementById('mokjang-join-btn');
            if(joinBtn) joinBtn.innerText = t.mokjang_join;
        }

        function closeMokjangSetup() {
            document.getElementById('mokjangSetupModal').classList.remove('active');
        }

        // ìƒˆ ë©¤ë²„ ë“±ë¡ ëª¨ë‹¬ ì—´ê¸°
        function openMemberRegister() {
            document.getElementById('memberRegisterModal').classList.add('active');
        }

        // ìƒˆ ë©¤ë²„ ë“±ë¡ ëª¨ë‹¬ ë‹«ê¸°
        function closeMemberRegister() {
            document.getElementById('memberRegisterModal').classList.remove('active');
        }

        // ìƒˆ ë©¤ë²„ ë“±ë¡
        async function registerMember() {
            const name = document.getElementById('registerName').value.trim();
            const mokjangName = document.getElementById('registerMokjangName').value.trim();
            const code = document.getElementById('registerMokjangCode').value.trim().toUpperCase();
            const role = document.getElementById('registerRole').value;

            if (!name) {
                showToast(curLang === 'ko' ? 'ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”' : 'Please enter your name');
                return;
            }
            if (!mokjangName) {
                showToast(curLang === 'ko' ? 'ëª©ì¥ ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”' : 'Please enter group name');
                return;
            }
            if (!code) {
                showToast(curLang === 'ko' ? 'ëª©ì¥ì½”ë“œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”' : 'Please enter group code');
                return;
            }

            // ë“±ë¡ ì¤‘ í‘œì‹œ
            const btn = document.querySelector('#memberRegisterModal .btn');
            const originalText = btn.innerText;
            btn.innerText = curLang === 'ko' ? 'ë“±ë¡ ì¤‘...' : 'Registering...';
            btn.disabled = true;

            try {
                const response = await fetch(SHEETS_API_URL, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        action: 'addMember',
                        name: name,
                        mokjang: mokjangName,
                        code: code,
                        role: role
                    })
                });

                const result = await response.json();

                if (result.success) {
                    // ë¡œì»¬ ì €ì¥
                    localStorage.setItem('galtar_name', name);
                    localStorage.setItem('galtar_mokjang', mokjangName);
                    localStorage.setItem('galtar_mokjang_code', code);
                    
                    // Member ID ì €ì¥ (ìˆ˜ì • ê¸°ëŠ¥ì— í•„ìš”)
                    if (result.id) {
                        localStorage.setItem('galtar_member_id', result.id);
                    } else {
                        // IDê°€ ì—†ìœ¼ë©´ ì´ë¦„+ì½”ë“œ ì¡°í•©ìœ¼ë¡œ ìƒì„±
                        localStorage.setItem('galtar_member_id', name + '_' + code);
                    }

                    // ì…ë ¥ í•„ë“œ ì´ˆê¸°í™”
                    document.getElementById('registerName').value = '';
                    document.getElementById('registerMokjangName').value = '';
                    document.getElementById('registerMokjangCode').value = '';

                    closeMemberRegister();
                    checkMokjangStatus();
                    showToast(curLang === 'ko' ? 'ğŸ‰ ë“±ë¡ ì™„ë£Œ! í™˜ì˜í•©ë‹ˆë‹¤!' : 'ğŸ‰ Welcome!');
                } else {
                    showToast(curLang === 'ko' ? 'ë“±ë¡ ì‹¤íŒ¨. ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.' : 'Registration failed. Try again.');
                }
            } catch (error) {
                console.error('ë“±ë¡ ì‹¤íŒ¨:', error);
                showToast(curLang === 'ko' ? 'ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜. ì¸í„°ë„· ì—°ê²°ì„ í™•ì¸í•˜ì„¸ìš”.' : 'Network error.');
            } finally {
                btn.innerText = originalText;
                btn.disabled = false;
            }
        }

        function joinMokjang() {
            const code = document.getElementById('inputMokjangCode').value.trim().toUpperCase();
            
            if(!code) {
                showToast('ëª©ì¥ ì½”ë“œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”');
                return;
            }
            
            localStorage.setItem('galtar_mokjang_code', code);
            closeMokjangSetup();
            checkMokjangStatus();
            showToast('ëª©ì¥ì— ì°¸ì—¬í–ˆìŠµë‹ˆë‹¤!');
        }

        function leaveMokjang() {
            const msg = curLang === 'ko' ? 'ëª©ì¥ì—ì„œ ë‚˜ê°€ì‹œê² ìŠµë‹ˆê¹Œ?' : 'Leave this group?';
            if(confirm(msg)) {
                localStorage.removeItem('galtar_mokjang_code');
                localStorage.removeItem('galtar_member_id');
                checkMokjangStatus();
                showToast(curLang === 'ko' ? 'ëª©ì¥ì—ì„œ ë‚˜ì™”ìŠµë‹ˆë‹¤' : 'Left the group');
            }
        }

        function openEditMokjangModal() {
            const memberId = localStorage.getItem('galtar_member_id');
            const mokjangCode = localStorage.getItem('galtar_mokjang_code');
            
            if (!memberId || !mokjangCode) {
                showToast(curLang === 'ko' ? 'ë“±ë¡ ì •ë³´ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤' : 'Registration info not found');
                return;
            }
            
            // í˜„ì¬ ì •ë³´ ë¡œë“œ
            const member = allMembersData.find(m => m['ID'] === memberId && m['ëª©ì¥ì½”ë“œ'] === mokjangCode);
            if (member) {
                document.getElementById('editMemberName').value = member['ì´ë¦„'] || '';
                document.getElementById('editMemberRole').value = member['ì—­í• '] || 'ëª©ì›';
            }
            
            document.getElementById('editMokjangModal').style.display = 'flex';
        }

        function closeEditMokjangModal() {
            document.getElementById('editMokjangModal').style.display = 'none';
        }

        async function saveEditMokjang() {
            const name = document.getElementById('editMemberName').value.trim();
            const role = document.getElementById('editMemberRole').value;
            const memberId = localStorage.getItem('galtar_member_id');
            const mokjangCode = localStorage.getItem('galtar_mokjang_code');
            
            if (!name) {
                showToast(curLang === 'ko' ? 'ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”' : 'Please enter your name');
                return;
            }
            
            if (!memberId || !mokjangCode) {
                showToast(curLang === 'ko' ? 'ë“±ë¡ ì •ë³´ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤' : 'Registration info not found');
                return;
            }
            
            try {
                const response = await fetch(SHEETS_API_URL, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        action: 'updateMember',
                        id: memberId,
                        mokjangCode: mokjangCode,
                        name: name,
                        role: role
                    })
                });
                
                const result = await response.json();
                
                if (result.success) {
                    showToast(curLang === 'ko' ? 'ì •ë³´ê°€ ìˆ˜ì •ë˜ì—ˆìŠµë‹ˆë‹¤' : 'Info updated');
                    closeEditMokjangModal();
                    // ë°ì´í„° ìƒˆë¡œê³ ì¹¨
                    loadMokjangData(mokjangCode);
                } else {
                    showToast(curLang === 'ko' ? 'ìˆ˜ì • ì‹¤íŒ¨: ' + (result.error || 'ì•Œ ìˆ˜ ì—†ëŠ” ì˜¤ë¥˜') : 'Update failed');
                }
            } catch (error) {
                console.error('Update error:', error);
                showToast(curLang === 'ko' ? 'ì„œë²„ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤' : 'Server error');
            }
        }

        // Google Sheets API URL
        const SHEETS_API_URL = 'https://script.google.com/macros/s/AKfycbzuXErOWs9c8pj9AJcmsi1WAXVLx8UrFS6vsHd0KDl50pVo0Hzm1Bg4O-hDFIQLaBHAqQ/exec';
        
        // ì „ì²´ ë©¤ë²„ ë°ì´í„° ìºì‹œ
        let allMembersData = [];

        async function loadMokjangData(code) {
            const mokjangNameEl = document.getElementById('mokjangName');
            const grid = document.getElementById('memberGrid');
            const completedEl = document.getElementById('mokjangCompleted');
            const totalEl = document.getElementById('mokjangTotal');
            
            mokjangNameEl.innerText = 'ë¡œë”© ì¤‘...';
            grid.innerHTML = '<p style="text-align:center; color:#666;">ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</p>';
            
            try {
                const response = await fetch(SHEETS_API_URL);
                const data = await response.json();
                allMembersData = data;
                
                // í•´ë‹¹ ëª©ì¥ ë©¤ë²„ í•„í„°ë§
                const members = data.filter(m => m['ëª©ì¥ì½”ë“œ'] === code);
                
                if (members.length === 0) {
                    mokjangNameEl.innerText = code;
                    grid.innerHTML = '<p style="text-align:center; color:#999;">ë“±ë¡ëœ ëª©ì¥ì‹êµ¬ê°€ ì—†ìŠµë‹ˆë‹¤.<br>ì‹œíŠ¸ì— ë©¤ë²„ë¥¼ ì¶”ê°€í•´ì£¼ì„¸ìš”.</p>';
                    completedEl.innerText = '0';
                    totalEl.innerText = '0';
                    return;
                }
                
                // ëª©ì¥ ì´ë¦„ í‘œì‹œ
                mokjangNameEl.innerText = members[0]['ëª©ì¥'] || code;
                
                // í˜„ì¬ ì‚¬ìš©ì ì°¾ê¸° (ì´ë¦„ìœ¼ë¡œ ë§¤ì¹­í•˜ì—¬ ID ì €ì¥)
                const myName = localStorage.getItem('galtar_name');
                if (myName) {
                    const myMember = members.find(m => m['ì´ë¦„'] === myName);
                    if (myMember && myMember['ID']) {
                        localStorage.setItem('galtar_member_id', myMember['ID']);
                    }
                }
                
                // ì˜¤ëŠ˜ ë‚ ì§œ ê¸°ì¤€ ì™„ë£Œ ì²´í¬
                const today = new Date();
                const dayNum = Math.min(21, Math.max(1, parseInt(localStorage.getItem('galtar_challenge_day') || '1')));
                const dayKey = 'Day' + dayNum;
                
                grid.innerHTML = '';
                let completedCount = 0;
                
                members.forEach(member => {
                    const isCompleted = member[dayKey] === 'âœ“';
                    if (isCompleted) completedCount++;
                    
                    const role = member['ì—­í• '] || 'ëª©ì¥ì‹êµ¬';
                    const roleIcon = role === 'ëª©ì' ? 'ğŸ‘¨â€ğŸŒ¾' : role === 'ëª©ë…€' ? 'ğŸ‘©â€ğŸŒ¾' : '';
                    
                    const div = document.createElement('div');
                    div.className = 'member-item' + (isCompleted ? ' completed' : '');
                    div.innerHTML = `
                        <div class="member-name">${roleIcon} ${member['ì´ë¦„']}</div>
                        <div class="member-status">${isCompleted ? 'âœ“' : 'â—‹'}</div>
                    `;
                    grid.appendChild(div);
                });
                
                completedEl.innerText = completedCount;
                totalEl.innerText = members.length;
                
            } catch (error) {
                console.error('ëª©ì¥ ë°ì´í„° ë¡œë“œ ì‹¤íŒ¨:', error);
                mokjangNameEl.innerText = code;
                grid.innerHTML = '<p style="text-align:center; color:#e74c3c;">ë°ì´í„° ë¡œë“œ ì‹¤íŒ¨<br>ì¸í„°ë„· ì—°ê²°ì„ í™•ì¸í•˜ì„¸ìš”.</p>';
            }
        }
        
        // ëª©ì¥ ë¦¬ë”ë³´ë“œ ë¡œë“œ
        async function loadMokjangLeaderboard() {
            const leaderboardEl = document.getElementById('mokjangLeaderboard');
            if (!leaderboardEl) return;
            
            try {
                if (allMembersData.length === 0) {
                    const response = await fetch(SHEETS_API_URL);
                    allMembersData = await response.json();
                }
                
                // ëª©ì¥ë³„ í†µê³„ ê³„ì‚°
                const mokjangStats = {};
                const dayNum = Math.min(21, Math.max(1, parseInt(localStorage.getItem('galtar_challenge_day') || '1')));
                
                allMembersData.forEach(member => {
                    const code = member['ëª©ì¥ì½”ë“œ'];
                    const name = member['ëª©ì¥'];
                    if (!code || code === 'ADMIN') return;
                    
                    if (!mokjangStats[code]) {
                        mokjangStats[code] = { name: name, total: 0, completed: 0 };
                    }
                    mokjangStats[code].total++;
                    
                    // ì „ì²´ Day ì™„ë£Œìœ¨ ê³„ì‚°
                    let daysCompleted = 0;
                    for (let d = 1; d <= dayNum; d++) {
                        if (member['Day' + d] === 'âœ“') daysCompleted++;
                    }
                    mokjangStats[code].completed += daysCompleted;
                });
                
                // ì™„ë£Œìœ¨ ê¸°ì¤€ ì •ë ¬
                const sorted = Object.entries(mokjangStats)
                    .map(([code, stats]) => ({
                        code,
                        name: stats.name,
                        rate: stats.total > 0 ? Math.round((stats.completed / (stats.total * dayNum)) * 100) : 0
                    }))
                    .sort((a, b) => b.rate - a.rate);
                
                // ë¦¬ë”ë³´ë“œ í‘œì‹œ
                const medals = ['ğŸ¥‡', 'ğŸ¥ˆ', 'ğŸ¥‰'];
                leaderboardEl.innerHTML = sorted.map((m, i) => `
                    <div style="display:flex; justify-content:space-between; align-items:center; padding:8px 0; border-bottom:1px solid #eee;">
                        <span>${i < 3 ? medals[i] : (i+1) + '.'} ${m.name}</span>
                        <span style="font-weight:700; color:${m.rate >= 80 ? '#4CAF50' : m.rate >= 50 ? '#FF9800' : '#999'};">${m.rate}%</span>
                    </div>
                `).join('');
                
            } catch (error) {
                console.error('ë¦¬ë”ë³´ë“œ ë¡œë“œ ì‹¤íŒ¨:', error);
            }
        }

        // ========== ì„¤ì • ê¸°ëŠ¥ ==========
        function openSettings() {
            document.getElementById('settingModal').classList.add('active');
            const name = localStorage.getItem('galtar_name');
            const mokjang = localStorage.getItem('galtar_mokjang');
            const journey = localStorage.getItem('galtar_journey') || 'seeker';
            const shepherdType = localStorage.getItem('galtar_shepherd_type') || 'shepherd';
            
            if(name) document.getElementById('setName').value = name;
            if(mokjang) document.getElementById('setMokjang').value = mokjang;
            document.getElementById('setJourney').value = journey;
            document.getElementById('setShepherdType').value = shepherdType;
            onJourneyChange();
        }

        function closeSettings() {
            document.getElementById('settingModal').classList.remove('active');
        }

        function saveSettings() {
            const n = document.getElementById('setName').value;
            const m = document.getElementById('setMokjang').value;
            const j = document.getElementById('setJourney').value;
            const st = document.getElementById('setShepherdType').value;
            
            if(n){ 
                localStorage.setItem('galtar_name', n); 
                localStorage.setItem('galtar_mokjang', m);
                localStorage.setItem('galtar_journey', j); 
                localStorage.setItem('galtar_shepherd_type', st);
                closeSettings();
                loadSettings(); 
                showToast('ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤');
            } else {
                showToast('ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”');
            }
        }
        
        function onJourneyChange() {
            const journey = document.getElementById('setJourney').value;
            const shepherdDetail = document.getElementById('shepherdDetail');
            
            if (journey === 'shepherd') {
                shepherdDetail.classList.add('show');
            } else {
                shepherdDetail.classList.remove('show');
            }
            
            updateJourneyVisual(journey);
        }
        
        function updateJourneyVisual(journey) {
            const stages = document.querySelectorAll('.stage-item');
            const stageMap = { seeker: 0, believer: 1, disciple: 2, shepherd: 3 };
            const activeIndex = stageMap[journey];
            
            stages.forEach((stage, index) => {
                if (index <= activeIndex) {
                    stage.classList.add('active');
                } else {
                    stage.classList.remove('active');
                }
            });
        }
        
        function loadSettings() {
            const t = lang[curLang];
            const name = localStorage.getItem('galtar_name');
            const mokjang = localStorage.getItem('galtar_mokjang');
            const journey = localStorage.getItem('galtar_journey') || 'seeker';
            const shepherdType = localStorage.getItem('galtar_shepherd_type') || 'shepherd';
            
            if(name) { 
                let roleText;
                const roleMap = {
                    seeker: t.journey_seeker,
                    believer: t.journey_believer,
                    disciple: t.journey_disciple,
                    shepherd: shepherdType === 'moknye' ? t.journey_moknye : shepherdType === 'mokbu' ? t.journey_mokbu : t.journey_shepherd
                };
                
                roleText = roleMap[journey];
                
                document.getElementById('displayName').innerText = mokjang ? mokjang : name; 
                document.getElementById('displayJourney').innerText = mokjang ? `${name} (${roleText})` : `(${roleText})`; 
                document.getElementById('t-role').innerText = roleText;
            } else {
                // í”„ë¡œí•„ì´ ì—†ì„ ë•Œ ê¸°ë³¸ í…ìŠ¤íŠ¸ (í˜„ì¬ ì–¸ì–´ì— ë§ê²Œ)
                document.getElementById('displayName').innerText = t.default_profile;
                document.getElementById('displayJourney').innerText = '';
                document.getElementById('t-role').innerText = t.default_role;
            }
        }

        // ========== ìœ í‹¸ë¦¬í‹° ==========
        function showToast(msg) {
            const toast = document.getElementById('toast');
            toast.innerText = msg;
            toast.className = 'show';
            setTimeout(() => {
                toast.className = '';
            }, 3000);
        }

        // =====================================================
// 21ì¼ ì±Œë¦°ì§€ í™•ì¥ ê¸°ëŠ¥ JavaScript
// ì´ ì½”ë“œë¥¼ index.htmlì˜ </body> íƒœê·¸ ë°”ë¡œ ìœ„, ê¸°ì¡´ <script> ì•ˆì— ì¶”ê°€í•˜ì„¸ìš”
// =====================================================

// 21ì¼ í›ˆë ¨ ë°ì´í„°
const trainingDaysData = {
    ko: [
        { day: 1, title: "ì‹œê°„ ì •ë³µ", mission: "í† ìš”ì¼ ë°¤ 10ì‹œ ì´í›„ ë¯¸ë””ì–´ ë„ê³  ì¼ì° ì·¨ì¹¨í•˜ê¸°", tip: "ì£¼ì¼ ì˜ˆë°°ì— ëŠ¦ëŠ” ê°€ì¥ í° ì´ìœ ëŠ” í† ìš”ì¼ ë°¤ ëŠ¦ê²Œ ìê¸° ë•Œë¬¸ì…ë‹ˆë‹¤." },
        { day: 2, title: "ê³µê°„ ì •ë³µ", mission: "ì§‘ì¤‘ ì˜ ë˜ëŠ” ìë¦¬ ë¯¸ë¦¬ ì •í•´ë‘ê¸°", tip: "ê°•ë‹¨ì´ ì˜ ë³´ì´ëŠ” ì¤‘ì•™ ì•ìª½ì´ ê°€ì¥ ì¢‹ìŠµë‹ˆë‹¤." },
        { day: 3, title: "ë§ˆìŒ ì •ë³µ", mission: "ì˜ˆë°° ì „ 5ë¶„ 'í•˜ë‚˜ë‹˜, ë§ì”€í•˜ì˜µì†Œì„œ' 10ë²ˆ ê³ ë°±", tip: "í•œ ë²ˆ í•œ ë²ˆì´ ê°„ì ˆí•œ ê¸°ë„ê°€ ë˜ê²Œ í•˜ì„¸ìš”." },
        { day: 4, title: "ë¹„íŒ ê¸ˆì‹", mission: "ì„¤êµìì˜ ë§íˆ¬, ì™¸ëª¨ í‰ê°€í•˜ì§€ ì•Šê¸°", tip: "'ë©”ì‹œì§€ ë³¸ì§ˆì— ì§‘ì¤‘í•˜ê²Œ í•˜ì†Œì„œ' ê¸°ë„í•˜ì„¸ìš”." },
        { day: 5, title: "ë¯¸ë””ì–´ ê¸ˆì‹", mission: "ì˜ˆë°° ê°€ëŠ” ê¸¸ì— ë‰´ìŠ¤ ëŒ€ì‹  ì°¬ì–‘ ë“£ê¸°", tip: "ì„¸ìƒ ì—¼ë ¤ ëŒ€ì‹  ì°¬ì–‘ìœ¼ë¡œ ë§ˆìŒì„ ì±„ìš°ì„¸ìš”." },
        { day: 6, title: "ê¸°ë„ ì‹¬ê¸°", mission: "ëª©ì‚¬ë‹˜ ì…ìˆ  ìœ„í•´ 3ë¶„ê°„ ì¤‘ë³´ê¸°ë„", tip: "ë‹¹ì‹ ì˜ ì¤‘ë³´ê¸°ë„ê°€ ì„¤êµìë¥¼ ë•ìŠµë‹ˆë‹¤." },
        { day: 7, title: "ì°¸íšŒí•˜ê¸°", mission: "ì§€ë‚œì£¼ ë¶ˆìˆœì¢… íšŒê°œí•˜ê¸°", tip: "íšŒê°œí•˜ì§€ ì•Šì€ ì£„ëŠ” ë§ˆìŒì„ ë‹¨ë‹¨í•˜ê²Œ ë§Œë“­ë‹ˆë‹¤." },
        { day: 8, title: "ì•„ì´ì»¨íƒ", mission: "ì„¤êµìì™€ ëˆˆ ë§ì¶”ë©° ê³ ê°œ ë„ë•ì´ê¸°", tip: "'ì•„ë©˜' ë§ˆìŒìœ¼ë¡œ ë°˜ì‘í•˜ì„¸ìš”." },
        { day: 9, title: "ë ˆë§ˆ ê¸°ë¡", mission: "í•µì‹¬ ë¬¸ì¥ í•˜ë‚˜ë§Œ êµµê²Œ ì ê¸°", tip: "'ì´ ë¬¸ì¥ì´ë‹¤!' ìˆœê°„ì„ ë†“ì¹˜ì§€ ë§ˆì„¸ìš”." },
        { day: 10, title: "ì•„ë©˜ í›ˆë ¨", mission: "ì‘ì€ ì†Œë¦¬ë¡œë¼ë„ 'ì•„ë©˜' í™”ë‹µí•˜ê¸°", tip: "ì…ìˆ ì„ ì›€ì§ì´ë©° ì†ì‚­ì´ì„¸ìš”." },
        { day: 11, title: "ì˜ì  ì¤‘ë³´", mission: "ì„¤êµìê°€ í˜ë“¤ì–´í•  ë•Œ ì†ìœ¼ë¡œ ê¸°ë„", tip: "'ì„±ë ¹ë‹˜, ë¶™ë“¤ì–´ ì£¼ì†Œì„œ' ê¸°ë„í•˜ì„¸ìš”." },
        { day: 12, title: "3ë¶„ ë¬µìƒ", mission: "ì¶•ë„ í›„ 3ë¶„ê°„ ë§ì”€ ë˜ìƒˆê¸°ê¸°", tip: "'ì´ ë§ì”€ ìŠì§€ ì•Šê²Œ í•˜ì†Œì„œ' ê¸°ë„í•˜ì„¸ìš”." },
        { day: 13, title: "ì„±ê²½ í™•ì¸", mission: "ì£¼ì¼ ë³¸ë¬¸ ì§‘ì—ì„œ ì†Œë¦¬ ë‚´ì–´ ì½ê¸°", tip: "ì²œì²œíˆ, í•œ êµ¬ì ˆì”© ì½ìœ¼ì„¸ìš”." },
        { day: 14, title: "ê°ì‚¬ í‘œí˜„", mission: "ë§ì”€ì— ëŒ€í•´ ê°ì‚¬ê¸°ë„ ë“œë¦¬ê¸°", tip: "ê°ì‚¬ëŠ” ì€í˜œë¥¼ ë¶™ì¡ëŠ” ê°€ì¥ ê°•ë ¥í•œ ë°©ë²•ì…ë‹ˆë‹¤." },
        { day: 15, title: "í•œ ì¤„ ìš”ì•½", mission: "ë§ì”€ì„ í•œ ë¬¸ì¥ìœ¼ë¡œ ìš”ì•½, ë°°ê²½í™”ë©´ ì„¤ì •", tip: "ë‚´ ì–¸ì–´ë¡œ í’€ì–´ ì“°ì„¸ìš”." },
        { day: 16, title: "ì…ìˆ  ì „íŒŒ", mission: "ê°€ì¡±ì´ë‚˜ ëª©ì¥ì— ë°›ì€ ì€í˜œ ì„¤ëª…í•˜ê¸°", tip: "ê°€ë¥´ì¹˜ëŠ” ìê°€ ê°€ì¥ ë§ì´ ë°°ì›ë‹ˆë‹¤." },
        { day: 17, title: "ì†í•´ ê°ìˆ˜", mission: "ìˆœì¢… ìœ„í•´ êµ¬ì²´ì  ì†í•´ ê°ìˆ˜í•˜ê¸°", tip: "ìˆœì¢…ì—ëŠ” ëŒ€ê°€ê°€ ë”°ë¦…ë‹ˆë‹¤." },
        { day: 18, title: "ìˆœì¢… ì ê²€", mission: "ê²°ë‹¨ ë‚´ìš© ì§€ì¼°ëŠ”ì§€ ì²´í¬í•˜ê¸°", tip: "ì‹¤íŒ¨í–ˆë‹¤ë©´ ë‹¤ì‹œ ì‹œë„í•˜ì„¸ìš”." },
        { day: 19, title: "ê²©ë ¤í•˜ê¸°", mission: "ëª©ì‚¬ë‹˜ê»˜ ìˆœì¢… ê°„ì¦ ë¬¸ì ë³´ë‚´ê¸°", tip: "êµ¬ì²´ì ì¸ ê°„ì¦ì„ ì“°ì„¸ìš”." },
        { day: 20, title: "ë‚˜ëˆ”ì˜ ë°¤", mission: "í›ˆë ¨ ì¤‘ ëŠë‚€ ë³€í™” ë‚˜ëˆ„ê¸°", tip: "í•¨ê»˜ ë‚˜ëˆ„ë©´ ë” ë©€ë¦¬ ê°‘ë‹ˆë‹¤." },
        { day: 21, title: "ì„œì•½ì‹", mission: "í‰ìƒ ê²½ì²­í•˜ëŠ” ì˜ˆë°°ì ë˜ê¸° ì„œì•½", tip: "21ì¼ì´ ëì´ ì•„ë‹ˆë¼ ì‹œì‘ì…ë‹ˆë‹¤.", isPrayer: true }
    ],
    en: [
        { day: 1, title: "Conquer Time", mission: "Turn off media after 10 PM Saturday, sleep early", tip: "The main reason for lateness is staying up late Saturday." },
        { day: 2, title: "Conquer Space", mission: "Decide your best seat in advance", tip: "Center front with clear view is best." },
        { day: 3, title: "Conquer Heart", mission: "Confess 'God, speak to me' 10 times before worship", tip: "Make each confession heartfelt." },
        { day: 4, title: "Fast from Criticism", mission: "Don't evaluate preacher's style or appearance", tip: "Pray to focus on the message's essence." },
        { day: 5, title: "Media Fast", mission: "Listen to worship music on the way to church", tip: "Fill your heart with praise." },
        { day: 6, title: "Plant Prayer", mission: "Intercede for pastor's lips for 3 minutes", tip: "Your intercession helps the preacher." },
        { day: 7, title: "Repentance", mission: "Repent of last week's disobedience", tip: "Unrepented sin hardens the heart." },
        { day: 8, title: "Eye Contact", mission: "Make eye contact and nod with preacher", tip: "Respond with an 'Amen' heart." },
        { day: 9, title: "Record Rhema", mission: "Write only one core sentence in bold", tip: "Don't miss the 'This is it!' moment." },
        { day: 10, title: "Amen Training", mission: "Respond with 'Amen' even quietly", tip: "Whisper softly." },
        { day: 11, title: "Intercession", mission: "Pray silently when preacher struggles", tip: "Pray 'Holy Spirit, hold them now.'" },
        { day: 12, title: "3-Min Meditation", mission: "Sit 3 minutes after benediction", tip: "Pray 'Help me not forget this Word.'" },
        { day: 13, title: "Scripture Check", mission: "Read sermon passage aloud at home", tip: "Read slowly, verse by verse." },
        { day: 14, title: "Gratitude", mission: "Pray thanksgiving for the Word", tip: "Gratitude holds onto grace." },
        { day: 15, title: "One-Line Summary", mission: "Summarize and set as phone wallpaper", tip: "Write in your own words." },
        { day: 16, title: "Verbal Sharing", mission: "Explain grace to family or group", tip: "Those who teach learn most." },
        { day: 17, title: "Accept Loss", mission: "Accept a cost for obedience", tip: "Obedience has a price." },
        { day: 18, title: "Obedience Check", mission: "Check if you kept commitment", tip: "If failed, try again." },
        { day: 19, title: "Encouragement", mission: "Send pastor a testimony message", tip: "Write specific testimony." },
        { day: 20, title: "Sharing Night", mission: "Share changes from training", tip: "Sharing takes us further." },
        { day: 21, title: "Covenant", mission: "Covenant to be lifelong listening worshiper", tip: "Day 21 is the beginning.", isPrayer: true }
    ]
};

const assessmentQData = {
    ko: [
        "ì˜ˆë°° 10ë¶„ ì „ì— ë„ì°©í•˜ì—¬ ë§ˆìŒì„ ì¤€ë¹„í–ˆìŠµë‹ˆê¹Œ?",
        "ì„¤êµ ë‚´ë‚´ íœ´ëŒ€í°ì„ ë³´ì§€ ì•Šê³  ì§‘ì¤‘í–ˆìŠµë‹ˆê¹Œ?",
        "ì„¤êµ ì „í›„ë¡œ 'í•˜ë‚˜ë‹˜, ë§ì”€í•˜ì†Œì„œ' ê¸°ë„í–ˆìŠµë‹ˆê¹Œ?",
        "ë”´ìƒê°ì„ ì˜ì§€ì ìœ¼ë¡œ ëŠì–´ë‚´ê³  ë‹¤ì‹œ ì§‘ì¤‘í–ˆìŠµë‹ˆê¹Œ?",
        "ì±…ë§ì˜ ë§ì”€ë„ 'ì•„ë©˜'ìœ¼ë¡œ ë°›ì•„ë“¤ì˜€ìŠµë‹ˆê¹Œ?",
        "ë©”ì‹œì§€ ë³¸ì§ˆì— ì§‘ì¤‘í–ˆìŠµë‹ˆê¹Œ? (ìŠ¤íƒ€ì¼ ì•„ë‹Œ)",
        "ì‹¤ì²œí•  í•œ ê°€ì§€ë¥¼ ì •í–ˆìŠµë‹ˆê¹Œ?",
        "ì£¼ì¤‘ì— ì‹¤ì œë¡œ ì ìš©í•˜ë ¤ ë…¸ë ¥í–ˆìŠµë‹ˆê¹Œ?"
    ],
    en: [
        "Did you arrive 10 min early to prepare?",
        "Did you stay focused without checking phone?",
        "Did you pray 'God, speak to me'?",
        "Did you consciously refocus when distracted?",
        "Did you receive rebuke with 'Amen'?",
        "Did you focus on message essence?",
        "Did you decide one thing to practice?",
        "Did you try to apply it during week?"
    ]
};

const prayerTextData = {
    ko: `ì‚¬ë‘í•˜ëŠ” í•˜ë‚˜ë‹˜ ì•„ë²„ì§€,
ì§€ë‚œ 21ì¼ ë™ì•ˆ ì œ ê·€ë¥¼ ì—´ì–´ ì£¼ì‹œê³ ,
ë§ì”€ì„ ë“£ê³  ìˆœì¢…í•˜ëŠ” í›ˆë ¨ì„ ì‹œì¼œ ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤.

ì´ì œ ì €ëŠ” ê³ ë°±í•©ë‹ˆë‹¤.
ì €ëŠ” ë” ì´ìƒ ì„¤êµë¥¼ ì†Œë¹„í•˜ëŠ” ì²­ì¤‘ì´ ì•„ë‹ˆë¼,
ë§ì”€ì„ ì‚¬ëª¨í•˜ê³ , ë“£ê³ , ìˆœì¢…í•˜ëŠ” ì˜ˆë°°ìì…ë‹ˆë‹¤.

ì£¼ë‹˜, ì•ìœ¼ë¡œë„ ì œ ê·€ë¥¼ ì—´ì–´ ì£¼ì‹œê³ ,
ë§ˆìŒì„ ë¶€ë“œëŸ½ê²Œ í•˜ì‹œë©°,
ë°œì„ ìˆœì¢…ì˜ ê¸¸ë¡œ ì¸ë„í•˜ì—¬ ì£¼ì˜µì†Œì„œ.

ì˜ˆìˆ˜ ê·¸ë¦¬ìŠ¤ë„ì˜ ì´ë¦„ìœ¼ë¡œ ê¸°ë„í•©ë‹ˆë‹¤. ì•„ë©˜.`,
    en: `Dear Heavenly Father,
Thank You for opening my ears over 21 days
and training me to hear and obey Your Word.

Now I confess:
I am no longer a consumer of sermons,
but a worshiper who longs for, hears, and obeys.

Lord, continue to open my ears,
soften my heart, and guide my feet on obedience.

In Jesus Christ's name. Amen.`
};

// ì™„ë£Œëœ ì¼ìˆ˜ ì €ì¥
let trainingCompleted = JSON.parse(localStorage.getItem('trainingCompleted') || '[]');

// í˜„ì¬ ì–¸ì–´ ê°€ì ¸ì˜¤ê¸° (ê¸°ì¡´ ì‚¬ì´íŠ¸ì˜ curLang ë³€ìˆ˜ ì‚¬ìš©)
function getCurrentLang() {
    // curLangì€ ì „ì—­ ë³€ìˆ˜ë¡œ toggleLang()ì—ì„œ ê´€ë¦¬ë¨
    return typeof curLang !== 'undefined' ? curLang : (localStorage.getItem('lang') || 'ko');
}

// ì±Œë¦°ì§€ ì„¹ì…˜ ì „í™˜
function showChallengeSection(sectionId) {
    // ëª¨ë“  ì„¹ì…˜ ìˆ¨ê¸°ê¸°
    document.querySelectorAll('.challenge-section').forEach(s => s.style.display = 'none');
    // ì„ íƒëœ ì„¹ì…˜ ë³´ì´ê¸°
    document.getElementById('section-' + sectionId).style.display = 'block';
    
    // íƒ­ ë²„íŠ¼ ìŠ¤íƒ€ì¼ ë³€ê²½
    document.querySelectorAll('.challenge-tab-btn').forEach(btn => {
        btn.style.background = 'transparent';
        btn.style.color = '#666';
    });
    event.target.style.background = 'var(--navy)';
    event.target.style.color = 'white';
    
    // ì„¹ì…˜ë³„ ì´ˆê¸°í™”
    if (sectionId === 'training') renderTrainingDays();
}

// ìê°€ ì§„ë‹¨ ë Œë”ë§
function renderAssessment() {
    const currentLang = (typeof curLang !== 'undefined') ? curLang : 'ko';
    const questions = assessmentQData[currentLang];
    const container = document.getElementById('assessmentContainer');
    if (!container) return;
    
    let html = '';
    questions.forEach((q, i) => {
        html += `
            <div class="card" style="margin-bottom:10px;">
                <p style="font-size:14px; margin-bottom:10px;"><strong>${i+1}.</strong> ${q}</p>
                <div style="display:flex; gap:10px; justify-content:center;">
                    ${[1,2,3,4,5].map(n => `
                        <label style="display:flex; flex-direction:column; align-items:center; cursor:pointer;">
                            <input type="radio" name="assess${i}" value="${n}" onchange="calcAssessmentScore()" style="margin-bottom:3px;">
                            <span style="font-size:12px;">${n}</span>
                        </label>
                    `).join('')}
                </div>
            </div>
        `;
    });
    container.innerHTML = html;
}

// ìê°€ ì§„ë‹¨ ì ìˆ˜ ê³„ì‚°
function calcAssessmentScore() {
    // curLang ì§ì ‘ ì‚¬ìš© (ê°™ì€ ìŠ¤í¬ë¦½íŠ¸ ë¸”ë¡ ë‚´ ì „ì—­ ë³€ìˆ˜)
    const currentLang = (typeof curLang !== 'undefined') ? curLang : 'ko';
    let total = 0;
    for (let i = 0; i < 8; i++) {
        const sel = document.querySelector(`input[name="assess${i}"]:checked`);
        if (sel) total += parseInt(sel.value);
    }
    document.getElementById('assessmentTotal').textContent = total;
    
    const resultDiv = document.getElementById('assessmentResult');
    const titleEl = document.getElementById('assessmentResultTitle');
    const textEl = document.getElementById('assessmentResultText');
    
    if (total > 0) {
        resultDiv.style.display = 'block';
        if (currentLang === 'ko') {
            if (total >= 35) {
                titleEl.textContent = 'ğŸŒ¾ ì˜¥í†  (Good Soil)';
                textEl.textContent = 'ì¶•í•˜í•©ë‹ˆë‹¤! ê±´ê°•í•œ ì²­ì¤‘ì…ë‹ˆë‹¤.';
            } else if (total >= 25) {
                titleEl.textContent = 'ğŸŒ± ì„±ì¥ ì¤‘';
                textEl.textContent = 'ì¢‹ì€ ì¶œë°œ! í›ˆë ¨ìœ¼ë¡œ ë” ì„±ì¥í•  ê±°ì˜ˆìš”.';
            } else {
                titleEl.textContent = 'ğŸ”¨ í›ˆë ¨ í•„ìš”';
                textEl.textContent = '21ì¼ í›ˆë ¨ì´ í° ë³€í™”ë¥¼ ê°€ì ¸ì˜¬ ê±°ì˜ˆìš”!';
            }
        } else {
            if (total >= 35) {
                titleEl.textContent = 'ğŸŒ¾ Good Soil';
                textEl.textContent = 'Congratulations! You are a healthy listener.';
            } else if (total >= 25) {
                titleEl.textContent = 'ğŸŒ± Growing';
                textEl.textContent = 'Good start! Training will help you grow.';
            } else {
                titleEl.textContent = 'ğŸ”¨ Needs Training';
                textEl.textContent = '21-day training will bring great change!';
            }
        }
    }
}

// 21ì¼ í›ˆë ¨ ë Œë”ë§
function renderTrainingDays() {
    const currentLang = (typeof curLang !== 'undefined') ? curLang : 'ko';
    const days = trainingDaysData[currentLang];
    const missionLabel = currentLang === 'ko' ? 'ì˜¤ëŠ˜ì˜ ë¯¸ì…˜' : "Today's Mission";
    const tipLabel = currentLang === 'ko' ? 'ì‹¤ì²œ íŒ' : 'Practice Tip';
    const prayerTitle = currentLang === 'ko' ? 'ğŸ™ í‰ìƒ ê²½ì²­ ì„œì•½ ê¸°ë„ë¬¸' : 'ğŸ™ Covenant Prayer';
    
    let week1 = '', week2 = '', week3 = '';
    
    days.forEach((d, i) => {
        const isCompleted = trainingCompleted.includes(d.day);
        const prayerHTML = d.isPrayer ? `
            <div style="background:#E8F5E9; border-left:3px solid #4CAF50; padding:12px; margin-top:10px; border-radius:0 8px 8px 0;">
                <p style="font-weight:700; color:var(--navy); margin-bottom:8px;">${prayerTitle}</p>
                <p style="font-style:italic; font-size:13px; white-space:pre-line;">${prayerTextData[currentLang]}</p>
            </div>
        ` : '';
        
        const cardHTML = `
            <div class="card training-day-card ${isCompleted ? 'completed' : ''}" id="trainDay${d.day}" style="margin-bottom:10px; ${isCompleted ? 'border-left:4px solid #4CAF50; background:#E8F5E9;' : ''}">
                <div style="display:flex; align-items:center; gap:10px; cursor:pointer;" onclick="toggleDayDetail(${d.day})">
                    <input type="checkbox" ${isCompleted ? 'checked' : ''} onclick="event.stopPropagation(); toggleDayComplete(${d.day})" style="width:20px; height:20px; accent-color:#4CAF50;">
                    <span style="background:${isCompleted ? '#4CAF50' : 'var(--navy)'}; color:white; padding:3px 10px; border-radius:12px; font-size:12px;">Day ${d.day}</span>
                    <span style="flex:1; font-weight:600; font-size:14px;">${d.title}</span>
                    <span class="day-toggle-icon" id="toggle${d.day}">â–¼</span>
                </div>
                <div class="day-detail" id="detail${d.day}" style="display:none; margin-top:12px; padding-top:12px; border-top:1px solid #eee;">
                    <div style="background:#FFF9C4; border-left:3px solid #FFC107; padding:10px; margin-bottom:8px; border-radius:0 6px 6px 0;">
                        <p style="font-weight:700; font-size:12px; color:var(--navy);">ğŸ“Œ ${missionLabel}</p>
                        <p style="font-size:13px;">${d.mission}</p>
                    </div>
                    <div style="background:#E3F2FD; border-left:3px solid #2196F3; padding:10px; border-radius:0 6px 6px 0;">
                        <p style="font-weight:700; font-size:12px; color:#1565C0;">ğŸ’¡ ${tipLabel}</p>
                        <p style="font-size:13px;">${d.tip}</p>
                    </div>
                    ${prayerHTML}
                </div>
            </div>
        `;
        
        if (i < 7) week1 += cardHTML;
        else if (i < 14) week2 += cardHTML;
        else week3 += cardHTML;
    });
    
    const w1 = document.getElementById('week1Container');
    const w2 = document.getElementById('week2Container');
    const w3 = document.getElementById('week3Container');
    if (w1) w1.innerHTML = week1;
    if (w2) w2.innerHTML = week2;
    if (w3) w3.innerHTML = week3;
    
    updateTrainingProgress();
}

// Day ìƒì„¸ í† ê¸€
function toggleDayDetail(day) {
    const detail = document.getElementById('detail' + day);
    const icon = document.getElementById('toggle' + day);
    if (detail.style.display === 'none') {
        detail.style.display = 'block';
        icon.textContent = 'â–²';
    } else {
        detail.style.display = 'none';
        icon.textContent = 'â–¼';
    }
}

// Day ì™„ë£Œ í† ê¸€
function toggleDayComplete(day) {
    if (trainingCompleted.includes(day)) {
        trainingCompleted = trainingCompleted.filter(d => d !== day);
    } else {
        trainingCompleted.push(day);
    }
    localStorage.setItem('trainingCompleted', JSON.stringify(trainingCompleted));
    renderTrainingDays();
}

// ì§„í–‰ë¥  ì—…ë°ì´íŠ¸
function updateTrainingProgress() {
    const count = trainingCompleted.length;
    const pct = (count / 21) * 100;
    
    const daysEl = document.getElementById('trainingProgressDays');
    const barEl = document.getElementById('trainingProgressBar');
    
    if (daysEl) daysEl.textContent = count;
    if (barEl) barEl.style.width = pct + '%';
}

// ì§„í–‰ ì´ˆê¸°í™”
function resetTrainingProgress() {
    const currentLang = (typeof curLang !== 'undefined') ? curLang : 'ko';
    const msg = currentLang === 'ko' ? 'ì •ë§ë¡œ ì´ˆê¸°í™”í•˜ì‹œê² ìŠµë‹ˆê¹Œ?' : 'Reset all progress?';
    if (confirm(msg)) {
        trainingCompleted = [];
        localStorage.setItem('trainingCompleted', JSON.stringify([]));
        renderTrainingDays();
    }
}

// í˜ì´ì§€ ë¡œë“œ ì‹œ ì´ˆê¸°í™”
document.addEventListener('DOMContentLoaded', function() {
    // ìê°€ ì§„ë‹¨ ë Œë”ë§
    if (document.getElementById('assessmentContainer')) {
        renderAssessment();
    }
    // 21ì¼ í›ˆë ¨ ë Œë”ë§
    if (document.getElementById('week1Container')) {
        renderTrainingDays();
    }

    // ============================================
    // FIREBASE ì´ˆê¸°í™” ë° ì¸ì¦
    // ============================================
    
    // Firebase ì„¤ì •
    const firebaseConfig = {
        apiKey: "AIzaSyAXYxfn6-rKCgelRE3GMO8d9zFykS76hng",
        authDomain: "hebron-ijiguchon.firebaseapp.com",
        projectId: "hebron-ijiguchon",
        storageBucket: "hebron-ijiguchon.firebasestorage.app",
        messagingSenderId: "290054266382",
        appId: "1:290054266382:web:f7cdcf0ff441b943b9e65f"
    };

    // Firebase ì´ˆê¸°í™”
    let app, auth, db;
    let currentUser = null;
    let userProfile = null;

    try {
        app = firebase.initializeApp(firebaseConfig);
        auth = firebase.auth();
        db = firebase.firestore();
        console.log('âœ… Firebase ì´ˆê¸°í™” ì„±ê³µ');
    } catch (error) {
        console.error('âŒ Firebase ì´ˆê¸°í™” ì‹¤íŒ¨:', error);
    }

    // ============================================
    // ì‚¬ìš©ì ì¸ì¦ ìƒíƒœ ê´€ë¦¬
    // ============================================
    
    auth.onAuthStateChanged(async (user) => {
        if (user) {
            currentUser = user;
            console.log('âœ… ë¡œê·¸ì¸ë¨:', user.email);
            
            // ì‚¬ìš©ì í”„ë¡œí•„ ë¡œë“œ
            await loadUserProfile(user.uid);
            
            // ë¡œê·¸ì¸ í™”ë©´ ìˆ¨ê¸°ê³  ì•± í™”ë©´ ë³´ì´ê¸°
            showApp();
            
            // Firestoreì—ì„œ ë°ì´í„° ë¡œë“œ
            await loadFromFirestore();
            
        } else {
            currentUser = null;
            userProfile = null;
            console.log('âŒ ë¡œê·¸ì•„ì›ƒ ìƒíƒœ');
            
            // ì•± í™”ë©´ ìˆ¨ê¸°ê³  ë¡œê·¸ì¸ í™”ë©´ ë³´ì´ê¸°
            showLogin();
        }
    });

    // ============================================
    // ë¡œê·¸ì¸ / ë¡œê·¸ì•„ì›ƒ
    // ============================================
    
    async function googleLogin() {
        const provider = new firebase.auth.GoogleAuthProvider();
        provider.setCustomParameters({
            prompt: 'select_account'
        });
        
        try {
            const result = await auth.signInWithPopup(provider);
            console.log('âœ… Google ë¡œê·¸ì¸ ì„±ê³µ:', result.user.email);
            
            // ì‹ ê·œ ì‚¬ìš©ìì¸ì§€ í™•ì¸
            const userDoc = await db.collection('users').doc(result.user.uid).get();
            
            if (!userDoc.exists) {
                // ì‹ ê·œ ì‚¬ìš©ì - í”„ë¡œí•„ ì„¤ì • í™”ë©´ ë³´ì´ê¸°
                await showProfileSetup(result.user);
            }
            
        } catch (error) {
            console.error('âŒ ë¡œê·¸ì¸ ì‹¤íŒ¨:', error);
            alert('ë¡œê·¸ì¸ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤: ' + error.message);
        }
    }

    async function logout() {
        if (confirm(currentLang === 'ko' ? 'ë¡œê·¸ì•„ì›ƒ í•˜ì‹œê² ìŠµë‹ˆê¹Œ?' : 'Do you want to log out?')) {
            try {
                await auth.signOut();
                console.log('âœ… ë¡œê·¸ì•„ì›ƒ ì„±ê³µ');
            } catch (error) {
                console.error('âŒ ë¡œê·¸ì•„ì›ƒ ì‹¤íŒ¨:', error);
            }
        }
    }

    // ============================================
    // ì‚¬ìš©ì í”„ë¡œí•„ ê´€ë¦¬
    // ============================================
    
    async function loadUserProfile(uid) {
        try {
            const doc = await db.collection('users').doc(uid).get();
            if (doc.exists) {
                userProfile = doc.data();
                console.log('âœ… í”„ë¡œí•„ ë¡œë“œ:', userProfile);
                updateUIWithProfile();
            } else {
                console.log('âš ï¸ í”„ë¡œí•„ ì—†ìŒ - ì„¤ì • í•„ìš”');
            }
        } catch (error) {
            console.error('âŒ í”„ë¡œí•„ ë¡œë“œ ì‹¤íŒ¨:', error);
        }
    }

    async function saveUserProfile(profileData) {
        if (!currentUser) return;
        
        try {
            await db.collection('users').doc(currentUser.uid).set({
                ...profileData,
                email: currentUser.email,
                displayName: currentUser.displayName,
                photoURL: currentUser.photoURL,
                updatedAt: firebase.firestore.FieldValue.serverTimestamp()
            }, { merge: true });
            
            userProfile = profileData;
            console.log('âœ… í”„ë¡œí•„ ì €ì¥ ì„±ê³µ');
            updateUIWithProfile();
        } catch (error) {
            console.error('âŒ í”„ë¡œí•„ ì €ì¥ ì‹¤íŒ¨:', error);
            throw error;
        }
    }

    // ============================================
    // Firestore ë°ì´í„° ë™ê¸°í™”
    // ============================================
    
    async function loadFromFirestore() {
        if (!currentUser) return;
        
        try {
            // ì¼ì§€ ë¡œë“œ
            const journalsSnapshot = await db.collection('journals')
                .where('userId', '==', currentUser.uid)
                .orderBy('createdAt', 'desc')
                .get();
            
            const journals = [];
            journalsSnapshot.forEach(doc => {
                journals.push({ id: doc.id, ...doc.data() });
            });
            
            // localStorageì— ì €ì¥ (ì˜¤í”„ë¼ì¸ ì§€ì›)
            localStorage.setItem('journals', JSON.stringify(journals));
            
            console.log(`âœ… Firestoreì—ì„œ ${journals.length}ê°œ ì¼ì§€ ë¡œë“œ`);
            
            // í™”ë©´ ì—…ë°ì´íŠ¸
            loadJournals();
            
        } catch (error) {
            console.error('âŒ Firestore ë¡œë“œ ì‹¤íŒ¨:', error);
            // ì‹¤íŒ¨í•´ë„ localStorage ë°ì´í„° ì‚¬ìš©
            loadJournals();
        }
    }

    async function saveToFirestore(journalData) {
        if (!currentUser) {
            console.warn('âš ï¸ ë¡œê·¸ì¸ í•„ìš” - localStorageë§Œ ì €ì¥');
            return null;
        }
        
        try {
            const docData = {
                ...journalData,
                userId: currentUser.uid,
                mokjang: userProfile?.mokjang || '',
                privacyLevel: userProfile?.privacyLevel || 1,
                createdAt: firebase.firestore.FieldValue.serverTimestamp(),
                updatedAt: firebase.firestore.FieldValue.serverTimestamp()
            };
            
            const docRef = await db.collection('journals').add(docData);
            console.log('âœ… Firestore ì €ì¥ ì„±ê³µ:', docRef.id);
            
            // ì—°ì† ë¬µìƒì¼ ì—…ë°ì´íŠ¸
            await updateUserStreak();
            
            return docRef.id;
            
        } catch (error) {
            console.error('âŒ Firestore ì €ì¥ ì‹¤íŒ¨:', error);
            return null;
        }
    }

    async function updateFirestoreJournal(journalId, journalData) {
        if (!currentUser || !journalId) return;
        
        try {
            await db.collection('journals').doc(journalId).update({
                ...journalData,
                updatedAt: firebase.firestore.FieldValue.serverTimestamp()
            });
            
            console.log('âœ… Firestore ì—…ë°ì´íŠ¸ ì„±ê³µ');
        } catch (error) {
            console.error('âŒ Firestore ì—…ë°ì´íŠ¸ ì‹¤íŒ¨:', error);
        }
    }

    async function deleteFromFirestore(journalId) {
        if (!currentUser || !journalId) return;
        
        try {
            await db.collection('journals').doc(journalId).delete();
            console.log('âœ… Firestore ì‚­ì œ ì„±ê³µ');
        } catch (error) {
            console.error('âŒ Firestore ì‚­ì œ ì‹¤íŒ¨:', error);
        }
    }
    
    // ============================================
    // ì—°ì† ë¬µìƒì¼ ê³„ì‚°
    // ============================================
    
    async function updateUserStreak() {
        if (!currentUser) return;
        
        try {
            // ì‚¬ìš©ìì˜ ëª¨ë“  ì¼ì§€ë¥¼ ë‚ ì§œìˆœìœ¼ë¡œ ê°€ì ¸ì˜¤ê¸°
            const journalsSnapshot = await db.collection('journals')
                .where('userId', '==', currentUser.uid)
                .orderBy('createdAt', 'desc')
                .get();
            
            if (journalsSnapshot.empty) {
                await db.collection('users').doc(currentUser.uid).update({ streak: 1 });
                return;
            }
            
            const journals = [];
            journalsSnapshot.forEach(doc => {
                const data = doc.data();
                if (data.createdAt) {
                    journals.push(data.createdAt.toDate());
                }
            });
            
            // ì—°ì†ì¼ ê³„ì‚°
            let streak = 0;
            const today = new Date();
            today.setHours(0, 0, 0, 0);
            
            for (let i = 0; i < journals.length; i++) {
                const journalDate = new Date(journals[i]);
                journalDate.setHours(0, 0, 0, 0);
                
                const expectedDate = new Date(today);
                expectedDate.setDate(expectedDate.getDate() - streak);
                
                const diffDays = Math.floor((expectedDate - journalDate) / (1000 * 60 * 60 * 24));
                
                if (diffDays === 0) {
                    streak++;
                } else if (diffDays > 0) {
                    break;
                }
            }
            
            // Firestore ì—…ë°ì´íŠ¸
            await db.collection('users').doc(currentUser.uid).update({
                streak: streak,
                lastJournalDate: firebase.firestore.FieldValue.serverTimestamp()
            });
            
            // ë¡œì»¬ í”„ë¡œí•„ ì—…ë°ì´íŠ¸
            if (userProfile) {
                userProfile.streak = streak;
            }
            
            console.log(`âœ… ì—°ì† ë¬µìƒì¼ ì—…ë°ì´íŠ¸: ${streak}ì¼`);
            
        } catch (error) {
            console.error('âŒ ì—°ì† ë¬µìƒì¼ ì—…ë°ì´íŠ¸ ì‹¤íŒ¨:', error);
        }
    }

    // ============================================
    // UI ì—…ë°ì´íŠ¸
    // ============================================
    
    function showLogin() {
        // ë¡œê·¸ì¸ í™”ë©´ ìƒì„± ë° í‘œì‹œ
        const loginHTML = `
            <div id="login-screen" style="position: fixed; top: 0; left: 0; right: 0; bottom: 0; 
                 background: linear-gradient(135deg, #152E5A, #1F4788); 
                 display: flex; flex-direction: column; justify-content: center; align-items: center; z-index: 9999;">
                
                <div style="text-align: center; color: white; margin-bottom: 40px;">
                    <h1 style="font-size: 3.5rem; font-weight: 800; margin-bottom: 10px; 
                        text-shadow: 0 2px 10px rgba(0,0,0,0.3);">Hebron</h1>
                    <p style="font-size: 1.3rem; color: #C9A227; margin-bottom: 8px; letter-spacing: 2px;">ì°½ì„¸ê¸° 13:14</p>
                    <p style="font-size: 1.1rem; opacity: 0.9;">í•˜ë‚˜ë‹˜ê³¼ ì—°í•©í•˜ëŠ” ë‚˜ì˜ ì œë‹¨</p>
                </div>
                
                <button onclick="googleLogin()" style="
                    background: white; color: #333; border: none; border-radius: 50px;
                    padding: 15px 40px; font-size: 1.1rem; font-weight: 600;
                    cursor: pointer; box-shadow: 0 4px 15px rgba(0,0,0,0.2);
                    display: flex; align-items: center; gap: 12px; transition: all 0.3s;">
                    <svg width="20" height="20" viewBox="0 0 20 20">
                        <path fill="#4285F4" d="M19.6 10.23c0-.82-.1-1.42-.25-2.05H10v3.72h5.5c-.15.96-.74 2.31-2.04 3.22v2.45h3.16c1.89-1.73 2.98-4.3 2.98-7.34z"/>
                        <path fill="#34A853" d="M13.46 15.13c-.83.59-1.96 1-3.46 1-2.64 0-4.88-1.74-5.68-4.15H1.07v2.52C2.72 17.75 6.09 20 10 20c2.7 0 4.96-.89 6.62-2.42l-3.16-2.45z"/>
                        <path fill="#FBBC05" d="M3.99 10c0-.69.12-1.35.32-1.97V5.51H1.07A9.973 9.973 0 000 10c0 1.61.39 3.14 1.07 4.49l3.24-2.52c-.2-.62-.32-1.28-.32-1.97z"/>
                        <path fill="#EA4335" d="M10 3.88c1.88 0 3.13.81 3.85 1.48l2.84-2.76C14.96.99 12.7 0 10 0 6.09 0 2.72 2.25 1.07 5.51l3.24 2.52C5.12 5.62 7.36 3.88 10 3.88z"/>
                    </svg>
                    Googleë¡œ ë¡œê·¸ì¸
                </button>
                
                <p style="color: rgba(255,255,255,0.7); margin-top: 30px; font-size: 0.9rem;">
                    ë¡œê·¸ì¸í•˜ì—¬ ë¬µìƒ ì¼ì§€ë¥¼ í‰ìƒ ë³´ê´€í•˜ì„¸ìš”
                </p>
            </div>
        `;
        
        // ê¸°ì¡´ ë¡œê·¸ì¸ í™”ë©´ ì œê±°
        const existing = document.getElementById('login-screen');
        if (existing) existing.remove();
        
        // ìƒˆ ë¡œê·¸ì¸ í™”ë©´ ì¶”ê°€
        document.body.insertAdjacentHTML('beforeend', loginHTML);
        
        // ì•± í™”ë©´ ìˆ¨ê¸°ê¸°
        const appContent = document.querySelector('header')?.parentElement;
        if (appContent) appContent.style.display = 'none';
    }

    function showApp() {
        // ë¡œê·¸ì¸ í™”ë©´ ì œê±°
        const loginScreen = document.getElementById('login-screen');
        if (loginScreen) loginScreen.remove();
        
        // ì•± í™”ë©´ ë³´ì´ê¸°
        const appContent = document.querySelector('header')?.parentElement;
        if (appContent) appContent.style.display = 'block';
        
        // í”„ë¡œí•„ UI ì¶”ê°€
        addProfileUI();
    }

    function addProfileUI() {
        if (!currentUser) return;
        
        // í—¤ë”ì— í”„ë¡œí•„ ì‚¬ì§„ ì¶”ê°€
        const headerTop = document.querySelector('.header-top');
        if (headerTop && !document.getElementById('user-profile-btn')) {
            const profileBtn = document.createElement('button');
            profileBtn.id = 'user-profile-btn';
            profileBtn.style.cssText = `
                background: none; border: none; cursor: pointer;
                width: 40px; height: 40px; border-radius: 50%;
                overflow: hidden; padding: 0;
            `;
            
            if (currentUser.photoURL) {
                profileBtn.innerHTML = `<img src="${currentUser.photoURL}" style="width: 100%; height: 100%; object-fit: cover;">`;
            } else {
                profileBtn.innerHTML = `<div style="width: 100%; height: 100%; background: #C9A227; 
                    display: flex; align-items: center; justify-content: center; color: white; font-weight: bold;">
                    ${currentUser.email?.[0]?.toUpperCase() || 'U'}</div>`;
            }
            
            profileBtn.onclick = () => showProfileMenu();
            headerTop.appendChild(profileBtn);
        }
    }

    function showProfileMenu() {
        const menu = `
            <div id="profile-menu" style="position: fixed; top: 60px; right: 20px; 
                 background: white; border-radius: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.2);
                 padding: 15px; min-width: 200px; z-index: 9999;">
                <div style="margin-bottom: 12px; padding-bottom: 12px; border-bottom: 1px solid #eee;">
                    <div style="font-weight: 600; margin-bottom: 4px;">${currentUser.displayName || 'ì‚¬ìš©ì'}</div>
                    <div style="font-size: 0.85rem; color: #666;">${currentUser.email}</div>
                </div>
                <button onclick="showSettings()" style="width: 100%; text-align: left; background: none; 
                    border: none; padding: 10px; cursor: pointer; border-radius: 6px; margin-bottom: 5px;">
                    âš™ï¸ ì„¤ì •
                </button>
                <button onclick="logout()" style="width: 100%; text-align: left; background: none; 
                    border: none; padding: 10px; cursor: pointer; color: #d32f2f; border-radius: 6px;">
                    ğŸšª ë¡œê·¸ì•„ì›ƒ
                </button>
            </div>
        `;
        
        // ê¸°ì¡´ ë©”ë‰´ ì œê±°
        const existing = document.getElementById('profile-menu');
        if (existing) {
            existing.remove();
            return;
        }
        
        // ìƒˆ ë©”ë‰´ ì¶”ê°€
        document.body.insertAdjacentHTML('beforeend', menu);
        
        // ë©”ë‰´ ì™¸ë¶€ í´ë¦­ ì‹œ ë‹«ê¸°
        setTimeout(() => {
            document.addEventListener('click', function closeMenu(e) {
                if (!e.target.closest('#profile-menu') && !e.target.closest('#user-profile-btn')) {
                    const menu = document.getElementById('profile-menu');
                    if (menu) menu.remove();
                    document.removeEventListener('click', closeMenu);
                }
            });
        }, 100);
    }

    function updateUIWithProfile() {
        if (!userProfile) return;
        
        // ëª©ì¥ ì´ë¦„ í‘œì‹œ ë“± UI ì—…ë°ì´íŠ¸
        console.log('UI ì—…ë°ì´íŠ¸:', userProfile);
    }

    // ============================================
    // í”„ë¡œí•„ ì„¤ì • í™”ë©´
    // ============================================
    
    async function showProfileSetup(user) {
        const setupHTML = `
            <div id="profile-setup" style="position: fixed; top: 0; left: 0; right: 0; bottom: 0; 
                 background: rgba(0,0,0,0.8); display: flex; justify-content: center; align-items: center; z-index: 9999;">
                <div style="background: white; border-radius: 20px; padding: 30px; max-width: 400px; width: 90%;">
                    <h2 style="color: var(--navy); margin-bottom: 20px; text-align: center;">í”„ë¡œí•„ ì„¤ì •</h2>
                    
                    <div style="margin-bottom: 20px;">
                        <label style="display: block; margin-bottom: 8px; font-weight: 600;">ì´ë¦„</label>
                        <input type="text" id="setup-name" value="${user.displayName || ''}" 
                               style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 8px; font-size: 1rem;">
                    </div>
                    
                    <div style="margin-bottom: 20px;">
                        <label style="display: block; margin-bottom: 8px; font-weight: 600;">ëª©ì¥ ì„ íƒ</label>
                        <select id="setup-mokjang" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 8px; font-size: 1rem;">
                            <option value="">ëª©ì¥ì„ ì„ íƒí•˜ì„¸ìš”</option>
                            <option value="mokjang1">ì•„ë¸Œë¼í•¨ ëª©ì¥</option>
                            <option value="mokjang2">ëª¨ì„¸ ëª©ì¥</option>
                            <option value="mokjang3">ë‹¤ìœ— ëª©ì¥</option>
                        </select>
                    </div>
                    
                    <div style="margin-bottom: 25px;">
                        <label style="display: block; margin-bottom: 12px; font-weight: 600;">ë¬µìƒ ê³µê°œ ë²”ìœ„</label>
                        <div style="background: #f5f5f5; padding: 15px; border-radius: 8px;">
                            <label style="display: flex; align-items: center; margin-bottom: 10px; cursor: pointer;">
                                <input type="radio" name="privacy" value="1" checked style="margin-right: 10px;">
                                <div>
                                    <div style="font-weight: 500;">ë ˆë²¨ 1: ë¬µìƒ ì—¬ë¶€ë§Œ</div>
                                    <div style="font-size: 0.85rem; color: #666;">ëª©ì¥ ì‹êµ¬ë“¤ì´ ë‚´ê°€ ë¬µìƒí–ˆëŠ”ì§€ë§Œ í™•ì¸</div>
                                </div>
                            </label>
                            <label style="display: flex; align-items: center; margin-bottom: 10px; cursor: pointer;">
                                <input type="radio" name="privacy" value="2" style="margin-right: 10px;">
                                <div>
                                    <div style="font-weight: 500;">ë ˆë²¨ 2: ì œëª©ê³¼ ë³¸ë¬¸ê¹Œì§€</div>
                                    <div style="font-size: 0.85rem; color: #666;">ì„¤êµ ì œëª©ê³¼ ë³¸ë¬¸ êµ¬ì ˆ ê³µê°œ</div>
                                </div>
                            </label>
                            <label style="display: flex; align-items: center; cursor: pointer;">
                                <input type="radio" name="privacy" value="3" style="margin-right: 10px;">
                                <div>
                                    <div style="font-weight: 500;">ë ˆë²¨ 3: ì „ì²´ ë‚´ìš©</div>
                                    <div style="font-size: 0.85rem; color: #666;">ë ˆë§ˆ, ìˆœì¢…, ê°ì‚¬ê¹Œì§€ ëª¨ë‘ ê³µê°œ</div>
                                </div>
                            </label>
                        </div>
                    </div>
                    
                    <button onclick="saveProfileSetup()" style="width: 100%; background: var(--navy); color: white; 
                        border: none; padding: 15px; border-radius: 12px; font-size: 1.1rem; font-weight: 600; cursor: pointer;">
                        ì‹œì‘í•˜ê¸°
                    </button>
                </div>
            </div>
        `;
        
        document.body.insertAdjacentHTML('beforeend', setupHTML);
    }

    async function saveProfileSetup() {
        const name = document.getElementById('setup-name').value.trim();
        const mokjang = document.getElementById('setup-mokjang').value;
        const privacyLevel = parseInt(document.querySelector('input[name="privacy"]:checked').value);
        
        if (!name) {
            alert('ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”.');
            return;
        }
        
        if (!mokjang) {
            alert('ëª©ì¥ì„ ì„ íƒí•˜ì„¸ìš”.');
            return;
        }
        
        try {
            await saveUserProfile({
                name: name,
                mokjang: mokjang,
                privacyLevel: privacyLevel,
                role: 'member', // member, mokja, pastor
                streak: 0,
                createdAt: firebase.firestore.FieldValue.serverTimestamp()
            });
            
            // ì„¤ì • í™”ë©´ ì œê±°
            const setupScreen = document.getElementById('profile-setup');
            if (setupScreen) setupScreen.remove();
            
            alert('í”„ë¡œí•„ ì„¤ì •ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!');
            
        } catch (error) {
            alert('í”„ë¡œí•„ ì €ì¥ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤: ' + error.message);
        }
    }

    function showSettings() {
        // ì„¤ì • í™”ë©´ í‘œì‹œ (í”„ë¡œí•„ ìˆ˜ì • ê°€ëŠ¥)
        if (userProfile) {
            // ê¸°ì¡´ í”„ë¡œí•„ë¡œ ì„¤ì • í™”ë©´ ì—´ê¸°
            showProfileSetup(currentUser);
            
            // ê¸°ì¡´ ê°’ìœ¼ë¡œ ì±„ìš°ê¸°
            setTimeout(() => {
                document.getElementById('setup-name').value = userProfile.name || '';
                document.getElementById('setup-mokjang').value = userProfile.mokjang || '';
                document.querySelector(`input[name="privacy"][value="${userProfile.privacyLevel || 1}"]`).checked = true;
            }, 100);
        }
        
        // ë©”ë‰´ ë‹«ê¸°
        const menu = document.getElementById('profile-menu');
        if (menu) menu.remove();
    }

    // ============================================
    // ëª©ì¥ í˜„í™©íŒ (Phase 2)
    // ============================================
    
    async function loadMokjangStatus() {
        if (!userProfile || !userProfile.mokjang) {
            console.log('âš ï¸ ëª©ì¥ ì •ë³´ ì—†ìŒ');
            return;
        }
        
        try {
            // ê°™ì€ ëª©ì¥ì˜ ëª¨ë“  ì‚¬ìš©ì ê°€ì ¸ì˜¤ê¸°
            const usersSnapshot = await db.collection('users')
                .where('mokjang', '==', userProfile.mokjang)
                .get();
            
            const members = [];
            usersSnapshot.forEach(doc => {
                members.push({ uid: doc.id, ...doc.data() });
            });
            
            // ìµœê·¼ 7ì¼ ì´ë‚´ì˜ ì¼ì§€ ê°€ì ¸ì˜¤ê¸° (ì´ë²ˆ ì£¼)
            const oneWeekAgo = new Date();
            oneWeekAgo.setDate(oneWeekAgo.getDate() - 7);
            
            const journalsSnapshot = await db.collection('journals')
                .where('mokjang', '==', userProfile.mokjang)
                .where('createdAt', '>=', oneWeekAgo)
                .get();
            
            const journalsByUser = {};
            journalsSnapshot.forEach(doc => {
                const data = doc.data();
                if (!journalsByUser[data.userId]) {
                    journalsByUser[data.userId] = [];
                }
                journalsByUser[data.userId].push(data);
            });
            
            // ëª©ì¥ í˜„í™© ë Œë”ë§
            renderMokjangStatus(members, journalsByUser);
            
        } catch (error) {
            console.error('âŒ ëª©ì¥ í˜„í™© ë¡œë“œ ì‹¤íŒ¨:', error);
        }
    }
    
    function renderMokjangStatus(members, journalsByUser) {
        // ëª©ì¥ ì´ë¦„ í‘œì‹œ
        const mokjangNames = {
            'mokjang1': 'ì•„ë¸Œë¼í•¨ ëª©ì¥',
            'mokjang2': 'ëª¨ì„¸ ëª©ì¥',
            'mokjang3': 'ë‹¤ìœ— ëª©ì¥'
        };
        
        const mokjangNameEl = document.getElementById('mokjangDisplayName');
        if (mokjangNameEl) {
            mokjangNameEl.textContent = mokjangNames[userProfile.mokjang] || userProfile.mokjang;
        }
        
        // ì´ë²ˆ ì£¼ ë¬µìƒ ì™„ë£Œ ì¸ì› ê³„ì‚°
        const completedCount = Object.keys(journalsByUser).length;
        const totalCount = members.length;
        
        document.getElementById('mokjangCompleted').textContent = completedCount;
        document.getElementById('mokjangTotal').textContent = totalCount;
        
        // ë©¤ë²„ ë¦¬ìŠ¤íŠ¸ ë Œë”ë§
        const membersList = document.getElementById('mokjang-members-list');
        if (membersList) {
            // ì—°ì† ë¬µìƒì¼ ìˆœìœ¼ë¡œ ì •ë ¬
            members.sort((a, b) => (b.streak || 0) - (a.streak || 0));
            
            let html = '<div style="display:flex; flex-direction:column; gap:10px;">';
            
            members.forEach((member, index) => {
                const hasJournal = journalsByUser[member.uid] && journalsByUser[member.uid].length > 0;
                const streak = member.streak || 0;
                const isMokja = member.role === 'mokja';
                
                // ë±ƒì§€
                let badge = '';
                if (streak >= 21) badge = 'ğŸ‘‘';
                else if (streak >= 14) badge = 'ğŸ†';
                else if (streak >= 7) badge = 'â­';
                else if (streak >= 3) badge = 'âœ¨';
                
                html += `
                    <div style="display:flex; justify-content:space-between; align-items:center; 
                         padding:12px; background:${hasJournal ? '#E8F5E9' : '#FFF3E0'}; 
                         border-radius:8px; border-left:4px solid ${hasJournal ? '#4CAF50' : '#FF9800'};">
                        <div style="display:flex; align-items:center; gap:10px;">
                            ${hasJournal ? 'âœ…' : 'âš ï¸'}
                            <div>
                                <div style="font-weight:600; color:#333;">
                                    ${member.name || 'ì´ë¦„ ì—†ìŒ'} ${isMokja ? '(ëª©ì)' : ''}
                                </div>
                                <div style="font-size:0.85rem; color:#666;">
                                    ${streak}ì¼ ì—°ì† ${badge}
                                </div>
                            </div>
                        </div>
                        <div style="text-align:right; font-size:0.85rem; color:#666;">
                            ${hasJournal ? 'ì´ë²ˆ ì£¼ ë¬µìƒí•¨' : 'ì•„ì§ ë¬µìƒ ì•ˆ í•¨'}
                        </div>
                    </div>
                `;
            });
            
            html += '</div>';
            membersList.innerHTML = html;
        }
        
        // ì—°ì† ë¬µìƒ ìˆœìœ„
        const rankingEl = document.getElementById('mokjang-streak-ranking');
        if (rankingEl && members.length > 0) {
            let rankHtml = '<div style="display:flex; flex-direction:column; gap:8px;">';
            
            members.slice(0, 5).forEach((member, index) => {
                const medals = ['ğŸ¥‡', 'ğŸ¥ˆ', 'ğŸ¥‰', '4ï¸âƒ£', '5ï¸âƒ£'];
                rankHtml += `
                    <div style="display:flex; justify-content:space-between; align-items:center; padding:8px;">
                        <div style="display:flex; align-items:center; gap:8px;">
                            <span style="font-size:1.2rem;">${medals[index]}</span>
                            <span style="font-weight:500;">${member.name || 'ì´ë¦„ ì—†ìŒ'}</span>
                        </div>
                        <span style="font-weight:600; color:var(--navy);">${member.streak || 0}ì¼ ì—°ì†</span>
                    </div>
                `;
            });
            
            rankHtml += '</div>';
            rankingEl.innerHTML = rankHtml;
        }
        
        // ëª©ì¥ ì½˜í…ì¸  í‘œì‹œ
        const mokjangContent = document.getElementById('mokjang-content');
        if (mokjangContent) mokjangContent.style.display = 'block';
        
        const mokjangNotSetup = document.getElementById('mokjang-not-setup');
        if (mokjangNotSetup) mokjangNotSetup.style.display = 'none';
    }
    
    // ============================================
    // ëŒ€í‘œëª©ì‚¬ ëŒ€ì‹œë³´ë“œ (Phase 3)
    // ============================================
    
    async function loadPastorDashboard() {
        if (!userProfile || userProfile.role !== 'pastor') {
            return;
        }
        
        try {
            // ì „ì²´ ì‚¬ìš©ì ìˆ˜
            const usersSnapshot = await db.collection('users').get();
            const totalUsers = usersSnapshot.size;
            
            // ìµœê·¼ 7ì¼ ì¼ì§€ ìˆ˜
            const oneWeekAgo = new Date();
            oneWeekAgo.setDate(oneWeekAgo.getDate() - 7);
            
            const recentJournalsSnapshot = await db.collection('journals')
                .where('createdAt', '>=', oneWeekAgo)
                .get();
            
            const uniqueUsers = new Set();
            recentJournalsSnapshot.forEach(doc => {
                uniqueUsers.add(doc.data().userId);
            });
            
            const weeklyParticipation = uniqueUsers.size;
            const participationRate = totalUsers > 0 ? Math.round((weeklyParticipation / totalUsers) * 100) : 0;
            
            // ëª©ì¥ë³„ í†µê³„
            const mokjangStats = {};
            usersSnapshot.forEach(doc => {
                const data = doc.data();
                if (data.mokjang) {
                    if (!mokjangStats[data.mokjang]) {
                        mokjangStats[data.mokjang] = { total: 0, active: 0 };
                    }
                    mokjangStats[data.mokjang].total++;
                    if (uniqueUsers.has(doc.id)) {
                        mokjangStats[data.mokjang].active++;
                    }
                }
            });
            
            // ëŒ€ì‹œë³´ë“œ ë Œë”ë§
            renderPastorDashboard({
                totalUsers,
                weeklyParticipation,
                participationRate,
                mokjangStats
            });
            
        } catch (error) {
            console.error('âŒ ëŒ€ì‹œë³´ë“œ ë¡œë“œ ì‹¤íŒ¨:', error);
        }
    }
    
    function renderPastorDashboard(stats) {
        // ëª©ì¥ íƒ­ì— ëŒ€í‘œëª©ì‚¬ ì „ìš© ì„¹ì…˜ ì¶”ê°€
        const mokjangTab = document.getElementById('tab-mokjang');
        if (!mokjangTab) return;
        
        // ê¸°ì¡´ ëŒ€ì‹œë³´ë“œ ì œê±°
        const existingDashboard = document.getElementById('pastor-dashboard');
        if (existingDashboard) existingDashboard.remove();
        
        const mokjangNames = {
            'mokjang1': 'ì•„ë¸Œë¼í•¨ ëª©ì¥',
            'mokjang2': 'ëª¨ì„¸ ëª©ì¥',
            'mokjang3': 'ë‹¤ìœ— ëª©ì¥'
        };
        
        const dashboardHTML = `
            <div id="pastor-dashboard" style="margin-top:20px;">
                <!-- ì „ì²´ í˜„í™© -->
                <div class="card" style="background:linear-gradient(135deg, #1F4788, #152E5A); color:white;">
                    <h2 style="margin-bottom:15px; font-size:1.3rem;">ğŸ“Š ì „ì²´ êµíšŒ ì˜ì  í˜„í™©</h2>
                    
                    <div style="display:grid; grid-template-columns:1fr 1fr; gap:15px; margin-top:15px;">
                        <div style="background:rgba(255,255,255,0.1); padding:15px; border-radius:8px; text-align:center;">
                            <div style="font-size:2rem; font-weight:700; margin-bottom:5px;">${stats.totalUsers}</div>
                            <div style="font-size:0.9rem; opacity:0.9;">ì´ ì„±ë„</div>
                        </div>
                        <div style="background:rgba(255,255,255,0.1); padding:15px; border-radius:8px; text-align:center;">
                            <div style="font-size:2rem; font-weight:700; margin-bottom:5px; color:#4CAF50;">${stats.participationRate}%</div>
                            <div style="font-size:0.9rem; opacity:0.9;">ì´ë²ˆ ì£¼ ì°¸ì—¬ìœ¨</div>
                        </div>
                    </div>
                    
                    <div style="margin-top:15px; padding:12px; background:rgba(255,255,255,0.1); border-radius:8px;">
                        <div style="font-size:0.9rem; opacity:0.9; margin-bottom:5px;">ì´ë²ˆ ì£¼ ë¬µìƒ</div>
                        <div style="font-size:1.5rem; font-weight:700;">${stats.weeklyParticipation} / ${stats.totalUsers} ëª…</div>
                    </div>
                </div>
                
                <!-- ëª©ì¥ë³„ í˜„í™© -->
                <div class="card">
                    <h3 style="color:var(--navy); margin-bottom:15px;">ğŸ  ëª©ì¥ë³„ í˜„í™©</h3>
                    <div style="display:flex; flex-direction:column; gap:12px;">
                        ${Object.entries(stats.mokjangStats).map(([mokjangId, data]) => {
                            const rate = data.total > 0 ? Math.round((data.active / data.total) * 100) : 0;
                            return `
                                <div style="padding:12px; background:#f8f9fa; border-radius:8px;">
                                    <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:8px;">
                                        <span style="font-weight:600;">${mokjangNames[mokjangId] || mokjangId}</span>
                                        <span style="font-weight:700; color:var(--navy);">${rate}%</span>
                                    </div>
                                    <div style="display:flex; justify-content:space-between; font-size:0.85rem; color:#666;">
                                        <span>${data.active}/${data.total}ëª… ì°¸ì—¬</span>
                                    </div>
                                    <div style="margin-top:8px; height:8px; background:#e0e0e0; border-radius:4px; overflow:hidden;">
                                        <div style="height:100%; background:var(--navy); width:${rate}%; transition:width 0.3s;"></div>
                                    </div>
                                </div>
                            `;
                        }).join('')}
                    </div>
                </div>
                
                <!-- ê²©ë ¤ í•„ìš”í•œ ì„±ë„ -->
                <div class="card">
                    <h3 style="color:var(--navy); margin-bottom:10px;">âš ï¸ ê´€ì‹¬ í•„ìš”</h3>
                    <p style="font-size:0.9rem; color:#666;">2ì£¼ ì´ìƒ ë¬µìƒí•˜ì§€ ì•Šì€ ì„±ë„ë“¤ì„ ìœ„í•´ ê¸°ë„í•´ì£¼ì„¸ìš”.</p>
                    <div id="pastor-alerts" style="margin-top:12px; font-size:0.9rem; color:#666;">
                        ì¡°íšŒ ì¤‘...
                    </div>
                </div>
            </div>
        `;
        
        mokjangTab.insertAdjacentHTML('beforeend', dashboardHTML);
    }
    
    // ============================================
    // íƒ­ ì „í™˜ ì‹œ ë°ì´í„° ë¡œë“œ
    // ============================================
    
    const originalSwitchTab = window.switchTab;
    window.switchTab = function(tabName, elem) {
        // ê¸°ì¡´ íƒ­ ì „í™˜ í•¨ìˆ˜ í˜¸ì¶œ
        if (originalSwitchTab) {
            originalSwitchTab(tabName, elem);
        }
        
        // ëª©ì¥ íƒ­ìœ¼ë¡œ ì „í™˜ ì‹œ ë°ì´í„° ë¡œë“œ
        if (tabName === 'mokjang' && userProfile) {
            if (userProfile.role === 'pastor') {
                loadPastorDashboard();
            } else {
                loadMokjangStatus();
            }
        }
    };

});

    </script>
</body>
</html>
